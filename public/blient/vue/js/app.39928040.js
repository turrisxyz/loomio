(function(e){function t(t){for(var o,a,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},i=[];function a(e){return s.p+"../../blient/vue/js/"+({}[e]||e)+"."+{"chunk-00ec8522":"c3507260","chunk-00ef7c01":"d72d2b91","chunk-0131998c":"f7665948","chunk-023768b3":"45767337","chunk-0447d630":"a8b0d7c2","chunk-04ced163":"4fbffe1d","chunk-0571ace5":"09e521a5","chunk-05af1f0b":"b0851c7f","chunk-095f0fc2":"4136626b","chunk-0b61a7a5":"493fe3c7","chunk-0b654864":"1964645e","chunk-0c01cc9b":"636708cd","chunk-0e9f771a":"0c0131a4","chunk-10d08302":"405eaf03","chunk-10d0e3f6":"34b75f61","chunk-10d0f64f":"bd1ccf8c","chunk-10d12349":"22df4ff0","chunk-10d134fa":"f485b889","chunk-10d15c56":"33bbd19c","chunk-10d16799":"10466ebf","chunk-10d16d48":"bab2c37d","chunk-10d19c50":"da8a44b5","chunk-10d1a13a":"ebfcd01b","chunk-10d1ab22":"a90059d6","chunk-10d1acf9":"a83d216e","chunk-10d1d453":"778bf9a9","chunk-10d1d883":"af80d074","chunk-10d1d9d3":"cb6650a2","chunk-10d1dc10":"775e68f3","chunk-10d1e125":"b8afc91c","chunk-10d21bc4":"28dcbdee","chunk-10d2650a":"73923b15","chunk-10d284b1":"ab06dec5","chunk-10d29218":"433db96f","chunk-10d293d6":"b428da86","chunk-10d2b56d":"a5929bcb","chunk-10d2b99c":"93864bf4","chunk-10d2bb02":"d1967c82","chunk-10d2c607":"e2ec2fd1","chunk-10d325b4":"194db200","chunk-10d329ac":"5ba46769","chunk-10d33aff":"493c122a","chunk-10d33c1c":"07ad066c","chunk-10d34db4":"0c81e90d","chunk-10d34dca":"f3d32c7a","chunk-10d3bcb6":"7ad7f5c9","chunk-10d3e21f":"8b5a731e","chunk-10d4128d":"af13a557","chunk-10d41be2":"d9d6737b","chunk-10d42f04":"2a9a72be","chunk-10d43053":"af09ddad","chunk-10d451c7":"a28a1adb","chunk-10d45f95":"c434ed1a","chunk-10d46185":"ffeb1411","chunk-10d4ca63":"6bf7e4e4","chunk-10d4ce22":"a16ca733","chunk-10e64879":"5bac4d86","chunk-10e655dd":"eeaf419f","chunk-10e6bd08":"1c93f6f5","chunk-10e6c4e8":"56457f1a","chunk-10e6cc65":"7d6255a1","chunk-10e6ccd5":"fd4193f7","chunk-10e6d098":"694c2c87","chunk-10e6d21e":"ea87eb23","chunk-10e6fb41":"1b2f6a7f","chunk-10e702bb":"362a7272","chunk-10e709e9":"a706158e","chunk-10e72fd0":"6698e2f3","chunk-10e73b06":"89a08cd6","chunk-10e73b50":"1dbf0f99","chunk-10e744c4":"608dfc15","chunk-10e7714a":"02051f2a","chunk-10e778d5":"419c23cf","chunk-10e7b593":"e70dc815","chunk-10e7defb":"6b190fec","chunk-10e82977":"edf0d0a0","chunk-10e82cdb":"c81d06a2","chunk-10e8312a":"aa9bd100","chunk-10e83308":"6a8faa83","chunk-10e836b6":"67d9a355","chunk-10e88b0e":"bf32a8e8","chunk-10e89236":"f84f8464","chunk-10e895a6":"156a5de9","chunk-10e89683":"ae5c0438","chunk-10e89a82":"a0221c5f","chunk-10e89b96":"bb2285c6","chunk-10e8a737":"a4c7c4bc","chunk-10e8c76e":"bd3eb6ff","chunk-10e8d270":"d5a2fa56","chunk-10e8d424":"29738f17","chunk-10e94100":"97e2e199","chunk-13af2204":"a92af379","chunk-147bd488":"abd62795","chunk-14aa7983":"445f3814","chunk-178f4c9c":"8de00740","chunk-1b9603fa":"75f27592","chunk-1d755acf":"58588d82","chunk-1f4843ef":"c47075a8","chunk-20990ff3":"0676df3b","chunk-20df1f3a":"8f980feb","chunk-21347228":"9c178fdb","chunk-22aeb994":"cdec59a7","chunk-2332ed01":"df209e03","chunk-23365f0e":"774c45ae","chunk-238287c5":"54a44f68","chunk-23b14037":"f304ae74","chunk-23ce78ac":"2791bc5b","chunk-26c24dea":"d6746bb3","chunk-27438599":"a71b8289","chunk-29bb0452":"adf6d991","chunk-2d0a2cfd":"8b39fae1","chunk-2d0a3ebb":"d7d70c87","chunk-2d0a4f22":"5d702cf1","chunk-2d0a4f7b":"e28e2e6e","chunk-2d0a4f9f":"3c8aa7f3","chunk-2d0aa280":"d1890696","chunk-2d0aab74":"c2f15704","chunk-2d0ab146":"8b8a35cb","chunk-2d0ab28b":"35cccb19","chunk-2d0ab43e":"d2fd7404","chunk-2d0ab86e":"a1145e47","chunk-2d0ac3da":"5035658a","chunk-2d0ac5ad":"db2d0ddc","chunk-2d0ac930":"dbae1b76","chunk-2d0ae94a":"534b379d","chunk-2d0aecdb":"1fee90e3","chunk-2d0af488":"99ee1bfe","chunk-2d0af4ba":"ed169685","chunk-2d0af869":"080c096f","chunk-2d0af87c":"33316af4","chunk-2d0b169f":"89cf0c0e","chunk-2d0b2726":"a87f790f","chunk-2d0b2775":"f4421e3f","chunk-2d0b2793":"dc401307","chunk-2d0b287f":"6a5f0676","chunk-2d0b2938":"f1f2e159","chunk-2d0b2ce9":"c617d635","chunk-2d0b32b7":"b105fa6c","chunk-2d0b39d2":"dbfe9ae8","chunk-2d0b656b":"74885dfc","chunk-2d0b673c":"c6fbb342","chunk-2d0b6c4a":"bbfdfa38","chunk-2d0b6ebb":"1a41ad21","chunk-2d0b726e":"ce662acc","chunk-2d0b90b3":"c5eccd97","chunk-2d0b9422":"4ce4a1b3","chunk-2d0b955e":"f642df5d","chunk-2d0b97c4":"04a9f910","chunk-2d0b9978":"df49ad1e","chunk-2d0ba508":"7e03f055","chunk-2d0ba6d8":"a75ae0ab","chunk-2d0baa4c":"91cffdf9","chunk-2d0bd2b3":"aa3f440f","chunk-2d0bd7a9":"f0d8bbf8","chunk-2d0bda14":"ed897f21","chunk-2d0bdd3c":"5694ba90","chunk-2d0be0ad":"fa7e5213","chunk-2d0c0877":"6be9313a","chunk-2d0c08ee":"b0487cc0","chunk-2d0c1071":"66004d94","chunk-2d0c116b":"9c48854b","chunk-2d0c18eb":"6f06397c","chunk-2d0c1995":"a1bea828","chunk-2d0c1d54":"e6261237","chunk-2d0c1d5a":"f61d76d8","chunk-2d0c4fa9":"d4f78768","chunk-2d0c7392":"3b02dd8d","chunk-2d0c76f1":"2910281d","chunk-2d0c7a94":"7be08ce8","chunk-2d0c7ad0":"572c06fd","chunk-2d0c7b35":"79f803d9","chunk-2d0c7cde":"5c11e14c","chunk-2d0c8427":"e2d91db2","chunk-2d0c94fd":"04eee0ec","chunk-2d0c950b":"003a635f","chunk-2d0cba46":"a88b4984","chunk-2d0cbd20":"be271e91","chunk-2d0cc864":"27e010e2","chunk-2d0ccb9a":"3e96585d","chunk-2d0ccbb9":"1d4ed064","chunk-2d0ccbd6":"70bb5d07","chunk-2d0ccf1d":"c4062c96","chunk-2d0cef26":"e5b5e927","chunk-2d0cfc86":"ea5f89bf","chunk-2d0cffeb":"9b2d5f17","chunk-2d0d0004":"cd36f3d9","chunk-2d0d03aa":"1775e921","chunk-2d0d0662":"8bcfcce1","chunk-2d0d2f7f":"35f6c178","chunk-2d0d3324":"10b6c2df","chunk-2d0d34b6":"cf46c9ae","chunk-2d0d3751":"bdf0b5b8","chunk-2d0d3e26":"7ba1292e","chunk-2d0d67ae":"a4a2afec","chunk-2d0d67bf":"c401105f","chunk-2d0d67d3":"88a76855","chunk-2d0d6a96":"191c1a2a","chunk-2d0d6b8f":"74eeb692","chunk-2d0d6d07":"1a672532","chunk-2d0d6f6d":"fd8bb6e5","chunk-2d0d7312":"904a8ba9","chunk-2d0d7698":"cd62d5b8","chunk-2d0d79e7":"4e5a86cd","chunk-2d0d7a84":"816d9f82","chunk-2d0d8367":"0aa85d27","chunk-2d0da570":"ad3001f8","chunk-2d0db8a4":"dcb780be","chunk-2d0dd02f":"481fe36c","chunk-2d0ddbf2":"b253a551","chunk-2d0dddfb":"04557ba0","chunk-2d0de1ce":"1b120d64","chunk-2d0de2db":"e0f23d9a","chunk-2d0de715":"9da4094f","chunk-2d0de8e4":"cf74104e","chunk-2d0df047":"4a9cf1be","chunk-2d0e26aa":"3384b95b","chunk-2d0e2903":"549bb599","chunk-2d0e2c9a":"46fcc9e5","chunk-2d0e4569":"ae3f3f95","chunk-2d0e4c53":"d915699d","chunk-2d0e524f":"7a6fffb2","chunk-2d0e5bd1":"ef00203c","chunk-2d0e5da4":"e98f3a86","chunk-2d0e6172":"d5bd18b2","chunk-2d0e8881":"e84e38a1","chunk-2d0e88c1":"b285e458","chunk-2d0e8928":"3aeb5d22","chunk-2d0e9210":"e2d799dd","chunk-2d0e99c1":"0cd23460","chunk-2d0efd2e":"cd3a43f3","chunk-2d0f0083":"78fa44bd","chunk-2d0f0272":"0bb6797c","chunk-2d0f0c13":"6a725463","chunk-2d207ace":"27729fe8","chunk-2d207d74":"51331de4","chunk-2d2080f8":"9c8b31f5","chunk-2d208137":"6db245a7","chunk-2d2086c6":"7b04b932","chunk-2d208ca9":"5f316044","chunk-2d208fef":"3ed78deb","chunk-2d20903b":"5d0e9a2b","chunk-2d20953f":"9269240e","chunk-2d209b80":"8542cc8c","chunk-2d20e7ca":"4ebfe594","chunk-2d20eb4e":"3a907653","chunk-2d20ed92":"d64f0a98","chunk-2d20eda5":"febff4b9","chunk-2d20fb16":"0ec3ae90","chunk-2d2105b3":"ce57e466","chunk-2d2106aa":"eca569cb","chunk-2d210bd0":"90b9eeca","chunk-2d210c18":"eb4442a2","chunk-2d212ef7":"8f4572d8","chunk-2d212f1e":"ce05ccb0","chunk-2d213198":"e98e7b89","chunk-2d21367b":"7f516eb4","chunk-2d213c4b":"581a907b","chunk-2d213dde":"f511c4e8","chunk-2d215c38":"80aaa7d8","chunk-2d21607e":"22d8d34b","chunk-2d216241":"858ded51","chunk-2d21676c":"ee07e2a8","chunk-2d216ae9":"17feaf62","chunk-2d216f44":"d22821d4","chunk-2d21715b":"f56ffbe5","chunk-2d21768f":"c4ebefd4","chunk-2d217c1a":"9d924632","chunk-2d217c5d":"38e4dd20","chunk-2d217cc6":"7d5c8316","chunk-2d217dd3":"6a39008d","chunk-2d218417":"aada7405","chunk-2d21a9b8":"cb0ac9ac","chunk-2d21aeea":"6d5e79be","chunk-2d21d475":"15b92072","chunk-2d21e06f":"8fa0012c","chunk-2d21e5b6":"9af44f5e","chunk-2d21e78b":"5936daf8","chunk-2d21ed1c":"ea6e1152","chunk-2d21f4c9":"fae1307f","chunk-2d2213d9":"08848d30","chunk-2d221894":"c6804629","chunk-2d221de5":"9f4f5415","chunk-2d222567":"bbb237bf","chunk-2d22453e":"a2f91fa8","chunk-2d22498e":"9d7cdba7","chunk-2d224ac3":"7bc16f39","chunk-2d224cf2":"38dbe5cc","chunk-2d225d5c":"85630d24","chunk-2d225f69":"9e33bd81","chunk-2d226709":"9764da65","chunk-2d22675a":"8573df16","chunk-2d2267b5":"48b0af05","chunk-2d229217":"608d2f78","chunk-2d2297d4":"05e97ae3","chunk-2d229ba7":"37c94c2c","chunk-2d22a16b":"80d021e1","chunk-2d22a197":"d3563aad","chunk-2d22b922":"c025a7c8","chunk-2d22c316":"2d489ee6","chunk-2d22c351":"c47cf7e8","chunk-2d22c4ff":"7413db2a","chunk-2d22d3a4":"31e1e861","chunk-2d22d408":"a97be19f","chunk-2d22dacf":"72b8e94b","chunk-2d22dad1":"a2462c9c","chunk-2d22e166":"482bbffb","chunk-2d2302c7":"d2eceb42","chunk-2d230e76":"69d3f0a8","chunk-2d238616":"24713cae","chunk-2d238a27":"0a505078","chunk-2e13601c":"211622e1","chunk-2e1404fa":"593d56fe","chunk-2fca4290":"175ae793","chunk-2ff529f5":"f78d62ae","chunk-348483a8":"96dfc39b","chunk-353d1b53":"8ebd322e","chunk-3629f13b":"31039f02","chunk-36d7e388":"ec4a1ed1","chunk-38d07c84":"4447c787","chunk-39688dc2":"9742dedc","chunk-3e994275":"912f167c","chunk-3f8256fa":"83173ac4","chunk-406e486d":"83b763ca","chunk-40c99397":"a0dcb036","chunk-415806b0":"c54bac2d","chunk-424abad6":"ef007fe2","chunk-464f9ae0":"6e56dc68","chunk-4cfa5219":"da48965e","chunk-51984c34":"48b8041a","chunk-545befda":"db36acab","chunk-559514c9":"76477213","chunk-56eac12a":"673611bb","chunk-595db8c6":"b4722408","chunk-5ab23263":"451da48f","chunk-5c15558b":"4295db4d","chunk-5dbdbabd":"80d93aa5","chunk-61b31ccf":"44d18778","chunk-62076714":"33b9d186","chunk-6675125b":"75f166b7","chunk-674387b1":"f331eb19","chunk-6b2934d4":"30486708","chunk-6d552db2":"ca4ae3d8","chunk-6e0448d4":"3a5d5cc9","chunk-6f75e342":"1c534727","chunk-70d03f3f":"336708c8","chunk-7162f8a0":"eb710c86","chunk-7164a115":"f06a012f","chunk-72b064e0":"d4665a77","chunk-73d014e5":"c930819e","chunk-73e1d652":"b13687db","chunk-7482df95":"6bccedfd","chunk-74860705":"308cf38a","chunk-749ff9fd":"1635032b","chunk-77421975":"e2d087f4","chunk-77428042":"7077bd8c","chunk-7742f470":"5858d566","chunk-7742f6bb":"d6bcc5e9","chunk-7742fc0e":"86b5470a","chunk-774303ce":"a2d5fbff","chunk-774332f2":"c6bbaeb6","chunk-774335f6":"3aa12d46","chunk-77433671":"89e65877","chunk-77446431":"58c2c365","chunk-77448b9d":"f959a75a","chunk-77449742":"7b4c5d16","chunk-77449ca7":"3a32ff2d","chunk-7744a0c1":"5460682b","chunk-7744a47f":"44902706","chunk-7744a4ae":"5d0f6564","chunk-7744bc3c":"97d7be1b","chunk-7744d643":"317589ba","chunk-7744dc63":"1f98d2e5","chunk-7744de76":"0e869038","chunk-77450ad0":"01feb2b2","chunk-77450b02":"d86f8dd0","chunk-77450b7d":"fb0b894e","chunk-774518a6":"93503bcb","chunk-7745312a":"248f998d","chunk-77458540":"471e738d","chunk-7745b49c":"bd7e5fad","chunk-7745c2e3":"4efa96cd","chunk-7745ccce":"e9a1cc76","chunk-7745e95a":"1da42593","chunk-77461d87":"70f12db6","chunk-774621a7":"b8ea30e8","chunk-77462691":"383fffd2","chunk-77462939":"ce986896","chunk-77462cae":"767640d3","chunk-774633b3":"f7f2c479","chunk-7746d256":"a0432d5d","chunk-7746dd4b":"8efa4555","chunk-7746deea":"6ef631a6","chunk-7746df48":"88c7adb3","chunk-7746e08f":"b1b61df3","chunk-7746e10b":"076f9139","chunk-7746e518":"23d881d3","chunk-77585992":"5097c0ec","chunk-77586867":"e00b74b8","chunk-7758c67b":"7a299bf3","chunk-77590023":"03a79c92","chunk-77590655":"eb727809","chunk-77591557":"0c5f8b57","chunk-775936a1":"9040fbc0","chunk-77593e23":"ef58f7ae","chunk-775947e2":"c16b34cd","chunk-77594d65":"f90baea0","chunk-7759807f":"a72f8bdc","chunk-7759827e":"ae58cf95","chunk-77598736":"122a4f97","chunk-7759b4a0":"e5cd1069","chunk-7759b4d3":"eb66b31c","chunk-7759bcdc":"c746fa50","chunk-7759c7e4":"7c572e21","chunk-7759ef00":"40713cf1","chunk-7759f2ef":"75024c0c","chunk-7759fe0e":"cd733116","chunk-775a30eb":"8454e7a8","chunk-775a39e1":"171cb591","chunk-775a65cd":"0abef392","chunk-775aa6b3":"62a55ba3","chunk-775aacc0":"0187309d","chunk-775aae64":"7d091268","chunk-775ae4e3":"88d22451","chunk-775b4a1a":"0b9fb2c8","chunk-7944cc76":"1e6b40fe","chunk-7b043aeb":"1ced810d","chunk-7b0719c8":"509a897b","chunk-7b4c623b":"f5490b21","chunk-7c9922c0":"4e89399a","chunk-7d48b7d2":"6ab6aefb","chunk-81b89500":"3c337693","chunk-85f70136":"61b729f2","chunk-8a1eea74":"b60b3438","chunk-8d679888":"c8c1a34f","chunk-90aadb80":"27b89e45","chunk-92813d98":"eaa42027","chunk-b268bbc0":"21dadcab","chunk-b269afac":"d671cd92","chunk-b26a06a2":"15b6a29a","chunk-b26a0d9c":"00de0ef8","chunk-b26a0e94":"9a83deab","chunk-b26a4006":"7d89ca8d","chunk-b26a42aa":"acbcb95c","chunk-b26aa0e2":"9ffdd4ab","chunk-b26aafa2":"aff80898","chunk-b26aef5c":"ab214a9a","chunk-b26af982":"6c7ffcde","chunk-b26b1864":"a32e9cc5","chunk-b26b823e":"2d9443dc","chunk-b26b857a":"8f614812","chunk-b26c2080":"319a0b71","chunk-b26c575e":"a9c15e3d","chunk-b26c65de":"818e7c13","chunk-b26c712a":"afee654a","chunk-b26c7312":"ecc35341","chunk-b26cd374":"fb1c1288","chunk-b26ce964":"57f2f4d7","chunk-b26d1004":"a147607c","chunk-b26db916":"cd471891","chunk-b26dc73a":"bbcb81c4","chunk-b26dcae0":"f4bdd554","chunk-b26dcbf2":"6f00875d","chunk-b26dd9ca":"a2038965","chunk-b26df0e4":"d0820233","chunk-b26ed98c":"552d87de","chunk-b26ee102":"40ace5d9","chunk-b29286a6":"327da841","chunk-b2929cf6":"33fc2692","chunk-b29318b0":"d75195f9","chunk-b2933392":"78faa66f","chunk-b29390d2":"d28c6088","chunk-b293e518":"ec69f32c","chunk-b29414d6":"dcca5532","chunk-b2946648":"692dae0a","chunk-b2946798":"a05753da","chunk-b294c970":"7fffaa9a","chunk-b29552e4":"fd2fc9a4","chunk-b29557c6":"95c703f5","chunk-b29571c6":"a6712089","chunk-b295aaae":"cd986e92","chunk-b295b8de":"00f26b32","chunk-b295b944":"76c903d9","chunk-b295cb5e":"b3abf9e1","chunk-b296abce":"50d05def","chunk-b296ac60":"f10d557d","chunk-b296bc5c":"a76f58e8","chunk-b296c42a":"ac85528a","chunk-b297261c":"b5d5565d","chunk-b29737ec":"11695faa","chunk-b2978e90":"3bc175ae","chunk-b2981dc2":"683aa575","chunk-b2982420":"4d0cc451","chunk-b29893ca":"a33cf0de","chunk-b298f9e4":"26472c96","chunk-b299155a":"73ef7f4d","chunk-b2996114":"58f93a8c","chunk-b2996dc6":"fd7112ca","chunk-b2998960":"d17c6232","chunk-b2999560":"8095c079","chunk-b299cbbc":"8404454d","chunk-b29a450e":"3f6fe8fe","chunk-b29a5e26":"5ff36cd7","chunk-b29a5f22":"ea461162","chunk-b29a6dfc":"463f8bbb","chunk-b29b481a":"67a92ce3","chunk-c256742a":"cd35128c","chunk-c693b6c6":"3cf3eedc","chunk-c6e5b394":"9efd0f81","chunk-c8cae3fa":"59aabfe1","chunk-c962f3ea":"c5a3aae3","chunk-ce39bc64":"2b797122","chunk-d254dca8":"591ed3e2","chunk-d3a8b840":"db96c948","chunk-d79868a6":"9b78f195","chunk-e5580a14":"d7c90852","chunk-e971bdba":"3322f082","chunk-ea05cfa6":"5eea738e","chunk-ebbf6f7e":"52bf42e6","chunk-ecf3e46c":"dbefec69","chunk-ee63e360":"ca137e56","chunk-fa428728":"9f68158b"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=a(e);var l=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;i.push(["1430","chunk-vendors"]),n()})({0:function(e,t){},"0018":function(e,t,n){},"02c8":function(e,t,n){},"034b":function(e,t,n){},"03bf":function(e,t,n){},"04cc":function(e,t,n){"use strict";var o=n("9953"),r=n("66ef"),i=n("17b9"),a=n("44e4");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}t["a"]=new(function(){function e(){s(this,e)}return l(e,[{key:"actions",value:function(e,t){return{move_event:{name:"action_dock.move_item",perform:function(){return e.discussion().forkedEventIds.push(e.id)},canPerform:function(){return!e.model().discardedAt&&o["a"].canMoveThread(e.discussion())}},remove_event:{perform:function(){return e.removeFromThread().then((function(){return r["a"].success("thread_item.event_removed")}))},canPerform:function(){return!e.model().discardedAt&&"discussion_edited"===e.kind&&o["a"].canAdminister(e.discussion())}},pin_event:{name:"common.action.pin",icon:"mdi-pin-outline",canPerform:function(){return!e.model().discardedAt&&o["a"].canPinEvent(e)},perform:function(){return Object(i["a"])({component:"PinEventForm",props:{event:e}})}},unpin_event:{name:"common.action.unpin",icon:"mdi-pin-off",canPerform:function(){return!e.model().discardedAt&&o["a"].canUnpinEvent(e)},perform:function(){return e.unpin().then((function(){return r["a"].success("activity_card.event_unpinned")}))}},copy_url:{icon:"mdi-link",canPerform:function(){return!e.model().discardedAt},perform:function(){var n;return n=a["a"].event(e,{},{absolute:!0}),t.$copyText(n).then((function(e){return r["a"].success("action_dock.url_copied")}))}}}}}]),e}())},"05a5":function(e,t,n){},"065c":function(e,t,n){},"06dc":function(e,t,n){"use strict";n("fa1f")},"0831":function(e,t,n){"use strict";n("b1b0")},"0998":function(e,t,n){"use strict";var o,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"recipients-autocomplete"},[n("v-autocomplete",{staticClass:"announcement-form__input",attrs:{multiple:"","return-object":"","auto-select-first":"","hide-selected":"","search-input":e.query,"item-text":"name","hide-no-data":e.recipients.length>0||e.loading,loading:e.loading,label:e.label,placeholder:e.placeholder,items:e.suggestions},on:{change:function(t){e.query=null},"update:searchInput":function(t){e.query=t},"update:search-input":function(t){e.query=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[n("v-list-item",[n("v-list-item-icon",[e.query?e._e():n("v-icon",[e._v("mdi-account-search")]),e.query?n("v-icon",[e._v("mdi-information-outline")]):e._e()],1),n("v-list-item-content",[n("v-list-item-title",[e.query?n("span",{directives:[{name:"t",rawName:"v-t",value:"common.no_results_found",expression:"'common.no_results_found'"}]}):n("span",[e.canAddGuests?n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.search_by_name_or_email",expression:"'announcement.search_by_name_or_email'"}]}):e._e(),e.canAddGuests?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.search_by_name",expression:"'announcement.search_by_name'"}]})])]),n("v-list-item-subtitle",[e.canAddGuests||e.canNotifyGroup?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.only_admins_can_announce_or_invite",expression:"'announcement.only_admins_can_announce_or_invite'"}]}),!e.canAddGuests&&e.canNotifyGroup?n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.only_admins_can_invite",expression:"'announcement.only_admins_can_invite'"}]}):e._e(),e.canAddGuests&&!e.canNotifyGroup?n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.only_admins_can_announce",expression:"'announcement.only_admins_can_announce'"}]}):e._e()])],1)],1)]},proxy:!0},{key:"selection",fn:function(t){return["audience"==t.item.type?n("v-chip",{staticClass:"chip--select-multi",attrs:{value:t.selected,close:"",color:"accent"},on:{"click:close":function(n){return e.remove(t.item)},click:function(n){return e.expand(t.item)}}},[n("span",[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(t.item.icon))])],1),n("span",[e._v(e._s(t.item.name))])]):n("v-chip",{staticClass:"chip--select-multi",attrs:{value:t.selected,close:"",outlined:"",color:"accent"},on:{"click:close":function(n){return e.remove(t.item)}}},[n("span",["user"==t.item.type?n("user-avatar",{staticClass:"mr-1",attrs:{user:t.item.user,size:"small","no-link":""}}):n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(t.item.icon))])],1),n("span",[e._v(e._s(t.item.name))]),"user"==t.item.type&&e.currentUserId==t.item.id?n("span",[n("space"),n("span",[e._v("("+e._s(e.$t("common.you"))+")")])],1):e._e()])]}},{key:"item",fn:function(t){return[n("v-list-item-avatar",["user"==t.item.type?n("user-avatar",{attrs:{user:t.item.user,size:"small","no-link":""}}):n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(e._s(t.item.icon))])],1),n("v-list-item-content",{staticClass:"announcement-chip__content"},[n("v-list-item-title",[n("span",[e._v(e._s(t.item.name))]),"user"==t.item.type&&e.currentUserId==t.item.id?n("span",[n("space"),n("span",[e._v("("+e._s(e.$t("common.you"))+")")])],1):e._e()])],1)]}}]),model:{value:e.recipients,callback:function(t){e.recipients=t},expression:"recipients"}}),n("notifications-count",{directives:[{name:"show",rawName:"v-show",value:e.recipients.length,expression:"recipients.length"}],attrs:{model:e.model,"exclude-members":e.excludeMembers,"include-actor":e.includeActor}})],1)},i=[],a=n("ceac"),s=n.n(a),c=n("2769"),l=n.n(c),u=n("a8fc"),d=n.n(u),p=n("eed6"),m=n.n(p),f=n("9380"),h=n.n(f),_=n("c228"),v=n.n(_),b=n("5add"),g=n.n(b),y=n("b047"),k=n.n(y),w=n("dd61"),x=n.n(w),C=(n("65c3"),n("cd6d")),O=n("6062"),j=n("9953");function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}o=function(){return O["a"].user()};var T=new(function(){function e(){S(this,e)}return P(e,[{key:"audiencesFor",value:function(e){var t;return t=[],e.discussion&&e.discussion().id&&e.discussion().membersCount&&(e.adminsInclude(o())||e.group().membersCanAnnounce&&e.membersInclude(o()),t.push("discussion_group")),e.poll&&e.poll().id&&e.poll().votersCount&&(e.adminsInclude(o())||e.group().membersCanAnnounce&&e.membersInclude(o()),t.push("voters")),e.poll&&e.poll().id&&e.poll().decidedVotersCount&&e.poll().undecidedVotersCount&&(e.adminsInclude(o())||e.group().membersCanAnnounce&&e.membersInclude(o()),t.push("decided_voters")),e.poll&&e.poll().id&&e.poll().decidedVotersCount&&e.poll().undecidedVotersCount&&(e.adminsInclude(o())||e.group().membersCanAnnounce&&e.membersInclude(o()),t.push("undecided_voters")),t}}]),e}()),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"common-notifications-count text--secondary caption"},[0==e.count?n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.form.notified_none",expression:"'announcement.form.notified_none'"}]}):e._e(),1==e.count?n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.form.notified_singular",expression:"'announcement.form.notified_singular'"}]}):e._e(),e.count>1?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"announcement.form.notified",args:{notified:e.count}},expression:"{path: 'announcement.form.notified', args: {notified: count}}"}]}):e._e(),n("space"),e.model.recipientAudience&&!e.model.anonymous?n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.form.click_group_to_see_individuals",expression:"'announcement.form.click_group_to_see_individuals'"}]}):e._e()],1)},R=[];function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={props:{model:Object,excludeMembers:Boolean,includeActor:Boolean},data:function(){return{count:0}},methods:{updateCount:function(){var e,t=this;return e=this.excludeMembers&&{exclude_members:1}||{},C["a"].remote.get("announcements/count",$($({recipient_emails_cmr:this.model.recipientEmails.join(","),recipient_user_xids:this.model.recipientUserIds.join("x"),recipient_usernames_cmr:[],recipient_audience:this.model.recipientAudience,include_actor:this.includeActor?1:null},this.model.bestNamedId()),e)).then((function(e){return t.count=e.count}))}},watch:{"model.recipientEmails":"updateCount","model.recipientUserIds":"updateCount","model.recipientAudience":"updateCount","model.groupId":"updateCount"}},M=E,D=n("2877"),L=n("6544"),F=n.n(L),q=n("cc56"),U=Object(D["a"])(M,A,R,!1,null,null,null),B=U.exports;function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}F()(U,{Space:q["a"]});var K={components:{NotificationsCount:B},props:{autofocus:Boolean,label:String,placeholder:String,hint:String,reset:Boolean,model:Object,existingOnly:Boolean,includeActor:Boolean,excludeMembers:Boolean,excludedAudiences:{type:Array,default:function(){return[]}},excludedUserIds:{type:Array,default:function(){return[]}},initialRecipients:{type:Array,default:function(){return[]}}},data:function(){return{query:"",suggestedUserIds:[],suggestions:[],recipients:[],loading:!1}},mounted:function(){return this.recipients=this.initialRecipients,this.fetchAndUpdateSuggestions()},watch:{"model.groupId":function(e){return this.suggestedUserIds=[],this.newRecipients(this.initialRecipients),this.fetchAndUpdateSuggestions()},reset:function(){return this.query="",this.recipients=this.initialRecipients,this.fetchAndUpdateSuggestions()},recipients:function(e){return this.newRecipients(e),this.$emit("new-recipients",e),this.updateSuggestions()},query:function(e){return this.$emit("new-query",e),this.fetchAndUpdateSuggestions()}},methods:{fetchSuggestions:k()((function(){var e,t=this;if(this.query)return e=this.existingOnly&&{existing_only:1}||{},this.loading=!0,C["a"].fetch({path:"announcements/search",params:H(H({exclude_types:"group inviter",q:this.query,per:20,include_actor:this.includeActor?1:null},e),this.model.bestNamedId())}).then((function(e){return t.suggestedUserIds=m()(t.suggestedUserIds.concat(e["users"].map((function(e){return e.id})))),t.updateSuggestions()})).finally((function(){return t.loading=!1}))}),500),fetchAndUpdateSuggestions:function(){return this.fetchSuggestions(),this.updateSuggestions()},newRecipients:function(e){return this.model.recipientAudience=(l()(e,(function(e){return"audience"===e.type}))||{}).id,this.model.recipientUserIds=x()(h()(e,(function(e){return"user"===e.type})),"id"),this.model.recipientEmails=x()(h()(e,(function(e){return"email"===e.type})),"name")},findUsers:function(){var e;return this.query?(e=C["a"].users.collection.chain(),e=e.find({id:{$in:s()(this.suggestedUserIds,this.excludedUserIds)}}),e=e.find({emailVerified:!0}),e=e.find({$or:[{name:{$regex:["^".concat(this.query),"i"]}},{username:{$regex:["^".concat(this.query),"i"]}},{name:{$regex:[" ".concat(this.query),"i"]}}]}),e.data()):[]},notificationsCount:function(){return sum(this.recipients.map((function(e){return e.size||1})))},expand:function(e){var t,n=this;return t=this.excludeMembers&&{exclude_members:1}||{},!this.model.anonymous&&C["a"].fetch({path:"announcements/audience",params:H(H({recipient_audience:e.id,include_actor:this.includeActor?1:null},t),this.model.bestNamedId())}).then((function(t){var o;return n.remove(e),o=(t["users"]||[]).map((function(e){return e.id})),n.suggestedUserIds=m()(n.suggestedUserIds.concat(o)),C["a"].users.find(o).forEach((function(e){return n.recipients.push({id:e.id,type:"user",name:e.nameOrEmail(),user:e})}))}))},remove:function(e){return this.recipients=h()(this.recipients,(function(t){return!(t.id===e.id&&t.type===e.type)}))},emailToRecipient:function(e){return{id:e,type:"email",icon:"mdi-email-outline",name:e}},updateSuggestions:function(){var e,t,n,o;if(this.query&&this.canAddGuests){if(t=m()(this.query.match(/[^\s:,;'"`<>]+?@[^\s:,;'"`<>]+\.[^\s:,;'"`<>]+/g)||[]),t.length>1||1===t.length&&[","," "].includes(this.query.slice(-1)))return o=d()(this.recipients.concat(t.map(this.emailToRecipient)),"id"),this.recipients=o,this.suggestions=o,void(this.query="");if(1===t.length)return void(this.suggestions=this.recipients.concat(t.map(this.emailToRecipient)))}return n=this.findUsers().map((function(e){return{id:e.id,type:"user",name:e.nameOrEmail(),user:e}})),e=this.audiences.map((function(e){return{id:e.id,type:"audience",icon:"mdi-account-group",name:e.name,size:e.size}})),this.suggestions=this.recipients.concat(e).concat(n)}},computed:{canAddGuests:function(){return j["a"].canAddGuests(this.model)},canNotifyGroup:function(){return j["a"].canAnnounce(this.model)},modelName:function(){return this.model.constructor.singular},audiences:function(){var e,t,n=this;return t=[],0===this.recipients.length&&(T.audiencesFor(this.model).forEach((function(e){switch(e){case"group":return t.push({id:"group",name:n.$t("announcement.audiences.group",{name:n.model.group().name}),size:n.model.group().acceptedMembershipsCount,icon:"mdi-account-group"});case"discussion_group":return t.push({id:"discussion_group",name:n.$t("announcement.audiences.discussion_group"),size:n.model.discussion().membersCount,icon:"mdi-forum"});case"voters":return t.push({id:"voters",name:n.$t("announcement.audiences.voters",{pollType:n.model.poll().translatedPollType()}),size:n.model.poll().votersCount,icon:"mdi-forum"});case"decided_voters":return t.push({id:"decided_voters",name:n.$t("announcement.audiences.decided_voters"),size:n.model.poll().decidedVotersCount,icon:"mdi-forum"});case"undecided_voters":return t.push({id:"undecided_voters",name:n.$t("announcement.audiences.undecided_voters"),size:n.model.poll().undecidedVotersCount,icon:"mdi-forum"})}})),this.excludedAudiences.includes("group")||(e=function(){switch(this.model.constructor.singular){case"poll":case"discussion":case"outcome":return v()([this.model.group(),this.model.group().parentId&&this.model.group().parent()].concat(g()(this.model.group().parentOrSelf().subgroups(),this.model.group())));default:return[]}}.call(this),e.filter(j["a"].canNotifyGroup).forEach((function(e){if(e.acceptedMembershipsCount)return t.push({id:"group-".concat(e.id),name:n.$t("announcement.audiences.group",{name:e.name}),size:e.acceptedMembershipsCount,icon:"mdi-forum"})})))),t.filter((function(e){return!n.excludedAudiences.includes(e.id)&&(n.query&&e.name.match(new RegExp(n.query,"i"))||!0)}))}}},W=K,Y=n("c450"),Q=n("c6a6"),Z=n("cc20"),J=n("132d"),X=n("da13"),ee=n("8270"),te=n("5d23"),ne=n("34c3"),oe=Object(D["a"])(W,r,i,!1,null,null,null);t["a"]=oe.exports;F()(oe,{Space:q["a"],UserAvatar:Y["a"],VAutocomplete:Q["a"],VChip:Z["a"],VIcon:J["a"],VListItem:X["a"],VListItemAvatar:ee["a"],VListItemContent:te["a"],VListItemIcon:ne["a"],VListItemSubtitle:te["b"],VListItemTitle:te["c"]})},"0bb5":function(e,t,n){"use strict";n("3c35")},"0d4b":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"caption v-label v-label--active theme--light",attrs:{"aria-hidden":"true"}},[e._v(e._s(e.label))]),n("div",{staticClass:"lmo-textarea pb-1"},["html"==e.format?n("collab-editor",{attrs:{model:e.model,field:e.field,placeholder:e.placeholder,maxLength:e.maxLength,autofocus:e.autofocus,shouldReset:e.shouldReset},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}}))],null,!0)}):e._e(),"md"==e.format?n("md-editor",{attrs:{model:e.model,field:e.field,placeholder:e.placeholder,maxLength:e.maxLength,autofocus:e.autofocus,shouldReset:e.shouldReset},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}}))],null,!0)}):e._e()],1)])},r=[],i=n("cd6d"),a=n("6062"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.files.length?n("div",{staticClass:"files-list"},e._l(e.files,(function(t){return n("v-card",{key:t.key,staticClass:"mt-3",attrs:{outlined:""}},[n("v-card-title",{staticClass:"files-list__item text--secondary"},[n("v-icon",{staticClass:"mr-2 files-list__icon"},[e._v("mdi-image")]),t.blob?n("a",{staticClass:"files-list__file-name",attrs:{href:t.blob.download_url,target:"_blank"}},[e._v(e._s(t.file.name))]):e._e(),t.blob?e._e():n("span",{staticClass:"files-list__file-name"},[e._v(e._s(t.file.name))]),t.blob?e._e():n("progress",{attrs:{max:"100"},domProps:{value:t.percentComplete}}),n("v-btn",{staticClass:"files-list__remove",attrs:{icon:""},on:{click:function(n){return e.$emit("removeFile",t.file.name)}}},[n("v-icon",[e._v("mdi-close")])],1)],1),t.blob&&t.blob.preview_url?n("p",[n("img",{attrs:{src:t.blob.preview_url}})]):e._e()],1)})),1):e._e()},c=[],l={props:{files:Array},methods:{progressStyle:function(e){return{"background-color":this.$vuetify.theme.accent,width:e+"%"}}}},u=l,d=(n("fe92"),n("2877")),p=n("6544"),m=n.n(p),f=n("8336"),h=n("b0af"),_=n("99d9"),v=n("132d"),b=Object(d["a"])(u,s,c,!1,null,null,null),g=b.exports;m()(b,{VBtn:f["a"],VCard:h["a"],VCardTitle:_["d"],VIcon:v["a"]});n("65c3");var y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.editor?n("div",{staticClass:"editor mb-3"},[n("editor-content",{ref:"editor",staticClass:"html-editor__textarea lmo-markdown-wrapper",attrs:{editor:e.editor}}),n("div",{staticClass:"menubar"},[n("div",[e.editor.isActive("table")?n("v-layout",{attrs:{"align-center":""}},[n("v-btn",{attrs:{icon:"",title:e.$t("formatting.remove_table")},on:{click:function(t){e.editor.chain().deleteTable().focus().run()}}},[n("v-icon",[e._v("mdi-table-remove")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.add_column_before")},on:{click:function(t){e.editor.chain().addColumnBefore().focus().run()}}},[n("v-icon",[e._v("mdi-table-column-plus-before")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.add_column_after")},on:{click:function(t){e.editor.chain().addColumnAfter().focus().run()}}},[n("v-icon",[e._v("mdi-table-column-plus-after")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.remove_column")},on:{click:function(t){e.editor.chain().deleteColumn().focus().run()}}},[n("v-icon",[e._v("mdi-table-column-remove")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.add_row_before")},on:{click:function(t){e.editor.chain().addRowBefore().focus().run()}}},[n("v-icon",[e._v("mdi-table-row-plus-before")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.add_row_after")},on:{click:function(t){e.editor.chain().addRowAfter().focus().run()}}},[n("v-icon",[e._v("mdi-table-row-plus-after")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.remove_row")},on:{click:function(t){e.editor.chain().deleteRow().focus().run()}}},[n("v-icon",[e._v("mdi-table-row-remove")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.merge_selected")},on:{click:function(t){e.editor.chain().mergeOrSplit().focus().run()}}},[n("v-icon",[e._v("mdi-table-merge-cells")])],1)],1):e._e(),n("v-layout",{staticClass:"py-2 justify-space-between flex-wrap",attrs:{"align-center":""}},[n("section",{staticClass:"d-flex flex-wrap",attrs:{"aria-label":e.$t("formatting.formatting_tools")}},[n("v-btn",{attrs:{icon:"",title:e.$t("formatting.attach")},on:{click:function(t){return e.$refs.filesField.click()}}},[n("v-icon",[e._v("mdi-paperclip")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.insert_image")},on:{click:function(t){return e.$refs.imagesField.click()}}},[n("v-icon",[e._v("mdi-image")])],1),n("v-menu",{attrs:{"close-on-content-click":!e.selectedText(),"min-width":"320px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[e.editor.isActive("link")?[n("v-btn",{attrs:{icon:"",outlined:"",title:e.$t("formatting.link")},on:{click:function(t){e.editor.chain().toggleLink().focus().run()}}},[n("v-icon",[e._v("mdi-link-variant")])],1)]:[n("v-btn",e._g(e._b({attrs:{icon:"",title:e.$t("formatting.link")}},"v-btn",r,!1),o),[n("v-icon",[e._v("mdi-link-variant")])],1)]]}}],null,!1,2580375060),model:{value:e.linkDialogIsOpen,callback:function(t){e.linkDialogIsOpen=t},expression:"linkDialogIsOpen"}},[n("v-card",[e.selectedText()?[n("v-card-title",{directives:[{name:"t",rawName:"v-t",value:"text_editor.insert_link",expression:"'text_editor.insert_link'"}],staticClass:"title"}),n("v-card-text",[n("v-text-field",{ref:"focus",attrs:{type:"url",label:"https://www.example.com",autofocus:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setLinkUrl()}},model:{value:e.linkUrl,callback:function(t){e.linkUrl=t},expression:"linkUrl"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.apply",expression:"'common.action.apply'"}],attrs:{color:"primary"},on:{click:function(t){return e.setLinkUrl()}}})],1)]:[n("v-card-title",{directives:[{name:"t",rawName:"v-t",value:"text_editor.select_text_to_link",expression:"'text_editor.select_text_to_link'"}]})]],2)],1),n("v-menu",{attrs:{"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"emoji-picker__toggle",attrs:{icon:"",title:e.$t("formatting.insert_emoji")}},"v-btn",r,!1),o),[n("v-icon",[e._v("mdi-emoticon-outline")])],1)]}}],null,!1,2775293983),model:{value:e.closeEmojiMenu,callback:function(t){e.closeEmojiMenu=t},expression:"closeEmojiMenu"}},[n("emoji-picker",{attrs:{insert:e.emojiPicked}})],1),e.expanded?[e._l(3,(function(t){return[n("v-btn",{attrs:{icon:"",outlined:e.editor.isActive("heading",{level:t}),title:e.$t("formatting.heading"+t)},on:{click:function(n){e.editor.chain().focus().toggleHeading({level:t}).run()}}},[n("v-icon",[e._v(e._s("mdi-format-header-"+t))])],1)]}))]:e._e(),e.expanded?n("v-btn",{attrs:{icon:"",outlined:e.editor.isActive("bold"),title:e.$t("formatting.bold")},on:{click:function(t){e.editor.chain().toggleBold().focus().run()}}},[n("v-icon",[e._v("mdi-format-bold")])],1):e._e(),e.expanded?n("v-btn",{attrs:{icon:"",outlined:e.editor.isActive("italic"),title:e.$t("formatting.italicize")},on:{click:function(t){e.editor.chain().toggleItalic().focus().run()}}},[n("v-icon",[e._v("mdi-format-italic")])],1):e._e(),e.expanded?n("v-btn",{attrs:{icon:"",outlined:e.editor.isActive("underline"),title:e.$t("formatting.underline")},on:{click:function(t){e.editor.chain().toggleUnderline().focus().run()}}},[n("v-icon",[e._v("mdi-format-underline")])],1):e._e(),e.expanded?n("text-highlight-btn",{attrs:{editor:e.editor}}):e._e(),e.expanded?n("text-align-btn",{attrs:{editor:e.editor}}):e._e(),e.expanded?n("v-btn",{attrs:{icon:"",outlined:e.editor.isActive("taskList"),title:e.$t("formatting.formatting.check_list")},on:{click:function(t){e.editor.chain().focus().toggleTaskList().run()}}},[n("v-icon",[e._v("mdi-format-list-checks")])],1):e._e(),e.expanded?n("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"pl-1 drop-down-button",attrs:{icon:"",outlined:e.editor.isActive("bulletList")||e.editor.isActive("orderedList"),title:e.$t("formatting.lists")}},"v-btn",r,!1),o),[n("v-icon",[e._v("mdi-format-list-bulleted")]),n("v-icon",{staticClass:"menu-down-arrow"},[e._v("mdi-menu-down")])],1)]}}],null,!1,3024622662)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{class:{"v-list-item--active":e.editor.isActive("bulletList")},on:{click:function(t){e.editor.chain().toggleBulletList().focus().run()}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-format-list-bulleted")])],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"formatting.bullet_list",expression:"'formatting.bullet_list'"}]})],1),n("v-list-item",{class:{"v-list-item--active":e.editor.isActive("orderedList")},on:{click:function(t){e.editor.chain().toggleOrderedList().focus().run()}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-format-list-numbered")])],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"formatting.number_list",expression:"'formatting.number_list'"}]})],1)],1)],1):e._e(),e.expanded?[n("v-menu",{attrs:{"close-on-content-click":!1,"min-width":"320px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{icon:"",title:e.$t("formatting.embed")}},o),[n("v-icon",[e._v("mdi-youtube")])],1)]}}],null,!1,2285127223),model:{value:e.iframeDialogIsOpen,callback:function(t){e.iframeDialogIsOpen=t},expression:"iframeDialogIsOpen"}},[n("v-card",[n("v-card-title",{directives:[{name:"t",rawName:"v-t",value:"text_editor.insert_embedded_url",expression:"'text_editor.insert_embedded_url'"}],staticClass:"title"}),n("v-card-text",[n("v-text-field",{ref:"focus",attrs:{type:"url",label:"e.g. https://www.youtube.com/watch?v=Zlzuqsunpxc",autofocus:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setIframeUrl()}},model:{value:e.iframeUrl,callback:function(t){e.iframeUrl=t},expression:"iframeUrl"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.apply",expression:"'common.action.apply'"}],attrs:{color:"primary"},on:{click:function(t){return e.setIframeUrl()}}})],1)],1)],1),n("v-btn",{attrs:{icon:"",outlined:e.editor.isActive("blockquote"),title:e.$t("formatting.blockquote")},on:{click:function(t){e.editor.chain().toggleBlockquote().focus().run()}}},[n("v-icon",[e._v("mdi-format-quote-close")])],1),n("v-btn",{attrs:{icon:"",outlined:e.editor.isActive("codeBlock"),title:e.$t("formatting.code_block")},on:{click:function(t){e.editor.chain().toggleCodeBlock().focus().run()}}},[n("v-icon",[e._v("mdi-code-braces")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.divider")},on:{click:function(t){e.editor.chain().setHorizontalRule().focus().run()}}},[n("v-icon",[e._v("mdi-minus")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.add_table"),outlined:e.editor.isActive("table")},on:{click:function(t){e.editor.chain().insertTable({rows:3,cols:3,withHeaderRow:!1}).focus().run()}}},[n("v-icon",[e._v("mdi-table")])],1),n("v-btn",{attrs:{icon:"",title:e.$t("formatting.edit_markdown")},on:{click:e.convertToMd}},[n("v-icon",[e._v("mdi-language-markdown-outline")])],1)]:e._e(),e.expanded?e._e():n("v-btn",{staticClass:"html-editor__expand",attrs:{icon:"",title:e.$t("formatting.expand")},on:{click:e.toggleExpanded}},[n("v-icon",[e._v("mdi-chevron-right")])],1),e.expanded?n("v-btn",{staticClass:"html-editor__expand",attrs:{icon:"",title:e.$t("formatting.collapse")},on:{click:e.toggleExpanded}},[n("v-icon",[e._v("mdi-chevron-left")])],1):e._e()],2),n("v-spacer"),e.expanded?e._e():e._t("actions")],2)],1)]),e.expanded?n("div",{staticClass:"d-flex",attrs:{name:"actions"}},[n("v-spacer"),e._t("actions")],2):e._e()],1):e._e(),n("link-previews",{attrs:{model:e.model,remove:e.removeLinkPreview}}),n("suggestion-list",{attrs:{query:e.query,loading:e.fetchingMentions,mentionable:e.mentionable,positionStyles:e.suggestionListStyles,navigatedUserIndex:e.navigatedUserIndex},on:{"select-user":e.selectUser}}),n("files-list",{attrs:{files:e.files},on:{removeFile:e.removeFile}}),n("form",{staticStyle:{display:"block"},on:{change:e.fileSelected}},[n("input",{ref:"filesField",attrs:{type:"file",name:"files",multiple:""}})]),n("form",{staticStyle:{display:"block"},on:{change:e.imageSelected}},[n("input",{ref:"imagesField",attrs:{type:"file",name:"files",multiple:""}})])],1)},k=[],w=n("a8fc"),x=n.n(w),C=n("1d32"),O=n.n(C),j=n("ceac"),S=n.n(j),I=n("0f32"),P=n.n(I),T=n("eed6"),A=n.n(T),R=n("c228"),V=n.n(R),$=n("7ae3"),N=n("899a");function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function D(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}var L=function(){function e(t){var n=t.onProgress;E(this,e),this.onProgress=n}return D(e,[{key:"upload",value:function(e){var t,n,o=this;return n="/direct_uploads",t=new N["DirectUpload"](e,n,{directUploadWillStoreFileWithXHR:function(e){return e.upload.addEventListener("progress",(function(e){if(e.lengthComputable)return o.onProgress(e)}))}}),new Promise((function(e,n){return t.create((function(t,o,r){return t?n(t):e(o)}))}))}}]),e}(),F=n("f4a7"),q=n("0e54"),U=n.n(q),B=n("7b57"),z=function(e,t){return U.a.setOptions(Object.assign({renderer:Object(B["a"])()},B["b"])),e["".concat(t,"Format")]="html",e[t]=U()(e[t]||"")},H=function(e,t){return n.e("chunk-23b14037").then(n.bind(null,"8baf")).then((function(n){var o;return o=n.default({headingStyle:"atx",hr:"---",codeBlockStyle:"fenced"}),o.addRule("mentions",{filter:"span",replacement:function(e,t,n){return"@"+t.getAttribute("data-mention-id")}}),e["".concat(t,"Format")]="md",e[t]=o.turndown(e[t]||"")}))},G=n("4674"),K=n("7eb1"),W=n("2718"),Y=n("64fe"),Q=(n("dce4"),n("7914"),n("4377")),Z=n("1037"),J=n("4325"),X=(n("14b4"),n("ed4b")),ee=n("9751"),te=n("bf38"),ne=n("77d4"),oe=n("2684"),re=n("3560"),ie=n("c088"),ae=n("7eea"),se=n("5924"),ce=(n("795d"),n("e3ff")),le=n("4976"),ue=n("a5c6"),de=n("82d4"),pe=n("0b6c"),me=n("0392"),fe=n("79bb");function he(e,t){return ye(e)||ge(e,t)||ve(e,t)||_e()}function _e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ve(e,t){if(e){if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ge(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){r=!0,i=c}finally{try{o||null==s["return"]||s["return"]()}finally{if(r)throw i}}return n}}function ye(e){if(Array.isArray(e))return e}var ke=fe["a"].extend({addAttributes:function(){return{uid:{default:Math.floor(9e7*Math.random()),parseHTML:function(e){return{uid:parseInt(e.getAttribute("data-uid"))}},renderHTML:function(e){return{"data-uid":e.uid}},keepOnSplit:!1},checked:{default:!1,parseHTML:function(e){return{checked:"true"===e.getAttribute("data-checked")}},renderHTML:function(e){return{"data-checked":e.checked}},keepOnSplit:!1},authorId:{default:a["a"].user().id,parseHTML:function(e){return{authorId:parseInt(e.getAttribute("data-author-id"))}},renderHTML:function(e){return{"data-author-id":e.authorId}},keepOnSplit:!1}}},parseHTML:function(){return[{tag:'li[data-type="taskItem"]',priority:51},{tag:'li[data-type="todo_item"]',priority:51}]},addNodeView:function(){var e=this;return function(t){var n=t.node,o=t.HTMLAttributes,r=t.getPos,i=t.editor,a=document.createElement("li"),s=document.createElement("label"),c=document.createElement("input"),l=document.createElement("div");return s.contentEditable="false",c.type="checkbox",c.addEventListener("change",(function(e){var t=e.target.checked;"function"===typeof r&&i.chain().focus().command((function(e){var o=e.tr;return console.log("tr",o),console.log("node.attrs",n.attrs),console.log("node.innerHtml",n),o.setNodeMarkup(r(),void 0,{checked:t,uid:n.attrs.uid,authorId:n.attrs.authorId}),!0})).run()})),n.attrs.checked&&c.setAttribute("checked","checked"),s.append(c),a.append(s,l),Object.entries(o).forEach((function(e){var t=he(e,2),n=t[0],o=t[1];a.setAttribute(n,o)})),console.log("hmltattributes",o),console.log("listitem.get data-uid",a.getAttribute("data-uid")),{dom:a,contentDOM:l,update:function(t){return t.type===e.type&&(t.attrs.checked?c.setAttribute("checked","checked"):c.removeAttribute("checked"),!0)}}}}}),we=n("58e6"),xe=n("97a2"),Ce=n("1d91"),Oe=n("6a8e"),je=n("cc86"),Se=n("65aa"),Ie=n("9980"),Pe=(n("2893"),Se["a"].extend({defaultOptions:{HTMLAttributes:{},suggestion:{char:"@",command:function(e){var t=e.editor,n=e.range,o=e.props;t.chain().focus().replaceRange(n,"mention",o).insertContent(" ").run()},allow:function(e){var t=e.editor,n=e.range;return t.can().replaceRange(n,"mention")}}},addAttributes:function(){var e=this;return{id:{default:null,parseHTML:function(t){return{id:t.getAttribute("data-mention-id"),label:t.innerText.split(e.options.matcher.char).join("")}},renderHTML:function(e){return e.id?{"data-mention-id":e.id}:{}}},label:{default:null,parseHTML:function(e){return{label:e.getAttribute("data-label")}}}}},renderHTML:function(e){var t=e.node,n=e.HTMLAttributes;return["span",Object(Ie["l"])(this.options.HTMLAttributes,n),"@".concat(t.attrs.label)]}})),Te=n("056c"),Ae=n("5313"),Re=n("576a");function Ve(e,t){return De(e)||Me(e,t)||Ne(e,t)||$e()}function $e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if(e){if("string"===typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Me(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){r=!0,i=c}finally{try{o||null==s["return"]||s["return"]()}finally{if(r)throw i}}return n}}function De(e){if(Array.isArray(e))return e}var Le=0,Fe=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,qe=new Ae["d"]({state:{key:new Ae["e"]("uploadPlaceholder"),init:function(){return Re["b"].empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta("uploadPlaceholder");if(n&&n.add){var o=document.createElement("progress");o.setAttribute("id",n.add.id),o.setAttribute("max",100),o.setAttribute("value",0);var r=Re["a"].widget(n.add.pos,o,{id:n.add.id});t=t.add(e.doc,[r])}else n&&n.remove&&(t=t.remove(t.find(null,null,(function(e){return e.id==n.remove.id}))));return t}},props:{decorations:function(e){return this.getState(e)}}});function Ue(e,t){var n=qe.getState(e),o=n.find(null,null,(function(e){return e.id==t}));return o.length?o[0].from:null}function Be(e){var t=e.files,n=e.view,o=e.attachFile,r=e.attachImageFile,i=e.coordinates;Array.from(t||[]).forEach((function(e){/image/i.test(e.type)?ze(e,n,i,r):o({file:e})}))}function ze(e,t,n,o){var r=t.state.schema,i="image"+Le++,a=t.state.tr;a.selection.empty?n?a.setMeta("uploadPlaceholder",{add:{id:i,pos:n.pos}}):a.setMeta("uploadPlaceholder",{add:{id:i,pos:a.selection.from}}):(a.deleteSelection(),a.setMeta("uploadPlaceholder",{add:{id:i,pos:a.selection.from}})),t.dispatch(a),o({file:e,onProgress:function(e){document.getElementById(i).setAttribute("value",parseInt(e.loaded/e.total*100))},onComplete:function(e){var n=document.createElement("img");n.src=e.preview_url,n.onload=function(){var o=Ue(t.state,i);null!=o&&t.dispatch(t.state.tr.replaceWith(o,o,r.nodes.image.create({src:e.preview_url,height:n.naturalHeight,width:n.naturalWidth})).setMeta("uploadPlaceholder",{remove:{id:i}}))}},onFailure:function(){t.dispatch(a.setMeta("uploadPlaceholder",{remove:{id:i}}))}})}var He=Te["a"].extend({addAttributes:function(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},addInputRules:function(){return[Object(Ie["m"])(Fe,this.type,(function(e){var t=Ve(e,6),n=t[1],o=t[2],r=t[3],i=t[4],a=t[5];return{src:o,alt:n,title:r,width:i,height:a}}))]},addProseMirrorPlugins:function(){var e=this.options.attachFile,t=this.options.attachImageFile;return[qe,new Ae["d"]({props:{handleDOMEvents:{paste:function(n,o){var r=Array.from(o.clipboardData.items);if(0!=r.filter((function(e){return e.getAsFile()})).length){o.preventDefault();var i=r.map((function(e){return new File([e.getAsFile()],o.clipboardData.getData("text/plain")||Date.now(),{lastModified:Date.now(),type:e.type})})),a=null;Be({files:i,view:n,attachFile:e,attachImageFile:t,coordinates:a})}},drop:function(n,o){var r=o.dataTransfer&&o.dataTransfer.files&&o.dataTransfer.files.length;if(r){o.preventDefault();var i=n.posAtCoords({left:o.clientX,top:o.clientY});Be({files:o.dataTransfer.files,view:n,attachFile:e,attachImageFile:t,coordinates:i})}}}}})]}}),Ge=Ie["b"].create({name:"textColor",defaultOptions:{types:["textStyle"]},addGlobalAttributes:function(){return[{types:this.options.types,attributes:{textColor:{default:null,renderHTML:function(e){return e.textColor?{style:"color: ".concat(e.textColor)}:{}},parseHTML:function(e){return{textColor:e.style.color}}}}}]},addCommands:function(){return{setTextColor:function(e){return function(t){var n=t.chain;return n().setMark("textStyle",{textColor:e}).run()}},unsetTextColor:function(){return function(e){var t=e.chain;return t().setMark("textStyle",{textColor:null}).removeEmptyTextStyle().run()}}}}});function Ke(e,t){return Je(e)||Ze(e,t)||Ye(e,t)||We()}function We(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ye(e,t){if(e){if("string"===typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Ze(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){r=!0,i=c}finally{try{o||null==s["return"]||s["return"]()}finally{if(r)throw i}}return n}}function Je(e){if(Array.isArray(e))return e}var Xe,et,tt,nt,ot=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,rt=Ie["d"].create({name:"iframe",group:"block",selectable:!1,defaultOptions:{HTMLAttributes:{}},addAttributes:function(){return{src:{default:null},allowfullscreen:{default:!0}}},parseHTML:function(){return[{tag:"iframe[src]"}]},renderHTML:function(e){var t=e.HTMLAttributes;return["div",{class:"iframe-container"},["iframe",Object(Ie["l"])(this.options.HTMLAttributes,t)]]},renderText:function(e){var t=e.node;return t.attrs.src},addCommands:function(){var e=this;return{setIframe:function(t){return function(n){var o=n.tr,r=n.dispatch,i=o.selection,a=e.type.create(t);return r&&o.replaceRangeWith(i.from,i.to,a),!0}}}},addInputRules:function(){return[Object(Ie["m"])(ot,this.type,(function(e){var t=Ke(e,2),n=t[1];return{src:n}}))]}}),it=n("1ab4"),at=function(e){return e=e||"",e.includes("youtube.com")||e.includes("youtu.be")?tt(e):e.includes("vimeo.com/")?et(e):e.includes("loom.com")?Xe(e):e};tt=function(e){var t;return t=nt(e),"https://www.youtube.com/embed/".concat(t)},et=function(e){return e.includes("player.vimeo.com/video/")?e:e.replace("vimeo.com/","player.vimeo.com/video/")},nt=function(e){var t;return t="",e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/),void 0!==e[2]?(t=e[2].split(/[^0-9a-z_\-]/i),t=t[0]):t=e,t},Xe=function(e){return e.includes("share")?e.replace("share","embed"):e};var st=n("b047"),ct=n.n(st),lt=n("dd61"),ut=n.n(lt),dt=n("9380"),pt=n.n(dt),mt=n("c707"),ft=n.n(mt),ht=n("a0ec"),_t=n.n(ht),vt={data:function(){return{mentionableUserIds:[],mentionable:[],query:"",navigatedUserIndex:0,suggestionListStyles:{},fetchingMentions:!1}},mounted:function(){return this.fetchMentionable=ct()((function(){var e=this;return this.fetchingMentions=!0,i["a"].users.fetchMentionable(this.query,this.model).then((function(t){return e.fetchingMentions=!1,e.mentionableUserIds=A()(e.mentionableUserIds.concat(ut()(t.users,"id"))),e.findMentionable()}))}),250)},methods:{findMentionable:function(){var e,t=this;return e=pt()(i["a"].users.collection.chain().find({id:{$in:this.mentionableUserIds}}).data(),(function(e){return(e.name||"").toLowerCase().startsWith(t.query)||(e.username||"").toLowerCase().startsWith(t.query)||(e.name||"").toLowerCase().includes(" ".concat(t.query))})),this.mentionable=ft()(e,(function(e){return 0-i["a"].events.find({actorId:e.id}).length}))}}},bt={methods:{textarea:function(){return this.$refs.field.$el.querySelector("textarea")},onKeyUp:function(e){var t;return t=this.textarea().value.slice(0,this.textarea().selectionStart).match(/@(\w+)$/),t?(this.query=t[1].toLowerCase(),this.fetchMentionable(),this.findMentionable(),this.respondToKey(e),this.updatePopup()):this.query=""},onKeyDown:function(e){if(this.query)return this.respondToKey(e)},respondToKey:function(e){var t;if(38===e.keyCode&&(this.navigatedUserIndex=(this.navigatedUserIndex+this.mentionable.length-1)%this.mentionable.length,e.preventDefault()),40===e.keyCode&&(this.navigatedUserIndex=(this.navigatedUserIndex+1)%this.mentionable.length,e.preventDefault()),[13,9].includes(e.keyCode)&&(t=this.mentionable[this.navigatedUserIndex]))return this.selectUser(t),this.query="",e.preventDefault()},selectUser:function(e){var t,n;return this.textarea().value,n=this.textarea().value.slice(0,this.textarea().selectionStart-this.query.length),t=this.textarea().value.slice(this.textarea().selectionStart),this.model[this.field]=n+e.username+" "+t,this.textarea().selectionEnd=(n+e.username).length+1,this.textarea().focus,this.query=""},updatePopup:function(){var e;if(this.$refs.field)return e=_t()(this.textarea(),this.textarea().selectionStart-this.query.length),this.suggestionListStyles={position:"absolute",top:e.top-this.textarea().scrollTop+e.height+16+"px",left:e.left+"px"}}}},gt={data:function(){return{suggestionRange:null}},created:function(){return this.insertMention=function(){return{}}},methods:{upHandler:function(){return this.navigatedUserIndex=(this.navigatedUserIndex+this.mentionable.length-1)%this.mentionable.length},downHandler:function(){return this.navigatedUserIndex=(this.navigatedUserIndex+1)%this.mentionable.length},enterHandler:function(){var e;if(e=this.mentionable[this.navigatedUserIndex],e)return this.selectUser(e)},selectUser:function(e){return this.insertMention({id:e.username,label:e.name}),this.editor.chain().focus()},updatePopup:function(e){return this.suggestionListStyles={position:"fixed",top:e.y+24+"px",left:e.x+"px"}}}},yt=function(){var e=this;return{HTMLAttributes:{class:"mention"},suggestion:{render:function(){return{onStart:function(t){return e.query=t.query.toLowerCase(),e.suggestionRange=t.range,e.insertMention=t.command,e.updatePopup(t.clientRect()),e.fetchMentionable(),e.findMentionable()},onUpdate:function(t){return e.query=t.query.toLowerCase(),e.suggestionRange=t.range,e.insertMention=t.command,e.navigatedUserIndex=0,e.updatePopup(t.clientRect()),e.fetchMentionable(),e.findMentionable()},onExit:function(t){return e.query=null,e.suggestionRange=null,e.navigatedUserIndex=0},onKeyDown:function(t){return 38===t.event.keyCode?(e.upHandler(),!0):40===t.event.keyCode?(e.downHandler(),!0):!![13,9].includes(t.event.keyCode)&&(e.enterHandler(),!0)}}}}}},kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{directives:[{name:"show",rawName:"v-show",value:e.query,expression:"query"}],ref:"suggestions",staticClass:"suggestion-list",style:e.positionStyles,attrs:{outlined:"",elevation:8}},[e.mentionable.length?[n("v-list",{attrs:{dense:""}},e._l(e.mentionable,(function(t,o){return n("v-list-item",{key:t.id,class:{"v-list-item--active":e.navigatedUserIndex===o},on:{click:function(n){return e.$emit("select-user",t)}}},[n("v-list-item-title",[e._v(e._s(t.name)),t.id==e.currentUser.id?n("span",{staticClass:"text--secondary"},[e._v(" ("+e._s(e.$t("common.you"))+")")]):e._e(),e.showUsername?n("span",{staticClass:"text--secondary"},[e._v(" "+e._s("@"+t.username))]):e._e()])],1)})),1)]:e._e(),0==e.mentionable.length?n("v-card-subtitle",{directives:[{name:"t",rawName:"v-t",value:"common.no_results_found",expression:"'common.no_results_found'"}]}):e._e(),n("div",{staticClass:"d-flex justify-center"},[e.loading?n("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:"24",width:"2"}}):e._e()],1)],2)},wt=[],xt={props:{query:String,loading:Boolean,mentionable:Array,positionStyles:Object,navigatedUserIndex:Number,showUsername:{type:Boolean,default:!1}}},Ct=xt,Ot=n("8860"),jt=n("da13"),St=n("5d23"),It=n("490a"),Pt=Object(d["a"])(Ct,kt,wt,!1,null,null,null),Tt=Pt.exports;m()(Pt,{VCard:h["a"],VCardSubtitle:_["b"],VList:Ot["a"],VListItem:jt["a"],VListItemTitle:St["c"],VProgressCircular:It["a"]});var At,Rt=n("6cd4"),Vt=n.n(Rt),$t={data:function(){return{files:[],imageFiles:[]}},created:function(){return this.files=this.model.attachments.filter((function(e){return e.signed_id})).map((function(e){return{blob:e,file:{name:e.filename}}}))},watch:{files:function(){return this.updateFiles()},imageFiles:function(){return this.updateFiles()}},methods:{resetFiles:function(){return this.files=[],this.imageFiles=[]},updateFiles:function(){return this.model.files=this.files.filter((function(e){return e.blob})).map((function(e){return e.blob.signed_id})),this.model.imageFiles=this.imageFiles.filter((function(e){return e.blob})).map((function(e){return e.blob.signed_id})),this.emitUploading()},emitUploading:function(){return this.$emit("is-uploading",!((this.model.files||[]).length===this.files.length&&(this.model.imageFiles||[]).length===this.imageFiles.length))},removeFile:function(e){return this.files=this.files.filter((function(t){return t.file.name!==e}))},attachFile:function(e){var t,n,o=this,r=e.file;return n={file:r,key:r.name+r.size,percentComplete:0,blob:null},this.files.push(n),this.emitUploading(),t=new L({onProgress:function(e){return n.percentComplete=parseInt(e.loaded/e.total*100)}}),t.upload(r).then((function(e){return n.blob=e,o.updateFiles()}),(function(e){return console.log("attachment failed to upload")}))},attachImageFile:function(e){var t,n,o=this,r=e.file,i=e.onProgress,a=e.onComplete,s=e.onFailure;return n={file:r,blob:null},this.imageFiles.push(n),this.emitUploading(),t=new L({onProgress:i}),t.upload(r).then((function(e){return n.blob=e,a(e),o.updateFiles()}),s)},fileSelected:function(){var e=this;return Vt()(this.$refs.filesField.files,(function(t){return e.attachFile({file:t})}))},imageSelected:function(){var e=this;return Array.from(this.$refs.imagesField.files||[]).forEach((function(t){return/image/i.test(t.type)?ze(t,e.editor.view,null,e.attachImageFile):e.attachFile({file:t})}))}}},Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("div",{staticClass:"rounded-lg color-picker-btn"},[n("v-btn",e._g(e._b({staticClass:"drop-down-button",style:{"background-color":e.activeHighlight},attrs:{outlined:e.activeTextColor&&!e.activeHighlight,color:e.activeTextColor,icon:"",title:e.$t("formatting.colors")}},"v-btn",r,!1),o),[n("v-icon",[e._v("mdi-palette")]),n("v-icon",{staticClass:"menu-down-arrow"},[e._v("mdi-menu-down")])],1)],1)]}}])},[n("v-card",{staticClass:"color-picker pa-2"},[e.activeHighlight||e.activeTextColor?n("div",{staticClass:"text-center"},[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"formatting.reset",expression:"'formatting.reset'"}],attrs:{block:"","x-small":"",outlined:""},on:{click:function(t){e.editor.chain().unsetHighlight().unsetTextColor().focus().run()}}})],1):e._e(),n("div",{directives:[{name:"t",rawName:"v-t",value:"formatting.text_color",expression:"'formatting.text_color'"}],staticClass:"caption"}),e._l(e.textColors,(function(t){return n("div",{staticClass:"swatch swatch-color",class:{"swatch--white":"#ffffff"==t,"swatch--selected":t==e.activeTextColor},style:{"background-color":t},on:{click:function(n){e.editor.chain().setTextColor(t).focus().run()}}},[e._v("")])})),n("div",{staticClass:"swatch swatch-reset",on:{click:function(t){e.editor.chain().focus().unsetTextColor().run()}}},[n("v-icon",[e._v("mdi-cancel")])],1),n("div",{directives:[{name:"t",rawName:"v-t",value:"formatting.background_color",expression:"'formatting.background_color'"}],staticClass:"caption"}),e._l(e.highlights,(function(t){return n("div",{staticClass:"swatch swatch-color",class:{"swatch--white":"#ffffff"==t,"swatch--selected":t==e.activeHighlight},style:{"background-color":t},on:{click:function(n){e.editor.chain().setHighlight({color:t}).focus().run()}}},[e._v("")])})),n("div",{staticClass:"swatch swatch-reset",on:{click:function(t){e.editor.chain().focus().unsetHighlight().run()}}},[n("v-icon",[e._v("mdi-cancel")])],1)],2)],1)},Et=[],Mt=n("2593"),Dt=n.n(Mt),Lt=n("fcf4");At=Dt()(Lt["a"],"red pink purple deepPurple indigo blue lightBlue cyan teal green lightGreen lime yellow amber orange deepOrange brown grey".split(" "));var Ft={props:{editor:Object},data:function(){return{textColors:["#fff"].concat(V()(ut()(At,(function(e,t){return e.base})))),highlights:["#000"].concat(V()(ut()(At,(function(e,t){return e.lighten3}))))}},computed:{activeHighlight:function(){var e=this;return this.editor.isActive("highlight")?this.highlights.find((function(t){return e.editor.isActive("highlight",{color:t})})):null},activeTextColor:function(){return this.editor.getMarkAttributes("textStyle")?this.editor.getMarkAttributes("textStyle").textColor:null}}},qt=Ft,Ut=(n("f677"),n("e449")),Bt=Object(d["a"])(qt,Nt,Et,!1,null,null,null),zt=Bt.exports;m()(Bt,{VBtn:f["a"],VCard:h["a"],VIcon:v["a"],VMenu:Ut["a"]});var Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;t.attrs;return[n("div",{staticClass:"rounded-lg"},[n("v-btn",e._g({staticClass:"drop-down-button pl-1",attrs:{icon:"",outlined:e.showOutline,title:e.$t("formatting.alignment")}},o),[n("v-icon",[e._v("mdi-format-align-"+e._s(e.current))]),n("v-icon",{staticClass:"menu-down-arrow"},[e._v("mdi-menu-down")])],1)],1)]}}])},[n("v-list",{attrs:{dense:""}},e._l(e.alignments,(function(t,o){return n("v-list-item",{key:o,class:{"v-list-item--active":e.editor.isActive({textAlign:t.value})},on:{click:function(n){e.editor.chain().focus().setTextAlign(t.value).run()}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s("mdi-format-align-"+t.value))])],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:t.label,expression:"item.label"}]})],1)})),1)],1)},Gt=[],Kt={props:{editor:Object},methods:{isActive:function(e){return this.editor.isActive({textAlign:e})}},computed:{showOutline:function(){return this.editor.isActive({textAlign:"right"})||this.editor.isActive({textAlign:"center"})},current:function(){var e=this;return["left","center","right"].find((function(t){return e.isActive(t)}))||"left"},alignments:function(){return[{label:"formatting.left_align",value:"left"},{label:"formatting.center_align",value:"center"},{label:"formatting.right_align",value:"right"}]}}},Wt=Kt,Yt=n("34c3"),Qt=Object(d["a"])(Wt,Ht,Gt,!1,null,null,null),Zt=Qt.exports;m()(Qt,{VBtn:f["a"],VIcon:v["a"],VList:Ot["a"],VListItem:jt["a"],VListItemIcon:Yt["a"],VListItemTitle:St["c"],VMenu:Ut["a"]});var Jt={mixins:[vt,gt,$t],props:{model:Object,field:String,label:String,placeholder:String,maxLength:Number,shouldReset:Boolean,autofocus:Boolean},components:{EditorContent:it["b"],TextAlignBtn:Zt,TextHighlightBtn:zt,SuggestionList:Tt,FilesList:g},data:function(){return{loading:!0,socket:null,count:0,editor:null,expanded:!0,closeEmojiMenu:!1,linkUrl:"",iframeUrl:"",linkDialogIsOpen:!1,iframeDialogIsOpen:!1,fetchedUrls:[]}},computed:{format:function(){return this.model["".concat(this.field,"Format")]}},mounted:function(){return this.editor=new it["a"]({editorProps:{scrollThreshold:100,scrollMargin:100},extensions:[G["a"],K["a"],W["a"],Y["a"],Pe.configure(yt.bind(this)()),He.configure({attachFile:this.attachFile,attachImageFile:this.attachImageFile}),Q["a"],Z["a"],J["a"],X["a"],ee["a"].configure({multicolor:!0}),te["a"],ne["a"],oe["a"],rt,re["a"],ie["a"],ae["a"],se["a"],ce["a"],Ce["a"],pe["a"],ue["a"],de["a"],le["a"],me["a"],ke,Oe["a"],xe["a"],we["a"],Ge,je["a"]],content:this.model[this.field],onUpdate:this.updateModel})},watch:{shouldReset:"reset"},methods:{setCount:function(e){return this.count=e},tiptapAddress:function(){return this.model.isNew()?V()([$["a"].theme.channels_uri,"tiptap",this.model.constructor.singular,"new",this.model.groupId,this.model.discussionId,this.model.parentId,a["a"].user().secretToken]).join("/"):[$["a"].theme.channels_uri,"tiptap",this.model.constructor.singular,this.model.id,this.model.secretToken||a["a"].user().secretToken].join("/")},selectedText:function(){var e,t,n,o;n=this.editor.state,t=this.editor.state.selection;var r=t;return e=r.from,o=r.to,n.doc.textBetween(e,o," ")},reset:function(){return this.editor.chain().clearContent().run(),this.resetFiles()},convertToMd:function(){if(confirm(F["a"].t("formatting.markdown_confirm")))return H(this.model,this.field),i["a"].users.saveExperience("html-editor.uses-markdown")},toggleExpanded:function(){return this.expanded?(this.expanded=!1,i["a"].users.removeExperience("html-editor.expanded")):(this.expanded=!0,i["a"].users.saveExperience("html-editor.expanded"))},setLinkUrl:function(){return this.linkUrl&&(this.linkUrl.includes("://")||(this.linkUrl="http://".concat(this.linkUrl)),this.editor.chain().setLink({href:this.linkUrl}).focus().run(),this.fetchLinkPreviews([this.linkUrl]),this.linkUrl=null),this.linkDialogIsOpen=!1},setIframeUrl:function(){return this.editor.chain().setIframe({src:at(this.iframeUrl)}).focus().run(),this.iframeUrl=null,this.iframeDialogIsOpen=!1},emojiPicked:function(e,t){return this.editor.chain().insertContent(t).focus().run(),this.closeEmojiMenu=!1},updateModel:function(){if(this.model[this.field]=this.editor.getHTML(),this.updateFiles(),this.model.isNew())return this.scrapeLinkPreviews()},removeLinkPreview:function(e){return this.model.linkPreviews=O()(this.model.linkPreviews,(function(t){return t.url===e}))},scrapeLinkPreviews:P()((function(){var e,t;return t=new DOMParser,e=t.parseFromString(this.model[this.field],"text/html"),this.fetchLinkPreviews(S()(Array.from(e.querySelectorAll("a")).map((function(e){return e.href})),this.fetchedUrls))}),500),fetchLinkPreviews:function(e){var t=this;if(e.length)return this.fetchedUrls=A()(this.fetchedUrls.concat(e)),i["a"].remote.post("link_previews",{urls:e}).then((function(e){return t.model.linkPreviews=x()(t.model.linkPreviews.concat(e.previews),"url")}))}},beforeDestroy:function(){}},Xt=Jt,en=(n("2ea0"),n("bb8c")),tn=n("42f1"),nn=n("a722"),on=n("2fa4"),rn=n("8654"),an=Object(d["a"])(Xt,y,k,!1,null,null,null),sn=an.exports;m()(an,{EmojiPicker:en["a"],LinkPreviews:tn["a"],VBtn:f["a"],VCard:h["a"],VCardActions:_["a"],VCardText:_["c"],VCardTitle:_["d"],VIcon:v["a"],VLayout:nn["a"],VList:Ot["a"],VListItem:jt["a"],VListItemIcon:Yt["a"],VListItemTitle:St["c"],VMenu:Ut["a"],VSpacer:on["a"],VTextField:rn["a"]});var cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"relative"}},[e.preview?e._e():n("v-textarea",{ref:"field",attrs:{placeholder:e.placeholder,label:e.label},on:{keyup:e.onKeyUp,keydown:e.onKeyDown,paste:e.onPaste,drop:e.onDrop,dragover:function(t){return t.preventDefault(),e.onDragOver(t)}},model:{value:e.model[e.field],callback:function(t){e.$set(e.model,e.field,t)},expression:"model[field]"}}),e.preview?n("formatted-text",{attrs:{model:e.model,column:e.field}}):e._e(),e.preview&&0==e.model[e.field].trim().length?n("v-sheet",{staticClass:"pa-4 my-4 poll-common-outcome-panel",attrs:{color:"primary lighten-5",elevation:"2"}},[n("p",{directives:[{name:"t",rawName:"v-t",value:"common.empty",expression:"'common.empty'"}]})]):e._e(),n("v-layout",{staticClass:"menubar",attrs:{"align-center":"","aria-label":e.$t("formatting.formatting_tools")}},[n("v-btn",{attrs:{icon:"",title:e.$t("formatting.attach")},on:{click:function(t){return e.$refs.filesField.click()}}},[n("v-icon",[e._v("mdi-paperclip")])],1),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"formatting.wysiwyg",expression:"'formatting.wysiwyg'"}],attrs:{text:"","x-small":""},on:{click:function(t){return e.convertToHtml(e.model,e.field)}}}),n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:e.previewAction,expression:"previewAction"}],staticClass:"mr-4",attrs:{text:"","x-small":""},on:{click:function(t){e.preview=!e.preview}}}),e._t("actions")],2),n("suggestion-list",{attrs:{query:e.query,loading:e.fetchingMentions,mentionable:e.mentionable,positionStyles:e.suggestionListStyles,navigatedUserIndex:e.navigatedUserIndex,showUsername:""},on:{"select-user":e.selectUser}}),n("files-list",{attrs:{files:e.files},on:{removeFile:e.removeFile}}),n("form",{staticStyle:{display:"block"},on:{change:e.fileSelected}},[n("input",{ref:"filesField",attrs:{type:"file",name:"files",multiple:""}})])],1)},ln=[],un={mixins:[vt,bt,$t],props:{model:Object,field:String,label:String,placeholder:String,shouldReset:Boolean,maxLength:Number,autofocus:{type:Boolean,default:!1}},components:{FilesList:g,SuggestionList:Tt},data:function(){return{preview:!1}},watch:{shouldReset:"reset"},methods:{reset:function(){return this.preview=!1,this.resetFiles()},convertToHtml:function(){return z(this.model,this.field),i["a"].users.removeExperience("html-editor.uses-markdown")},onPaste:function(e){var t;if(t=Array.from(e.clipboardData.items),0!==t.filter((function(e){return e.getAsFile()})).length)return e.preventDefault(),this.handleUploads(t.map((function(t){return new File([t.getAsFile()],e.clipboardData.getData("text/plain")||Date.now(),{lastModified:Date.now(),type:t.type})})))},handleUploads:function(e){var t=this;return Array.from(e).forEach((function(e){return/image/i.test(e.type)?t.insertImage(e):t.attachFile({file:e})}))},insertImage:function(e){var t,n,o,r,i=this;return n="file"|e.name.replace(/[\W_]+/g,""),r=function(e){return"![uploading-".concat(n,"](").concat("*".repeat(parseInt(e/5)),")")},t=function(e){var t,n;return n=i.model[i.field].slice(0,i.textarea().selectionStart),t=i.model[i.field].slice(i.textarea().selectionStart),i.model[i.field]=n+"\n"+e+"\n"+t},o=function(e){return i.model[i.field]=i.model[i.field].replace(RegExp("!\\[uploading-".concat(n,"\\]\\(\\**\\)")),e)},t(r(0)),this.attachImageFile({file:e,onProgress:function(e){return o(r(parseInt(e.loaded/e.total*100)))},onComplete:function(e){return o("![".concat(n,"](").concat(e.preview_url,")"))},onFailure:function(){return o("![".concat(n,"](").concat(i.$t("formatting.upload_failed")))}})},onDrop:function(e){if(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length)return e.preventDefault(),this.handleUploads(e.dataTransfer.files)},onDragOver:function(e){return!1}},computed:{previewAction:function(){return this.preview?"common.action.edit":"common.action.preview"},previewIcon:function(){return this.preview?"mdi-pencil":"mdi-eye"}}},dn=un,pn=n("c442"),mn=n("8dd9"),fn=n("a844"),hn=Object(d["a"])(dn,cn,ln,!1,null,null,null),_n=hn.exports;m()(hn,{FormattedText:pn["a"],VBtn:f["a"],VIcon:v["a"],VLayout:nn["a"],VSheet:mn["a"],VSpacer:on["a"],VTextarea:fn["a"]});var vn=n("1e82"),bn={props:{model:Object,field:String,label:String,placeholder:String,maxLength:Number,autofocus:Boolean,shouldReset:Boolean},components:{"md-editor":_n,"collab-editor":sn},mounted:function(){return vn["a"].add(this.model)},computed:{format:function(){return this.model["".concat(this.field,"Format")]},betaFeatures:function(){return!1}}},gn=bn,yn=Object(d["a"])(gn,o,r,!1,null,null,null);t["a"]=yn.exports},"0d6d":function(e,t,n){var o={"./client.af.yml":["5924a","chunk-74860705"],"./client.an.yml":["37a3","chunk-2d0baa4c"],"./client.ar.yml":["82f1","chunk-2d0dddfb"],"./client.be_BY.yml":["28b8","chunk-2d0b39d2"],"./client.bg_BG.yml":["0007","chunk-2d0a2cfd"],"./client.br.yml":["2565","chunk-2d0b2938"],"./client.ca.yml":["92dd","chunk-2d0e524f"],"./client.cmn.yml":["de52","chunk-2d2297d4"],"./client.cs.yml":["4ed6","chunk-2d0ccbb9"],"./client.da.yml":["d12d","chunk-2d21d475"],"./client.de.yml":["26da","chunk-2d0b32b7"],"./client.el.yml":["36ba","chunk-2d0ba6d8"],"./client.en.yml":["b909"],"./client.en_BE.yml":["a9f8","chunk-2d209b80"],"./client.en_NL.yml":["e99d","chunk-2d2267b5"],"./client.eo.yml":["5bc6","chunk-2d0d34b6"],"./client.es.yml":["31d2","chunk-2d0b9422"],"./client.es_AR.yml":["a6f6","chunk-2d20903b"],"./client.fa_IR.yml":["8ded","chunk-2d0e99c1"],"./client.fi.yml":["ffe6","chunk-2d238a27"],"./client.fr.yml":["1fcf","chunk-2d0b726e"],"./client.fr_BE.yml":["53b5","chunk-2d0c8427"],"./client.ga_IE.yml":["96ed","chunk-2d0e6172"],"./client.gl.yml":["4b13","chunk-2d0cba46"],"./client.he.yml":["7edc","chunk-2d0e2903"],"./client.hi.yml":["d6d8","chunk-2d21ed1c"],"./client.hr.yml":["2bbe","chunk-2d0bd7a9"],"./client.hu.yml":["736c","chunk-2d0d67bf"],"./client.id.yml":["5241","chunk-2d0c7ad0"],"./client.io.yml":["206a","chunk-2d0b169f"],"./client.it.yml":["0e5d","chunk-2d0af4ba"],"./client.it_CH.yml":["7fd9","chunk-2d0e2c9a"],"./client.ja.yml":["13a4","chunk-2d0ab28b"],"./client.km.yml":["f362","chunk-2d22c4ff"],"./client.ko.yml":["ca05","chunk-2d2213d9"],"./client.lt.yml":["f908","chunk-2d22dad1"],"./client.lv.yml":["4dfd","chunk-2d0cc864"],"./client.mi.yml":["4ee4","chunk-2d0ccbd6"],"./client.mk.yml":["5132","chunk-2d0c76f1"],"./client.ml.yml":["5c77","chunk-2d0d3324"],"./client.ml_IN.yml":["0e52","chunk-2d0af488"],"./client.mn.yml":["781a","chunk-2d0d79e7"],"./client.nb_NO.yml":["66a5","chunk-2d0d03aa"],"./client.nl.yml":["eac8","chunk-2d2302c7"],"./client.nl_BE.yml":["8a9b","chunk-2d0e8928"],"./client.nl_NL.yml":["4773","chunk-2d0c1995"],"./client.pl.yml":["c171","chunk-2d21607e"],"./client.pt_BR.yml":["0b57","chunk-2d0ae94a"],"./client.pt_PT.yml":["df4c","chunk-2d229ba7"],"./client.ro.yml":["4afc","chunk-2d0cbd20"],"./client.ru.yml":["c738","chunk-2d21768f"],"./client.sk.yml":["7484","chunk-2d0d6b8f"],"./client.sl.yml":["a5fe","chunk-2d208ca9"],"./client.sr.yml":["1515","chunk-2d0ab43e"],"./client.sr_RS.yml":["4fa6","chunk-2d0ccf1d"],"./client.sv.yml":["e5a7","chunk-2d225d5c"],"./client.te.yml":["dfed","chunk-2d22a197"],"./client.th.yml":["23ea","chunk-2d0b2793"],"./client.th_TH.yml":["5241e","chunk-7482df95"],"./client.tr.yml":["7768","chunk-2d0d7698"],"./client.uk.yml":["c328","chunk-2d21676c"],"./client.ur.yml":["23db","chunk-2d0b2775"],"./client.ur_PK.yml":["e052","chunk-2d22453e"],"./client.vi.yml":["4877","chunk-2d0c1d5a"],"./client.zh_TW.yml":["8be5","chunk-2d0e9210"]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(o)},r.id="0d6d",e.exports=r},"0ec1":function(e,t,n){"use strict";n("ae6e")},"0f27":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"document-list"},[!e.model.hasDocuments()&&e.placeholder?n("p",{directives:[{name:"t",rawName:"v-t",value:e.placeholder,expression:"placeholder"}],staticClass:"caption"}):e._e(),n("div",{staticClass:"document-list__documents"},e._l(e.documents,(function(t){return n("div",{key:t.id,staticClass:"attachment-list__item",class:{"document-list__document--image":t.isAnImage()&&!e.hidePreview}},[t.isAnImage()&&!e.hidePreview?n("a",{staticClass:"attachment-list__preview",attrs:{href:t.url,target:"_blank"}},[n("img",{attrs:{src:t.webUrl,alt:t.title}})]):e._e(),n("div",{staticClass:"attachment-list__item-details"},[n("a",{staticClass:"document-list__title",attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.title))]),e.canDelete?n("v-btn",{staticClass:"ml-2",attrs:{icon:"","aria-label":e.$t("common.action.delete")},on:{click:function(n){return e.deleteDocument(t)}}},[n("v-icon",{attrs:{size:"medium"}},[e._v("mdi-delete")])],1):e._e()],1)])})),0)])},r=[],i=n("8a30"),a=n.n(i),s=n("e9a7"),c=n.n(s),l=n("4d8c"),u=n.n(l),d=n("cd6d"),p=n("65c3"),m=n("9953"),f={props:{model:Object,showEdit:Boolean,hidePreview:Boolean,hideDate:Boolean,skipFetch:Boolean,placeholder:String},data:function(){return{documents:[]}},created:function(){var e=this;return this.model.isNew()||this.skipFetch||d["a"].documents.fetchByModel(this.model),this.watchRecords({collections:["documents"],query:function(t){return e.documents=t.documents.collection.chain().find({modelId:{$in:u()([e.model.id,e.model.newDocumentIds])},modelType:c()(e.model.constructor.singular)}).where((function(t){return!a()(e.model.removedDocumentIds,t.id)})).simplesort("createdAt",!0).data()}})},methods:{edit:function(e,t){return p["a"].$emit("initializeDocument",e,t)},deleteDocument:function(e){return p["a"].$emit("openModal",{component:"ConfirmModal",props:{confirm:{submit:e.destroy,text:{title:"comment_form.attachments.remove_attachment",helptext:"poll_common_delete_modal.question",submit:"common.action.delete",flash:"poll_common_delete_modal.success"}}}})}},computed:{showTitle:function(){return(this.model.showDocumentTitle||this.showEdit)&&(this.model.hasDocuments()||this.placeholder)},canDelete:function(){return m["a"].canEditGroup(this.model.group())}}},h=f,_=n("2877"),v=n("6544"),b=n.n(v),g=n("8336"),y=n("132d"),k=Object(_["a"])(h,o,r,!1,null,null,null);t["a"]=k.exports;b()(k,{VBtn:g["a"],VIcon:y["a"]})},1039:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.model.id?n("div",{staticClass:"common-notify-fields"},[n("v-divider",{staticClass:"my-6"}),n("v-text-field",{attrs:{label:e.$t("discussion_form.change_log_label"),placeholder:e.$t("discussion_form.change_log_placeholder")},model:{value:e.model.recipientMessage,callback:function(t){e.$set(e.model,"recipientMessage",t)},expression:"model.recipientMessage"}}),n("recipients-autocomplete",{attrs:{label:e.$t(e.model.id?"action_dock.notify":"common.action.invite"),placeholder:e.$t("announcement.form."+e.model.constructor.singular+"_"+(e.model.id?"edited":"announced")+".helptext"),model:e.model}})],1):e._e()},r=[],i=n("0998"),a=(n("6062"),{components:{RecipientsAutocomplete:i["a"]},props:{model:Object},data:function(){return{initialRecipients:[]}}}),s=a,c=n("2877"),l=n("6544"),u=n.n(l),d=n("ce7e"),p=n("8654"),m=Object(c["a"])(s,o,r,!1,null,null,null);t["a"]=m.exports;u()(m,{VDivider:d["a"],VTextField:p["a"]})},"10d4":function(e,t,n){"use strict";n("152a")},1220:function(e,t,n){},1405:function(e,t,n){},1430:function(e,t,n){"use strict";n.r(t);var o=n("2593"),r=n.n(o),i=n("2b0e"),a=n("7ae3"),s=n("f309"),c=(n("5363"),n("6062")),l=n("fcf4");i["a"].use(s["a"]),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;var u,d=new s["a"]({iconfont:"mdi",theme:{dark:!1,themes:{light:{primary:l["a"].amber.darken1,secondary:l["a"].pink.lighten2,accent:l["a"].cyan.base,error:l["a"].deepOrange.base,warning:l["a"].red.base,info:l["a"].lightBlue.base,success:l["a"].green.base,anchor:l["a"].cyan.base}},options:{customProperties:!0}}}),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-container",{staticClass:"dashboard-page max-width-1024"},[n("h1",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.titleVisible},expression:"{callback: titleVisible}"},{name:"t",rawName:"v-t",value:"dashboard_page.filtering.all",expression:"'dashboard_page.filtering.all'"}],staticClass:"display-1 my-4",attrs:{tabindex:"-1"}}),n("v-layout",{staticClass:"mb-3"},[n("v-text-field",{attrs:{clearable:"",solo:"","hide-details":"",value:e.$route.query.q,placeholder:e.$t("navbar.search_all_threads"),"append-icon":"mdi-magnify"},on:{input:e.onQueryInput}})],1),e._l(e.loadingViewNames,(function(t,o){return e.dashboardLoaded?e._e():n("v-card",{key:o,staticClass:"mb-3",class:"dashboard-page__loading dashboard-page__"+t,attrs:{"aria-hidden":"true"}},[n("v-list",{attrs:{"two-line":""}},[n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"dashboard_page.threads_from."+t,expression:"'dashboard_page.threads_from.' + viewName"}]}),e._l([1,2,3],(function(e,t){return n("loading-content",{key:t,attrs:{lineCount:2}})}))],2)],1)})),e.dashboardLoaded?n("div",[e.$route.query.q?n("section",{staticClass:"dashboard-page__loaded"},[n("v-card",e._l(e.searchResults,(function(e){return n("thread-search-result",{key:e.id,attrs:{result:e}})})),1)],1):e._e(),e.$route.query.q?e._e():n("section",{staticClass:"dashboard-page__loaded"},[e.noThreads?n("div",{staticClass:"dashboard-page__empty"},[e.noGroups?n("p",{domProps:{innerHTML:e._s(e.$t("dashboard_page.no_groups.show_all"))}}):e._e(),e.noGroups?e._e():n("div",{staticClass:"dashboard-page__no-threads"},[n("span",{directives:[{name:"show",rawName:"v-show",value:"show_all"==e.filter,expression:"filter == 'show_all'"},{name:"t",rawName:"v-t",value:"dashboard_page.no_threads.show_all",expression:"'dashboard_page.no_threads.show_all'"}]}),n("span",{directives:[{name:"show",rawName:"v-show",value:"show_muted"==e.filter&&e.userHasMuted,expression:"filter == 'show_muted' && userHasMuted"},{name:"t",rawName:"v-t",value:"dashboard_page.no_threads.show_muted",expression:"'dashboard_page.no_threads.show_muted'"}]}),n("router-link",{directives:[{name:"show",rawName:"v-show",value:"show_all"!=e.filter&&e.userHasMuted,expression:"filter != 'show_all' && userHasMuted"}],attrs:{to:"/dashboard"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"dashboard_page.view_recent",expression:"'dashboard_page.view_recent'"}]})])],1)]):e._e(),e.noThreads?e._e():n("div",{staticClass:"dashboard-page__collections"},[e._l(e.viewNames,(function(t){return e.views[t].length?n("v-card",{key:t,staticClass:"mb-3",class:"thread-preview-collection__container dashboard-page__"+t},[n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"dashboard_page.threads_from."+t,expression:"'dashboard_page.threads_from.' + viewName"}]}),n("thread-preview-collection",{staticClass:"thread-previews-container",attrs:{threads:e.views[t]}})],1):e._e()})),e.loader.exhausted?e._e():n("div",{staticClass:"dashboard-page__footer"}),n("loading",{directives:[{name:"show",rawName:"v-show",value:e.loader.loading,expression:"loader.loading"}]})],2)])]):e._e()],2)],1)},m=[],f=n("b047"),h=n.n(f),_=n("93c6"),v=n.n(_),b=n("2657"),g=n.n(b),y=n("ec69"),k=n.n(y),w=n("5e9e"),x=n.n(w),C=n("e9a7"),O=n.n(C),j=n("cd6d"),S=n("65c3"),I=n("9953"),P=n("9f09"),T=n("c641"),A=n.n(T),R=n("fc4c"),V=function(e,t){var n;return n=e.discussions.collection.chain(),n=n.find({discardedAt:null}),t.group&&(n=n.find({groupId:{$in:t.group.organisationIds()}})),t.from&&(n=n.find({lastActivityAt:{$gt:t.from}})),t.to&&(n=n.find({lastActivityAt:{$lt:t.to}})),t.ids?n=n.find({id:{$in:t.ids}}):A()([].concat(t.filters),(function(e){var t;return n=function(){switch(e){case"show_recent":return n.find({lastActivityAt:{$gt:Object(R["a"])(new Date,6)}});case"show_unread":return n.where((function(e){return e.isUnread()}));case"hide_unread":return n.where((function(e){return!e.isUnread()}));case"show_dismissed":return n.where((function(e){return e.isDismissed()}));case"hide_dismissed":return n.where((function(e){return!e.isDismissed()}));case"show_closed":return n.where((function(e){return null!=e.closedAt}));case"show_opened":return n.find({closedAt:null});case"show_pinned":return n.find({pinned:!0});case"hide_pinned":return n.find({pinned:!1});case"show_muted":return n.where((function(e){return"mute"===e.volume()}));case"hide_muted":return n.where((function(e){return"mute"!==e.volume()}));case"show_proposals":return n.where((function(e){return e.hasDecision()}));case"hide_proposals":return n.where((function(e){return!e.hasDecision()}));case"only_threads_in_my_groups":return t=c["a"].user().groupIds(),n.find({$or:[{$and:[{inviterId:{$ne:null}},{revokedAt:null}]},{groupId:{$in:t}}]})}}()})),n.simplesort("lastActivityAt",!0).data()},$=n("5dea"),N=n("f7f1"),E=n("a618"),M={data:function(){return{dashboardLoaded:j["a"].discussions.collection.data.length>0,filter:this.$route.params.filter||"hide_muted",views:{proposals:[],today:[],yesterday:[],thisweek:[],thismonth:[],older:[]},loader:null,searchLoader:null,searchResults:[]}},created:function(){var e=this;return this.onQueryInput=h()((function(t){return e.$router.replace(e.mergeQuery({q:t}))}),1e3),this.init(),S["a"].$on("signedIn",this.init)},beforeDestroy:function(){return S["a"].$off("signedIn",this.init)},mounted:function(){return S["a"].$emit("content-title-visible",!1),S["a"].$emit("currentComponent",{titleKey:this.titleKey,page:"dashboardPage",search:{placeholder:this.$t("navbar.search_all_threads")}})},watch:{"$route.query":"refresh"},methods:{init:function(){return this.loader=new P["a"]({collection:"discussions",path:"dashboard",params:{exclude_types:"group",filter:this.filter,per:50}}),this.searchLoader=new P["a"]({collection:"searchResults"}),this.watchRecords({key:"dashboard",collections:["discussions","searchResults"],query:this.query}),this.refresh()},refresh:function(){if(c["a"].isSignedIn())return this.fetch(),this.query()},fetch:function(){var e=this;if(this.loader)return this.$route.query.q?this.searchLoader.fetchRecords({q:this.$route.query.q,from:0}).then((function(){return e.dashboardLoaded=!0,e.query()})):this.loader.fetchRecords().then((function(){return e.dashboardLoaded=!0}))},query:function(){var e,t;return this.$route.query.q?(e=j["a"].searchResults.collection.chain(),e=e.find({query:this.$route.query.q}).data(),this.searchResults=v()(e,"rank","desc")):(t=new Date,this.views.proposals=V(j["a"],{filters:this.filters("show_proposals")}),this.views.today=V(j["a"],{filters:this.filters("hide_proposals"),from:Object($["a"])(t,1),to:Object(N["a"])(t,1e4)}),this.views.yesterday=V(j["a"],{filters:this.filters("hide_proposals"),from:Object($["a"])(t,2),to:Object($["a"])(t,1)}),this.views.thisweek=V(j["a"],{filters:this.filters("hide_proposals"),from:Object(R["a"])(t,1),to:Object($["a"])(t,2)}),this.views.thismonth=V(j["a"],{filters:this.filters("hide_proposals"),from:Object(E["a"])(t,1),to:Object(R["a"])(t,1)}),this.views.older=V(j["a"],{filters:this.filters("hide_proposals"),from:Object(E["a"])(t,12),to:Object(E["a"])(t,1)}))},viewName:function(e){return"show_muted"===this.filter?"dashboard".concat(O()(e),"Muted"):"dashboard".concat(O()(e))},filters:function(e){return["only_threads_in_my_groups","show_opened",this.filter].concat(e)}},computed:{titleKey:function(){return"show_muted"===this.filter?"dashboard_page.filtering.muted":"dashboard_page.filtering.all"},viewNames:function(){return k()(this.views)},loadingViewNames:function(){return x()(this.viewNames,3)},noGroups:function(){return 0===c["a"].user().groups().length},promptStart:function(){return this.noGroups&&I["a"].canStartGroups()},noThreads:function(){return g()(this.views,(function(e){return 0===e.length}))},userHasMuted:function(){return c["a"].user().hasExperienced("mutingThread")},showLargeImage:function(){return!0}}},D=M,L=(n("7328"),n("2877")),F=n("6544"),q=n.n(F),U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.until?e._e():n("v-layout",{staticClass:"my-4 page-loading",attrs:{id:"loading-placeholder","justify-center":""}},[e.canDisplay?e._e():n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1),e.until?e._t("default"):e._e()],2)},B=[];u=null;var z=function(){if(u=document.querySelector("#ssr .v-main"),u)return document.querySelector("#ssr").style.display="none"},H=function(){return null!==u},G=function(e){if(u)return document.querySelector(e).appendChild(u)},K=function(e){return u&&u.parentElement.removeChild(u),u=null},W={props:{until:null,diameter:{type:Number,default:30}},data:function(){return{canDisplay:H()}},mounted:function(){return G("#loading-placeholder")},watch:{until:function(e){if(e)return K()}}},Y=W,Q=n("a722"),Z=n("490a"),J=Object(L["a"])(Y,U,B,!1,null,null,null),X=J.exports;q()(J,{VLayout:Q["a"],VProgressCircular:Z["a"]});var ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-content"},e._l(e.blocks,(function(t,o){return n("div",{key:o,staticClass:"loading-content__background-wrapper"},e._l(e.lines,(function(e,t){return n("div",{key:t,staticClass:"loading-content__background"})})),0)})),0)},te=[],ne={props:{blockCount:Number,lineCount:Number},computed:{blocks:function(){return new Array(this.blockCount||1)},lines:function(){return new Array(this.lineCount||3)}}},oe=ne,re=(n("81a6"),Object(L["a"])(oe,ee,te,!1,null,null,null)),ie=re.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{staticClass:"thread-previews",attrs:{"two-line":""}},e._l(e.orderedThreads,(function(e){return n("thread-preview",{key:e.id,attrs:{thread:e}})})),1)},se=[],ce=n("2acb"),le=n.n(ce),ue={props:{threads:Array,limit:{type:Number,default:25},order:{type:String,default:"-lastActivityAt"}},computed:{orderedThreads:function(){return le()(v()(this.threads,this.order),0,this.limit)}}},de=ue,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-item",{staticClass:"thread-preview thread-preview__link",class:{"thread-preview--unread-border":e.thread.isUnread()},attrs:{to:e.urlFor(e.thread)}},[n("v-list-item-avatar",[e.thread.activePoll()?e._e():n("user-avatar",{attrs:{user:e.thread.author(),size:"medium","no-link":""}}),e.thread.activePoll()?n("poll-common-chart-preview",{attrs:{poll:e.thread.activePoll()}}):e._e()],1),n("v-list-item-content",[n("v-list-item-title",{staticStyle:{"align-items":"center"}},[e.thread.pinned?n("span",{attrs:{title:e.$t("context_panel.thread_status.pinned")}},[n("v-icon",[e._v("mdi-pin-outline")])],1):e._e(),n("span",{staticClass:"thread-preview__title",class:{"thread-preview--unread":e.thread.isUnread()}},[e._v(e._s(e.thread.title))]),e.thread.closedAt?n("v-chip",{directives:[{name:"t",rawName:"v-t",value:"common.privacy.closed",expression:"'common.privacy.closed'"}],staticClass:"ml-1",attrs:{small:"",label:"",outlined:"",color:"warning"}}):e._e(),n("tags-display",{attrs:{tags:e.thread.tags()}})],1),n("v-list-item-subtitle",[e.showGroupName?n("span",{staticClass:"thread-preview__group-name"},[e._v(e._s(e.thread.group().name))]):e._e(),e.showGroupName?n("mid-dot"):e._e(),n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"thread_preview.replies_count",args:{count:e.thread.itemsCount}},expression:"{path: 'thread_preview.replies_count', args: {count: thread.itemsCount}}"}],staticClass:"thread-preview__items-count"}),n("space"),e.thread.hasUnreadActivity()?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"thread_preview.unread_count",args:{count:e.thread.unreadItemsCount()}},expression:"{path: 'thread_preview.unread_count', args: {count: thread.unreadItemsCount()}}"}],staticClass:"thread-preview__unread-count"}):e._e(),n("mid-dot"),n("active-time-ago",{attrs:{date:e.thread.lastActivityAt}})],1)],1),e.$vuetify.breakpoint.mdAndUp?n("v-list-item-action",[n("action-dock",{attrs:{actions:e.dockActions}})],1):e._e(),e.canPerformAny?n("v-list-item-action",[n("action-menu",{attrs:{actions:e.menuActions}})],1):e._e()],1)},me=[],fe=n("3092"),he=n.n(fe),_e=n("66ef"),ve=n("44e4"),be=n("17b9"),ge=n("5a68");function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function we(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}var xe=new(function(){function e(){ye(this,e)}return we(e,[{key:"actions",value:function(e,t){var n=this;return{subscribe:{name:"common.action.subscribe",canPerform:function(){return"normal"===e.volume()&&I["a"].canChangeVolume(e)},perform:function(){return Object(be["a"])({component:"ChangeVolumeForm",props:{model:e}})}},unsubscribe:{name:"common.action.unsubscribe",canPerform:function(){return"loud"===e.volume()&&I["a"].canChangeVolume(e)},perform:function(){return Object(be["a"])({component:"ChangeVolumeForm",props:{model:e}})}},export_thread:{name:"common.action.print",canPerform:function(){return I["a"].canExportThread(e)},perform:function(){return Object(ge["a"])(ve["a"].discussion(e,{export:1},{absolute:!0,print:!0}))}},unignore:{name:"common.action.unignore",canPerform:function(){return"quiet"===e.volume()&&I["a"].canChangeVolume(e)},perform:function(){return Object(be["a"])({component:"ChangeVolumeForm",props:{model:e}})}},notification_history:{name:"action_dock.show_notifications",icon:"mdi-alarm-check",perform:function(){return Object(be["a"])({component:"AnnouncementHistory",props:{model:e}})},canPerform:function(){return!0}},pin_thread:{icon:"mdi-pin",name:"action_dock.pin_thread",canPerform:function(){return I["a"].canPinThread(e)},perform:function(){return n.pin(e)}},unpin_thread:{icon:"mdi-pin-off",name:"action_dock.unpin_thread",canPerform:function(){return I["a"].canUnpinThread(e)},perform:function(){return n.unpin(e)}},dismiss_thread:{name:"dashboard_page.mark_as_read",icon:"mdi-check",canPerform:function(){return e.isUnread()},perform:function(){return n.dismiss(e)}},announce_thread:{name:"common.action.invite",icon:"mdi-send",canPerform:function(){return e.group().adminsInclude(c["a"].user())||(e.group().membersCanAnnounce||e.group().membersCanAddGuests)&&e.membersInclude(c["a"].user())},perform:function(){return S["a"].$emit("openModal",{component:"StrandMembersList",props:{discussion:e}})}},react:{canPerform:function(){return I["a"].canAddComment(e)}},edit_tags:{icon:"mdi-tag-outline",name:"loomio_tags.card_title",canPerform:function(){return I["a"].canEditThread(e)},perform:function(){return S["a"].$emit("openModal",{component:"TagsSelect",props:{model:e.clone()}})}},add_comment:{icon:"mdi-reply",canPerform:function(){return I["a"].canAddComment(e)},perform:function(){return t.$vuetify.goTo("#add-comment")}},show_history:{icon:"mdi-history",name:"action_dock.show_edits",canPerform:function(){return e.edited()},perform:function(){return Object(be["a"])({component:"RevisionHistoryModal",props:{model:e}})}},edit_thread:{name:"common.action.edit",icon:"mdi-pencil",canPerform:function(){return I["a"].canEditThread(e)},to:function(){return"/d/".concat(e.key,"/edit")},perform:function(){return j["a"].discussions.remote.fetchById(e.key,{exclude_types:"group user poll event"}).then((function(){return Object(be["a"])({component:"DiscussionForm",props:{discussion:e.clone()}})}))}},edit_arrangement:{icon:"mdi-directions-fork",canPerform:function(){return I["a"].canEditThread(e)},perform:function(){return Object(be["a"])({component:"ArrangementForm",props:{discussion:e.clone()}})}},translate_thread:{icon:"mdi-translate",name:"common.action.translate",menu:!0,canPerform:function(){return I["a"].canTranslate(e)},perform:function(){return c["a"].user()&&e.translate(c["a"].user().locale)}},close_thread:{menu:!0,canPerform:function(){return!e.closedAt},perform:function(){return n.close(e)}},reopen_thread:{menu:!0,canPerform:function(){return I["a"].canReopenThread(e)},perform:function(){return n.reopen(e)}},move_thread:{menu:!0,canPerform:function(){return I["a"].canMoveThread(e)},perform:function(){return Object(be["a"])({component:"MoveThreadForm",props:{discussion:e.clone()}})}},discard_thread:{name:"action_dock.delete_thread",menu:!0,canPerform:function(){return I["a"].canDeleteThread(e)},perform:function(){return Object(be["a"])({component:"ConfirmModal",props:{confirm:{submit:e.discard,text:{title:"delete_thread_form.title",helptext:"delete_thread_form.body",submit:"delete_thread_form.confirm",flash:"delete_thread_form.messages.success"},redirect:ve["a"].group(e.group())}}})}}}}},{key:"mute",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c["a"].user().hasExperienced("mutingThread")||o?(t=e.volume(),e.saveVolume("mute").then((function(){return _e["a"].success("discussion.volume.mute_message",{name:e.title},"undo",(function(){return n.unmute(e,t)}))}))):(j["a"].users.saveExperience("mutingThread"),j["a"].users.updateProfile(c["a"].user()).then((function(){return Object(be["a"])({component:"ConfirmModal",props:{confirm:{submit:function(){return e.saveVolume("mute",!0)},text:{title:"mute_explanation_modal.mute_thread",flash:"discussion.volume.mute_message",fragment:"mute_thread"}}}})})))}},{key:"unmute",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";return e.saveVolume(n).then((function(){return _e["a"].success("discussion.volume.unmute_message",{name:e.title},"undo",(function(){return t.mute(e)}))}))}},{key:"close",value:function(e){var t=this;return c["a"].user().hasExperienced("closingThread")?e.close().then((function(){return _e["a"].success("discussion.closed.closed",{},"undo",(function(){return t.reopen(e)}))})):(j["a"].users.saveExperience("closingThread"),j["a"].users.updateProfile(c["a"].user()).then((function(){return Object(be["a"])({component:"ConfirmModal",props:{confirm:{submit:e.close,text:{title:"close_explanation_modal.close_thread",helptext:"close_explanation_modal.body",flash:"discussion.closed.closed"}}}})})))}},{key:"reopen",value:function(e){var t=this;return e.reopen().then((function(){return _e["a"].success("discussion.closed.reopened",{},"undo",(function(){return t.close(e)}))}))}},{key:"dismiss",value:function(e){var t=this;return c["a"].user().hasExperienced("dismissThread")?e.dismiss().then((function(){return _e["a"].success("dashboard_page.thread_dismissed",{},"undo",(function(){return t.recall(e)}))})):(j["a"].users.saveExperience("dismissThread"),Object(be["a"])({component:"ConfirmModal",props:{confirm:{submit:function(){return t.dismiss(e)},text:{title:"dismiss_explanation_modal.dismiss_thread",helptext:"dismiss_explanation_modal.body_html",submit:"dismiss_explanation_modal.dismiss_thread",flash:"dashboard_page.thread_dismissed"}}}}))}},{key:"recall",value:function(e){var t=this;return e.recall().then((function(){return _e["a"].success("dashboard_page.thread_recalled",{},"undo",(function(){return t.dismiss(e)}))}))}},{key:"pin",value:function(e){var t=this;return c["a"].user().hasExperienced("pinningThread")?e.savePin().then((function(){return _e["a"].success("discussion.pin.pinned","undo",(function(){return t.unpin(e)}))})):j["a"].users.saveExperience("pinningThread").then((function(){return Object(be["a"])({component:"ConfirmModal",props:{confirm:{submit:e.savePin,text:{title:"pin_thread_modal.title",flash:"discussion.pin.pinned",helptext:"pin_thread_modal.helptext"}}}})}))}},{key:"unpin",value:function(e){var t=this;return e.savePin().then((function(){return _e["a"].success("discussion.pin.unpinned","undo",(function(){return t.pin(e)}))}))}}]),e}()),Ce={props:{thread:Object,groupPage:{type:Boolean,default:!1},showGroupName:{type:Boolean,default:!0}},computed:{dockActions:function(){return r()(xe.actions(this.thread,this),["dismiss_thread"])},menuActions:function(){var e;return e=this.groupPage?this.$vuetify.breakpoint.smAndDown?["dismiss_thread","pin_thread","unpin_thread","move_thread","close_thread","reopen_thread","discard_thread"]:["pin_thread","unpin_thread","move_thread","close_thread","reopen_thread","discard_thread"]:this.$vuetify.breakpoint.smAndDown?["dismiss_thread","close_thread","reopen_thread"]:["close_thread","reopen_thread"],r()(xe.actions(this.thread,this),e)},canPerformAny:function(){return he()(this.menuActions,(function(e){return e.canPerform()}))}}},Oe=Ce,je=(n("70ad"),n("5173")),Se=n("e89d"),Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"common.active_time_ago",args:{time_ago:e.approximate(e.date)}},expression:"{path: 'common.active_time_ago', args: {time_ago: approximate(date)}}"}]})},Pe=[],Te=n("4116"),Ae={props:{date:Date},methods:{approximate:Te["a"]}},Re=Ae,Ve=Object(L["a"])(Re,Ie,Pe,!1,null,null,null),$e=Ve.exports,Ne=n("fe39"),Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-chart-preview",attrs:{"aria-hidden":"true"}},["bar"==e.chartType?n("bar-chart",{attrs:{"stance-counts":e.poll.stanceCounts,showMyStance:e.showMyStance,size:e.size}}):e._e(),"progress"==e.chartType?n("progress-chart",{attrs:{"stance-counts":e.poll.stanceCounts,goal:e.poll.votersCount,showMyStance:e.showMyStance,size:e.size}}):e._e(),"pie"==e.chartType?n("poll-proposal-chart-preview",{attrs:{"stance-data":e.poll.stanceData,"my-stance":e.myStance,showMyStance:e.showMyStance,size:e.size}}):e._e(),"matrix"==e.chartType?n("matrix-chart",{attrs:{"matrix-counts":e.poll.matrixCounts,showMyStance:e.showMyStance,size:e.size}}):e._e()],1)},Me=[],De=n("6cfa"),Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bar-chart",style:{height:e.size+"px",width:e.size+"px"}})},Fe=[],qe=n("abdd"),Ue=n.n(qe),Be=n("dd61"),ze=n.n(Be),He=n("1929"),Ge=n.n(He),Ke={props:{stanceCounts:Array,size:Number},data:function(){return{svgEl:null,shapes:[]}},computed:{scoreData:function(){return x()(ze()(this.stanceCounts,(function(e,t){return{color:a["a"].pollColors.poll[t],index:t,score:e}})),5)},scoreMaxValue:function(){return Ue()(ze()(this.scoreData,(function(e){return e.score})))}},methods:{draw:function(){return this.scoreData.length>0&&this.scoreMaxValue>0?this.drawChart():this.drawPlaceholder()},drawPlaceholder:function(){var e,t,n=this;return A()(this.shapes,(function(e){return e.remove()})),e=this.size/3,t={0:this.size,1:2*this.size/3,2:this.size/3},A()(t,(function(t,o){return n.svgEl.rect(t,e-2).fill("#ebebeb").x(0).y(o*e)}))},drawChart:function(){var e,t=this;return A()(this.shapes,(function(e){return e.remove()})),e=this.size/this.scoreData.length,ze()(this.scoreData,(function(n){var o;return o=Ue()([t.size*n.score/t.scoreMaxValue,2]),t.svgEl.rect(o,e-2).fill(n.color).x(0).y(n.index*e)}))}},watch:{stanceCounts:function(){return this.draw()}},mounted:function(){return this.svgEl=Ge()(this.$el).size("100%","100%"),this.draw()}},We=Ke,Ye=(n("28ef"),Object(L["a"])(We,Le,Fe,!1,null,null,null)),Qe=Ye.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"progress-chart",style:{width:e.size+"px",height:e.size+"px"}})},Je=[],Xe=n("d180"),et=n.n(Xe),tt={props:{stanceCounts:Array,goal:Number,size:Number},data:function(){return{svgEl:null}},methods:{draw:function(){var e,t=this;return e=0,A()(this.stanceCounts,(function(n,o){var r;return r=t.size*Ue()([parseInt(n),0])/t.goal,t.svgEl.rect(t.size,r).fill(a["a"].pollColors.count[o]).x(0).y(t.size-r-e),e+=r})),this.svgEl.circle(this.size/2).fill("#fff").x(this.size/4).y(this.size/4),this.svgEl.text((et()(this.stanceCounts)||0).toString()).font({size:this.fontSize,anchor:"middle"}).x(this.size/2).y(this.size/4+3)}},watch:{stanceCounts:function(){return this.draw()}},computed:{fontSize:function(){return.33*this.size}},mounted:function(){return this.svgEl=Ge()(this.$el).size("100%","100%"),this.draw()}},nt=tt,ot=(n("aaf7"),Object(L["a"])(nt,Ze,Je,!1,null,null,null)),rt=ot.exports,it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-proposal-chart-preview",style:{width:e.size+"px",height:e.size+"px"}},[n("poll-proposal-chart",{staticClass:"poll-common-collapsed__pie-chart",attrs:{"stance-data":e.stanceData,diameter:e.size}}),e.showMyStance?n("div",{staticClass:"poll-proposal-chart-preview__stance-container"},[e.myStance&&e.myStance.castAt?n("div",{class:"poll-proposal-chart-preview__stance poll-proposal-chart-preview__stance--"+this.myStance.pollOption().name}):n("div",{staticClass:"poll-proposal-chart-preview__stance poll-proposal-chart-preview__stance--undecided"},[e._v("?")])]):e._e()],1)},at=[],st={props:{size:Number,stanceData:Object,myStance:Object,showMyStance:Boolean}},ct=st,lt=(n("2b08"),n("38fe")),ut=Object(L["a"])(ct,it,at,!1,null,null,null),dt=ut.exports;q()(ut,{PollProposalChart:lt["a"]});var pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"matrix-chart"})},mt=[],ft=n("db1a"),ht=n.n(ft),_t=n("13ea"),vt=n.n(_t),bt={props:{matrixCounts:Array,size:Number},data:function(){return{svgEl:null,shapes:[]}},mounted:function(){return this.svgEl=Ge()(this.$el).size(this.size,this.size),this.draw()},methods:{draw:function(){return A()(this.shapes,(function(e){return e.remove()})),vt()(this.matrixCounts)?this.drawPlaceholder():this.drawChart()},drawChart:function(){var e,t=this;return e=this.size/Ue()([this.matrixCounts.length,this.matrixCounts[0].length]),A()(this.matrixCounts,(function(n,o){return A()(n,(function(n,r){return t.drawShape(o,r,e,n)}))}))},drawPlaceholder:function(){var e=this;return A()(ht()(5),(function(t){return A()(ht()(5),(function(n){return e.drawShape(t,n,e.size/5,0)}))}))},drawShape:function(e,t,n,o){var r;return r=["#ebebeb","#f3b300","#00e572"][o],this.shapes.push(this.svgEl.circle(n-1).fill(r).x(n*e).y(n*t))}},watch:{stanceCounts:function(){return this.draw()}}},gt=bt,yt=Object(L["a"])(gt,pt,mt,!1,null,null,null),kt=yt.exports,wt={components:{BarChart:Qe},props:{poll:Object,showMyStance:{type:Boolean,default:!0},size:{type:Number,default:48}},computed:{chartType:function(){return Object(De["a"])(this.poll.pollType,"chart_type")},myStance:function(){return Object(De["c"])(this.poll)}}},xt=wt,Ct=Object(L["a"])(xt,Ee,Me,!1,null,null,null),Ot=Ct.exports;q()(Ct,{MatrixChart:kt,PollProposalChartPreview:dt,ProgressChart:rt});var jt=n("cc56"),St=n("900e"),It=n("c450"),Pt=n("cc20"),Tt=n("132d"),At=n("da13"),Rt=n("1800"),Vt=n("8270"),$t=n("5d23"),Nt=Object(L["a"])(Oe,pe,me,!1,null,null,null),Et=Nt.exports;q()(Nt,{ActionDock:je["a"],ActionMenu:Se["a"],ActiveTimeAgo:$e,MidDot:Ne["a"],PollCommonChartPreview:Ot,Space:jt["a"],TagsDisplay:St["a"],UserAvatar:It["a"],VChip:Pt["a"],VIcon:Tt["a"],VListItem:At["a"],VListItemAction:Rt["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"]});var Mt=n("8860"),Dt=Object(L["a"])(de,ae,se,!1,null,null,null),Lt=Dt.exports;q()(Dt,{ThreadPreview:Et,VList:Mt["a"]});var Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-item",{staticClass:"thread-preview thread-preview__link",attrs:{to:e.urlFor(e.result)}},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.result.title))]),n("v-list-item-subtitle",[n("span",{domProps:{innerHTML:e._s(e.result.resultGroupName)}}),e._v("\n\n"),n("time-ago",{attrs:{date:e.result.lastActivityAt}}),e._v("\n\n"),n("span",{domProps:{innerHTML:e._s(e.result.blurb)}})],1)],1)],1)},qt=[],Ut={props:{result:Object}},Bt=Ut,zt=n("f55c"),Ht=Object(L["a"])(Bt,Ft,qt,!1,null,null,null),Gt=Ht.exports;q()(Ht,{TimeAgo:zt["a"],VListItem:At["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"]});var Kt=n("b0af"),Wt=n("a523"),Yt=n("f6c4"),Qt=n("e0c7"),Zt=n("8654"),Jt=Object(L["a"])(D,p,m,!1,null,null,null),Xt=Jt.exports;q()(Jt,{Loading:X,LoadingContent:ie,ThreadPreviewCollection:Lt,ThreadSearchResult:Gt,VCard:Kt["a"],VContainer:Wt["a"],VLayout:Q["a"],VList:Mt["a"],VMain:Yt["a"],VSubheader:Qt["a"],VTextField:Zt["a"]});var en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-container",{staticClass:"inbox-page thread-preview-collection__container max-width-1024",attrs:{"grid-list-lg":""}},[n("h1",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.titleVisible},expression:"{callback: titleVisible}"},{name:"t",rawName:"v-t",value:"inbox_page.unread_threads",expression:"'inbox_page.unread_threads'"}],staticClass:"display-1 my-4",attrs:{tabindex:"-1"}}),0==e.unreadCount&&e.loading?n("section",{staticClass:"dashboard-page__loading",attrs:{"aria-hidden":"true"}},[n("div",{staticClass:"thread-previews-container"},e._l([1,2,3,4,5,6,7,8,9,10],(function(e,t){return n("loading-content",{key:t,staticClass:"thread-preview",attrs:{lineCount:2}})})),1)]):e._e(),e.unreadCount>0||!e.loading?n("section",{staticClass:"inbox-page__threads"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.unreadCount,expression:"unreadCount == 0"}],staticClass:"inbox-page__no-threads"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"inbox_page.no_threads",expression:"'inbox_page.no_threads'"}]}),n("span",[e._v("")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.groups.length,expression:"groups.length == 0"}],staticClass:"inbox-page__no-groups"},[n("p",{directives:[{name:"t",rawName:"v-t",value:"inbox_page.no_groups.explanation",expression:"'inbox_page.no_groups.explanation'"}]}),n("button",{directives:[{name:"t",rawName:"v-t",value:"inbox_page.no_groups.start",expression:"'inbox_page.no_groups.start'"}],staticClass:"lmo-btn-link--blue",on:{click:function(t){return e.startGroup()}}}),e._v(""),n("span",{directives:[{name:"t",rawName:"v-t",value:"inbox_page.no_groups.or",expression:"'inbox_page.no_groups.or'"}]}),e._v(""),n("span",{domProps:{innerHTML:e._s(e.$t("inbox_page.no_groups.join_group"))}})]),e._l(e.groups,(function(t){return n("div",{key:t.id,staticClass:"inbox-page__group"},[e.views[t.key].length>0?n("v-card",{staticClass:"mb-3"},[n("v-card-title",[n("v-avatar",{staticClass:"mr-3",attrs:{tile:"",size:"48px"}},[n("v-img",{attrs:{src:t.logoUrl(),"aria-hidden":"true"}})],1),n("router-link",{staticClass:"inbox-page__group-name",attrs:{to:"/g/"+t.key}},[n("span",{staticClass:"subheading"},[e._v(e._s(t.name))])])],1),n("thread-preview-collection",{attrs:{threads:e.views[t.key],limit:e.threadLimit}})],1):e._e()],1)}))],2):e._e()])],1)},tn=[],nn=n("c707"),on=n.n(nn),rn=n("3ff1"),an=n.n(rn),sn={data:function(){return{threadLimit:50,views:{},groups:[],loading:!1,unreadCount:0,filters:["only_threads_in_my_groups","show_unread","show_recent","hide_muted","hide_dismissed"]}},created:function(){var e=this;return this.init(),S["a"].$on("signedIn",(function(){return e.init()}))},methods:{startGroup:function(){return S["a"].$emit("openModal",{component:"GroupNewForm",props:{group:j["a"].groups.build()}})},init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c["a"].isSignedIn()&&(this.loading=!0,j["a"].discussions.fetchInbox(t).then((function(){return e.loading=!1}))),S["a"].$emit("currentComponent",{titleKey:"inbox_page.unread_threads",page:"inboxPage"}),this.watchRecords({collections:["discussions","groups"],query:function(t){return e.groups=on()(c["a"].user().inboxGroups(),"name"),e.views={},A()(e.groups,(function(n){return e.views[n.key]=V(t,{filters:e.filters,group:n})})),e.unreadCount=et()(an()(e.views),(function(e){return e.length}))}})}}},cn=sn,ln=n("8212"),un=n("99d9"),dn=n("adda"),pn=Object(L["a"])(cn,en,tn,!1,null,null,null),mn=pn.exports;q()(pn,{LoadingContent:ie,ThreadPreviewCollection:Lt,VAvatar:ln["a"],VCard:Kt["a"],VCardTitle:un["d"],VContainer:Wt["a"],VImg:dn["a"],VMain:Yt["a"]});var fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-container",{staticClass:"explore-page max-width-1024"},[n("v-text-field",{attrs:{placeholder:e.$t("explore_page.search_placeholder"),id:"search-field","append-icon":"mdi-magnify"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),n("v-select",{attrs:{items:e.orderOptions,"item-value":"val","item-text":"name",placeholder:e.$t("explore_page.order_by"),value:e.order},on:{change:e.handleOrderChange}}),n("loading",{attrs:{until:!e.searching}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.noResultsFound,expression:"noResultsFound"}],staticClass:"explore-page__no-results-found",domProps:{innerHTML:e._s(e.$t("explore_page.no_results_found"))}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showMessage,expression:"showMessage"}],staticClass:"explore-page__search-results",domProps:{innerHTML:e._s(e.$t(e.searchResultsMessage,{resultCount:e.resultsCount,searchTerm:e.query}))}}),n("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.searching,expression:"!searching"}],staticClass:"explore-page__groups my-4",attrs:{wrap:""}},[e._l(e.orderedGroups,(function(t){return n("v-col",{key:t.id,attrs:{lg:6,md:6,sm:12}},[n("v-card",{staticClass:"explore-page__group my-4",attrs:{to:e.urlFor(t)}},[n("v-img",{staticClass:"explore-page__group-cover",attrs:{src:t.coverUrl("small")}}),n("v-card-title",[e._v(e._s(t.name))]),n("v-card-text",[n("div",{staticClass:"explore-page__group-description"},[e._v(e._s(e.groupDescription(t)))]),n("v-layout",{staticClass:"explore-page__group-stats",attrs:{"justify-start":"","align-center":""}},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-account-multiple")]),n("span",{staticClass:"mr-4"},[e._v(e._s(t.membershipsCount))]),n("v-icon",{staticClass:"mr-2"},[e._v("mdi-comment-text-outline")]),n("span",{staticClass:"mr-4"},[e._v(e._s(t.discussionsCount))]),n("v-icon",{staticClass:"mr-2"},[e._v("mdi-thumbs-up-down")]),n("span",{staticClass:"mr-4"},[e._v(e._s(t.pollsCount))])],1)],1)],1)],1)})),n("div",{directives:[{name:"show",rawName:"v-show",value:e.canLoadMoreGroups,expression:"canLoadMoreGroups"}],staticClass:"lmo-show-more"},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.searching,expression:"!searching"},{name:"t",rawName:"v-t",value:"common.action.show_more",expression:"'common.action.show_more'"}],staticClass:"explore-page__show-more",on:{click:function(t){return e.loadMore()}}})],1)],2)],1)],1)},hn=[],_n=n("bba4"),vn=n.n(_n),bn=n("cd9d"),gn=n.n(bn),yn=n("77c1"),kn=n.n(yn),wn={methods:{urlFor:function(e,t,n){return ve["a"].route({model:e,action:t,params:n})},mergeQuery:function(e){return{query:kn()(Object.assign({},this.$route.query,e),gn.a)}}}},xn=n("78b0"),Cn=n.n(xn),On=n("0e54"),jn=n.n(On),Sn={mixins:[wn],data:function(){return{groupIds:[],resultsCount:0,perPage:50,canLoadMoreGroups:!0,query:"",searching:!0,order:null,orderOptions:[{name:this.$t("explore_page.newest_first"),val:"created_at"},{name:this.$t("explore_page.biggest_first"),val:"memberships_count"}]}},created:function(){return this.$route.query.order?this.order=this.$route.query.order:this.$router.replace(this.mergeQuery({order:"memberships_count"}))},mounted:function(){return S["a"].$emit("currentComponent",{titleKey:"explore_page.header",page:"explorePage"}),this.search()},methods:{groups:function(){return j["a"].groups.find(this.groupIds)},handleSearchResults:function(e){var t=this;return j["a"].groups.getExploreResultsCount(this.query).then((function(e){return t.resultsCount=e.count})),this.groupIds=this.groupIds.concat(ze()(e.groups,"id")),this.canLoadMoreGroups=(e.groups||[]).length===this.perPage,this.searching=!1},search:h()((function(){return this.groupIds=[],j["a"].groups.fetchExploreGroups(this.query,{per:this.perPage,order:this.order}).then(this.handleSearchResults)}),250),loadMore:function(){return this.searching=!0,j["a"].groups.fetchExploreGroups(this.query,{from:this.groupIds.length,per:this.perPage,order:this.order}).then(this.handleSearchResults)},groupCover:function(e){return{"background-image":"url(".concat(e.coverUrl("small"),")")}},groupDescription:function(e){var t,n,o;return t=e.description||"","md"===e.descriptionFormat&&(t=jn()(t)),o=new DOMParser,n=o.parseFromString(t,"text/html"),Cn()(n.body.textContent,{length:100})},handleOrderChange:function(e){return this.$router.replace(this.mergeQuery({order:e}))}},computed:{showMessage:function(){return!this.searching&&this.query.length>0&&this.groups().length>0},searchResultsMessage:function(){return 1===this.groups().length?"explore_page.single_search_result":"explore_page.multiple_search_results"},noResultsFound:function(){return!this.searching&&0===this.groups().length},orderedGroups:function(){return v()(this.groups(),[vn()(this.order)],["desc"])}},watch:{query:function(){return this.searching=!0,this.search()},"$route.query.order":{immediate:!0,handler:function(){return this.order=this.$route.query.order,this.search()}}}},In=Sn,Pn=n("8336"),Tn=n("62ad"),An=n("0fd9"),Rn=n("b974"),Vn=Object(L["a"])(In,fn,hn,!1,null,null,null),$n=Vn.exports;q()(Vn,{Loading:X,VBtn:Pn["a"],VCard:Kt["a"],VCardText:un["c"],VCardTitle:un["d"],VCol:Tn["a"],VContainer:Wt["a"],VIcon:Tt["a"],VImg:dn["a"],VLayout:Q["a"],VMain:Yt["a"],VRow:An["a"],VSelect:Rn["a"],VTextField:Zt["a"]});var Nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"thread-page"},[n("v-main",[n("loading",{attrs:{until:e.discussion}},[e.discussion?n("v-container",{directives:[{name:"scroll",rawName:"v-scroll",value:e.scrollThreadNav,expression:"scrollThreadNav"}],staticClass:"thread-page max-width-800"},[n("thread-current-poll-banner",{attrs:{discussion:e.discussion}}),n("discussion-fork-actions",{key:"fork-actions"+e.discussion.id,attrs:{discussion:e.discussion}}),n("thread-card",{key:e.discussion.id,attrs:{discussion:e.discussion}}),n("v-btn",{staticClass:"thread-page__open-thread-nav",attrs:{fab:"",fixed:"",bottom:"",right:""},on:{click:function(t){return e.openThreadNav()}}},[n("v-progress-circular",{attrs:{color:"accent",value:e.threadPercentage}})],1)],1):e._e()],1)],1),n("router-view",{attrs:{name:"nav"}})],1)},En=[],Mn=n("4416"),Dn=n.n(Mn),Ln=n("5c8c");Ln["a"].configure({visitsUrl:"/bhoy/visits",eventsUrl:"/bhoy/events"});var Fn=Ln["a"],qn={data:function(){return{discussion:null,threadPercentage:0,position:0,group:null,discussionFetchError:null}},created:function(){var e=this;return S["a"].$on("visibleSlots",(function(t){if(e.discussion)return 0!==t.length?(e.position=e.discussion.newestFirst?Dn()(t)||e.discussion.createdEvent().childCount:Dn()(t)||1,e.threadPercentage=e.position/e.discussion.createdEvent().childCount*100):void 0}))},mounted:function(){return this.init()},beforeDestroy:function(){return S["a"].$off("visibleSlots")},watch:{"$route.params.key":"init","$route.params.comment_id":"init"},methods:{openThreadNav:function(){return S["a"].$emit("toggleThreadNav")},scrollThreadNav:function(){return S["a"].$emit("scrollThreadNav")},init:function(){var e=this;return j["a"].samlProviders.authenticateForDiscussion(this.$route.params.key),j["a"].discussions.findOrFetchById(this.$route.params.key,{exclude_types:"poll outcome"}).then((function(t){return e.discussion=t,e.discussion.group().newHost&&(window.location.host=e.discussion.group().newHost),Fn.trackView({discussionId:e.discussion.id,groupId:e.discussion.groupId,organisationId:e.discussion.group().parentOrSelf().id,pageType:"threadPage"}),S["a"].$emit("currentComponent",{focusHeading:!1,page:"threadPage",discussion:e.discussion,group:e.discussion.group(),title:e.discussion.title})})).catch((function(e){if(S["a"].$emit("pageError",e),403===e.status&&!c["a"].isSignedIn())return S["a"].$emit("openAuthModal")}))}}},Un=qn,Bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.discussion.forkedEventIds.length?n("v-banner",{staticClass:"discussion-fork-actions",style:e.styles,attrs:{"single-line":"",sticky:"",elevation:4,icon:"mdi-call-split",color:"accent"},scopedSlots:e._u([{key:"actions",fn:function(){return[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"discussion_fork_actions.move",expression:"'discussion_fork_actions.move'"}],attrs:{color:"primary"},on:{click:function(t){return e.openMoveCommentsModal()}}}),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.discussion.forkedEventIds=[]}}},[n("v-icon",[e._v("mdi-close")])],1)]},proxy:!0}],null,!1,1076397127)},[n("span",{directives:[{name:"t",rawName:"v-t",value:"discussion_fork_actions.helptext",expression:"'discussion_fork_actions.helptext'"}]})]):e._e()},zn=[],Hn={props:{discussion:Object},methods:{openMoveCommentsModal:function(){return Object(be["a"])({component:"MoveCommentsModal",props:{discussion:this.discussion}})}},computed:{styles:function(){var e,t,n=this.$vuetify.application;return e=n.bar,t=n.top,{display:"flex",position:"sticky",top:"".concat(e+t,"px"),zIndex:1}}}},Gn=Hn,Kn=n("e4e5"),Wn=Object(L["a"])(Gn,Bn,zn,!1,null,null,null),Yn=Wn.exports;q()(Wn,{VBanner:Kn["a"],VBtn:Pn["a"],VIcon:Tt["a"]});var Qn,Zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"thread-card",attrs:{outlined:""}},[n("context-panel",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:function(t){return e.viewportIsAbove=t},expression:"(isVisible) => viewportIsAbove = isVisible"}],attrs:{discussion:e.discussion}}),e.discussion.newestFirst?n("thread-actions-panel",{attrs:{discussion:e.discussion}}):e._e(),n("activity-panel",{attrs:{discussion:e.discussion,"viewport-is-below":e.viewportIsBelow,"viewport-is-above":e.viewportIsAbove}}),n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:function(t){return e.viewportIsBelow=t},expression:"(isVisible) => viewportIsBelow = isVisible"}],staticClass:"visibility-sensor",staticStyle:{"min-height":"1px"}},[e.discussion.newestFirst?e._e():n("thread-actions-panel",{attrs:{discussion:e.discussion}})],1)],1)},Jn=[],Xn={props:{discussion:Object},data:function(){return{viewportIsAbove:!1,viewportIsBelow:!1}}},eo=Xn,to=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-panel",attrs:{"aria-label":"Discussion and activity"}},[n("div",{staticClass:"text-center py-2"},[n("v-btn",{staticClass:"action-button grey--text",attrs:{text:"",small:"",disabled:!e.canEditThread},on:{click:function(t){return e.openArrangementForm()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"activity_card.count_responses",args:{count:e.parentEvent.childCount}},expression:"{path: 'activity_card.count_responses', args: {count: parentEvent.childCount}}"}]}),n("space"),e.discussion.newestFirst?n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_votes_panel.newest_first",expression:"'poll_common_votes_panel.newest_first'"}]}):e._e(),e.discussion.newestFirst?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_votes_panel.oldest_first",expression:"'poll_common_votes_panel.oldest_first'"}]})],1)],1),e.parentEvent?n("thread-renderer",{attrs:{"newest-first":e.discussion.newestFirst,"parent-event":e.parentEvent,fetch:e.fetch,"focal-event":e.focalEvent,"is-returning":e.isReturning}}):e._e()],1)},no=[],oo=n("501e"),ro=n.n(oo),io=n("69f3"),ao=n.n(io);function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qn="group discussion";var co={components:{ThreadRenderer:function(){return Promise.resolve().then(n.bind(null,"221e"))}},props:{discussion:Object,viewportIsBelow:Boolean,viewportIsAbove:Boolean},data:function(){return{parentEvent:this.discussion.createdEvent(),focalEvent:null,loader:null,initialSlots:[],isReturning:null!=this.discussion.lastReadAt}},mounted:function(){var e=this;return this.loader=new P["a"]({collection:"events"},{params:{exclude_types:Qn}}),this.watchRecords({key:this.discussion.id,collections:["groups","memberships"],query:function(){return e.canAddComment=I["a"].canAddComment(e.discussion)}}),this.respondToRoute()},methods:{respondToRoute:function(){var e,t=this;if(this.discussion.key===this.$route.params.key&&0!==this.parentEvent.childCount)return e=parseInt(this.$route.params.comment_id)?{column:"commentId",id:parseInt(this.$route.params.comment_id),scrollTo:!0}:parseInt(this.$route.query.p)?{column:"position",id:parseInt(this.$route.query.p),scrollTo:!0}:parseInt(this.$route.params.sequence_id)?{column:"sequenceId",id:parseInt(this.$route.params.sequence_id),scrollTo:!0}:this.discussion.readItemsCount()>0&&this.discussion.unreadItemsCount()>0?{column:"sequenceId",id:this.discussion.firstUnreadSequenceId(),scrollTo:!0}:(this.scrollTo(".context-panel h1"),this.discussion.newestFirst&&!this.viewportIsBelow||!this.discussion.newestFirst&&this.viewportIsBelow?{column:"position",id:this.parentEvent.childCount}:{column:"position",id:1}),this.fetchEvent(e.column,e.id).then((function(n){return n?(t.focalEvent=n,e.scrollTo?t.scrollTo("#sequence-".concat(t.focalEvent.sequenceId)):void 0):_e["a"].error("thread_context.item_maybe_deleted")}))},fetchEvent:function(e,t){var n,o,r=this;return(n=this.findEvent(e,t))?Promise.resolve(n):(o=function(){switch(e){case"sequenceId":return"from";case"commentId":return"comment_id";case"position":return"from_sequence_id_of_position"}}(),this.loader.fetchRecords(so({exclude_types:Qn,discussion_id:this.discussion.id,order:"sequence_id",per:5},"".concat(o),t)).then((function(){return Promise.resolve(r.findEvent(e,t))})))},findEvent:function(e,t){var n;return!!ro()(t)&&(j["a"],0===t?this.discussion.createdEvent():(n=function(){switch(vn()(e)){case"position":return{discussionId:this.discussion.id,position:t,depth:1};case"sequenceId":return{discussionId:this.discussion.id,sequenceId:t};case"commentId":return{kind:"new_comment",eventableId:t}}}.call(this),j["a"].events.find(n)[0]))},refocus:function(){if(this.focalEvent&&document.querySelector("#sequence-".concat(this.focalEvent.sequenceId)))return this.$vuetify.goTo("#sequence-".concat(this.focalEvent.sequenceId),{duration:0}),this.focalEvent=null},fetch:function(e,t){if(e.length)return this.loader.fetchRecords({exclude_types:Qn,comment_id:null,from:null,from_unread:null,discussion_id:this.discussion.id,order:"sequence_id",from_sequence_id_of_position:ao()(e),until_sequence_id_of_position:Dn()(e),per:4*t}).then(this.refocus)},openArrangementForm:function(){return xe.actions(this.discussion,this)["edit_arrangement"].perform()}},watch:{"$route.params.sequence_id":"respondToRoute","$route.params.comment_id":"respondToRoute","$route.query.p":"respondToRoute","parentEvent.childCount":function(e,t){if(0===t&&0!==e)return this.respondToRoute()}},computed:{canStartPoll:function(){return I["a"].canStartPoll(this.discussion)},canEditThread:function(){return I["a"].canEditThread(this.discussion)}}},lo=co,uo=n("221e"),po=Object(L["a"])(lo,to,no,!1,null,null,null),mo=po.exports;q()(po,{Space:jt["a"],ThreadRenderer:uo["default"],VBtn:Pn["a"]});var fo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.viewed,once:!0},expression:"{callback: viewed, once: true}"}],staticClass:"context-panel lmo-action-dock-wrapper",attrs:{id:"context","aria-label":e.$t("context_panel.aria_intro",{author:e.discussion.authorName(),group:e.discussion.group().fullName})}},[n("v-layout",{attrs:{"align-center":"","mr-3":"","ml-2":"","pt-2":"",wrap:""}},[n("v-breadcrumbs",{staticClass:"context-panel__breadcrumbs",attrs:{"aria-label":"Group",items:e.groups,divider:">"}}),n("tags-display",{attrs:{tags:e.discussion.tags()}}),n("span"),n("v-spacer"),n("span",{staticClass:"grey--text body-2"},[n("time-ago",{attrs:{"aria-label":"Thread started",date:e.discussion.createdAt}})],1)],1),n("h1",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.titleVisible},expression:"{callback: titleVisible}"}],staticClass:"display-1 context-panel__heading px-3",attrs:{id:"sequence-0",tabindex:"-1"}},["pinned"==e.status?n("i",{staticClass:"mdi mdi-pin-outline context-panel__heading-pin"}):e._e(),e.discussion.translation.title?e._e():n("span",[e._v(e._s(e.discussion.title))]),e.discussion.translation.title?n("span",[n("translation",{attrs:{model:e.discussion,field:"title"}})],1):e._e()]),n("div",{staticClass:"mx-3 mb-2"},[n("div",{staticClass:"context-panel__details my-2 body-2",attrs:{"align-center":""}},[n("user-avatar",{staticClass:"mr-4",attrs:{user:e.discussion.author(),size:40}}),n("span",[n("router-link",{attrs:{to:e.urlFor(e.discussion.author()),title:"Thread author"}},[e._v(e._s(e.discussion.authorName()))]),n("mid-dot"),n("span",{attrs:{"aria-label":"Thread privacy"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.discussion.private,expression:"discussion.private"}],staticClass:"nowrap context-panel__discussion-privacy"},[n("i",{staticClass:"mdi mdi-lock-outline"}),n("span",{directives:[{name:"t",rawName:"v-t",value:"common.privacy.private",expression:"'common.privacy.private'"}],staticClass:"text--secondary"})]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.discussion.private,expression:"!discussion.private"}],staticClass:"nowrap context-panel__discussion-privacy"},[n("i",{staticClass:"mdi mdi-earth"}),n("span",{directives:[{name:"t",rawName:"v-t",value:"common.privacy.public",expression:"'common.privacy.public'"}],staticClass:"text--secondary"})])]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.discussion.seenByCount>0,expression:"discussion.seenByCount > 0"}]},[n("mid-dot"),n("a",{directives:[{name:"t",rawName:"v-t",value:{path:"thread_context.seen_by_count",args:{count:e.discussion.seenByCount}},expression:"{ path: 'thread_context.seen_by_count', args: { count: discussion.seenByCount } }"}],staticClass:"context-panel__seen_by_count",on:{click:function(t){return e.openSeenByModal()}}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:null!=e.discussion.usersNotifiedCount,expression:"discussion.usersNotifiedCount != null"}]},[n("mid-dot"),n("a",{directives:[{name:"t",rawName:"v-t",value:{path:"thread_context.count_notified",args:{count:e.discussion.usersNotifiedCount}},expression:"{ path: 'thread_context.count_notified', args: { count: discussion.usersNotifiedCount} }"}],staticClass:"context-panel__users_notified_count",on:{click:e.actions.notification_history.perform}})],1),e.discussion.forkedEvent()&&e.discussion.forkedEvent().discussion()?n("span",{staticClass:"context-panel__fork-details"},[n("mid-dot"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_context.forked_from",expression:"'thread_context.forked_from'"}],staticClass:"text--secondary"}),n("router-link",{attrs:{to:e.urlFor(e.discussion.forkedEvent())}},[e._v(e._s(e.discussion.forkedEvent().discussion().title))])],1):e._e()],1),e.discussion.closedAt?n("div",{directives:[{name:"t",rawName:"v-t",value:"common.privacy.closed",expression:"'common.privacy.closed'"}],staticClass:"lmo-badge lmo-pointer"},[n("v-tooltip",{attrs:{bottom:""}},[e._v(e._s(e.exactDate(e.discussion.closedAt)))])],1):e._e()],1),n("formatted-text",{staticClass:"context-panel__description",attrs:{model:e.discussion,column:"description","aria-label":"Discussion context"}}),n("link-previews",{attrs:{model:e.discussion}}),n("document-list",{attrs:{model:e.discussion}}),n("attachment-list",{attrs:{attachments:e.discussion.attachments}}),n("action-dock",{attrs:{model:e.discussion,actions:e.dockActions,"menu-actions":e.menuActions,"fetch-reactions":""}})],1),n("v-divider")],1)},ho=[],_o={props:{discussion:Object},data:function(){return{actions:xe.actions(this.discussion,this)}},mounted:function(){return this.discussion.fetchUsersNotifiedCount()},computed:{arrangementAction:function(){return this.actions["edit_arrangement"]},editThread:function(){return this.actions["edit_thread"]},dockActions:function(){return r()(this.actions,["react","translate_thread","add_comment","subscribe","unsubscribe","unignore","edit_thread","announce_thread"])},menuActions:function(){return r()(this.actions,["show_history","notification_history","close_thread","reopen_thread","move_thread","discard_thread","export_thread"])},status:function(){if(this.discussion.pinned)return"pinned"},statusTitle:function(){return this.$t("context_panel.thread_status.".concat(this.status))},groups:function(){var e=this;return this.discussion.groupId?ze()(this.discussion.group().parentsAndSelf(),(function(t){return{text:t.name,disabled:!1,to:e.urlFor(t)}})):[{text:this.$t("discussion_form.invite_only_thread"),disabled:!1,to:"/threads/direct"}]}},methods:{viewed:function(e){if(e)return this.discussion.markAsSeen()},openArrangementForm:function(){return this.actions["edit_arrangement"].perform()},openSeenByModal:function(){return Object(be["a"])({component:"SeenByModal",props:{discussion:this.discussion}})}}},vo=_o,bo=(n("a5fc"),n("4bde")),go=n("0f27"),yo=n("c442"),ko=n("42f1"),wo=n("93ba"),xo=n("2bc5"),Co=n("ce7e"),Oo=n("2fa4"),jo=n("3a2f"),So=Object(L["a"])(vo,fo,ho,!1,null,null,null),Io=So.exports;q()(So,{ActionDock:je["a"],AttachmentList:bo["a"],DocumentList:go["a"],FormattedText:yo["a"],LinkPreviews:ko["a"],MidDot:Ne["a"],TagsDisplay:St["a"],TimeAgo:zt["a"],Translation:wo["a"],UserAvatar:It["a"],VBreadcrumbs:xo["a"],VDivider:Co["a"],VLayout:Q["a"],VSpacer:Oo["a"],VTooltip:jo["a"]});var Po=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"actions-panel",attrs:{id:"add-comment","aria-label":e.$t("activity_card.aria_label")}},[e.discussion.newestFirst?e._e():n("v-divider",{attrs:{"aria-hidden":"true"}}),n("v-tabs",{staticClass:"activity-panel__actions mb-3",attrs:{grow:"","icons-and-text":"","show-arrows":""},model:{value:e.currentAction,callback:function(t){e.currentAction=t},expression:"currentAction"}},[n("v-tabs-slider"),n("v-tab",{attrs:{href:"#add-comment"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"activity_card.comment",expression:"'activity_card.comment'"}]}),n("v-icon",[e._v("mdi-comment")])],1),e.canStartPoll?n("v-tab",{staticClass:"activity-panel__add-proposal",attrs:{href:"#add-proposal"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_types.proposal",expression:"'poll_types.proposal'"}]}),n("v-icon",[e._v("mdi-thumbs-up-down")])],1):e._e(),e.canStartPoll?n("v-tab",{staticClass:"activity-panel__add-poll",attrs:{href:"#add-poll"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_types.poll",expression:"'poll_types.poll'"}]}),n("v-icon",[e._v("mdi-poll")])],1):e._e()],1),n("v-tabs-items",{model:{value:e.currentAction,callback:function(t){e.currentAction=t},expression:"currentAction"}},[n("v-tab-item",{attrs:{value:"add-comment"}},[n("div",{staticClass:"add-comment-panel px-3"},[e.canAddComment?n("comment-form",{attrs:{comment:e.newComment},on:{"comment-submitted":function(t){return e.reset()}}}):e._e(),e.canAddComment?e._e():n("div",{staticClass:"add-comment-panel__join-actions"},[e.isLoggedIn()?n("join-group-button",{attrs:{group:e.discussion.group(),block:!0}}):e._e(),e.isLoggedIn()?e._e():n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"comment_form.sign_in",expression:"'comment_form.sign_in'"}],staticClass:"add-comment-panel__sign-in-btn",on:{click:function(t){return e.signIn()}}})],1)],1)]),e.canStartPoll?n("v-tab-item",{attrs:{value:"add-proposal"}},[n("div",{staticClass:"px-2"},[n("poll-proposal-complete-form",{attrs:{discussion:e.discussion}})],1)]):e._e(),e.canStartPoll?n("v-tab-item",{attrs:{value:"add-poll"}},[n("poll-common-start-form",{attrs:{discussion:e.discussion,group:e.discussion.group()}})],1):e._e()],1),e.discussion.newestFirst?n("v-divider",{attrs:{"aria-hidden":"true"}}):e._e()],1)},To=[],Ao={methods:{openAuthModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return S["a"].$emit("openModal",{component:"AuthModal",props:{preventClose:e}})}}},Ro=(n("f4048"),{mixins:[Ao],props:{discussion:Object},data:function(){return{canAddComment:!1,currentAction:"add-comment",newComment:null}},created:function(){var e=this;return this.init(),S["a"].$on("pollSaved",(function(){return e.currentAction="add-comment"}))},beforeDestroy:function(){return S["a"].$off("pollSaved")},methods:{init:function(){var e=this;return this.watchRecords({key:this.discussion.id,collections:["groups","memberships"],query:function(t){return e.canAddComment=I["a"].canAddComment(e.discussion)}}),this.reset()},reset:function(){return this.newComment=j["a"].comments.build({bodyFormat:c["a"].defaultFormat(),discussionId:this.discussion.id,authorId:c["a"].user().id})},signIn:function(){return this.openAuthModal()},isLoggedIn:function(){return c["a"].isSignedIn()}},computed:{canStartPoll:function(){return I["a"].canStartPoll(this.discussion)}}}),Vo=Ro,$o=(n("10d4"),n("c341")),No=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!e.membership&&(e.canJoinGroup||e.canRequestMembership||e.hasRequestedMembership)?n("v-alert",{attrs:{outlined:"",color:"primary",dense:""}},[n("v-layout",{attrs:{"align-center":""}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"join_group_button.not_a_member",expression:"'join_group_button.not_a_member'"}]}),n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:e.label,expression:"label"}],staticClass:"join-group-button",attrs:{color:"primary",disabled:e.hasRequestedMembership},on:{click:e.join}})],1)],1):e._e()},Eo=[],Mo={props:{group:{required:!0,type:Object},block:Boolean},data:function(){return{membership:null,hasRequestedMembership:!1}},created:function(){var e=this;if(!c["a"].user().membershipFor(this.group))return j["a"].membershipRequests.fetchMyPendingByGroup(this.group.id),this.watchRecords({collections:["memberships","membershipRequests"],query:function(){return e.hasRequestedMembership=e.group.hasPendingMembershipRequestFrom(c["a"].user()),e.membership=c["a"].user().membershipFor(e.group)}})},methods:{join:function(){var e=this;return c["a"].isSignedIn()?this.canJoinGroup?j["a"].memberships.joinGroup(this.group).then((function(){return S["a"].$emit("joinedGroup",{group:e.group}),_e["a"].success("join_group_button.messages.joined_group",{group:e.group.fullName})})):S["a"].$emit("openModal",{component:"MembershipRequestForm",props:{group:this.group}}):S["a"].$emit("openModal",{component:"AuthModal"})}},computed:{label:function(){return this.hasRequestedMembership?"join_group_button.membership_requested":"join_group_button.join_group"},canJoinGroup:function(){return this.group&&I["a"].canJoinGroup(this.group)},canRequestMembership:function(){return I["a"].canRequestMembership(this.group)}}},Do=Mo,Lo=n("0798"),Fo=Object(L["a"])(Do,No,Eo,!1,null,null,null),qo=Fo.exports;q()(Fo,{VAlert:Lo["a"],VBtn:Pn["a"],VLayout:Q["a"],VSpacer:Oo["a"]});var Uo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-start-form"},[n("v-list",{staticClass:"decision-tools-card__poll-types",attrs:{"two-line":"",dense:""}},[e.isModal?n("v-card-title",[n("v-layout",{staticStyle:{"align-items":"center"},attrs:{"justify-space-between":""}},[n("div",{staticClass:"group-form__group-title"},[n("h1",{directives:[{name:"t",rawName:"v-t",value:"decision_tools_card.choose_type",expression:"'decision_tools_card.choose_type'"}],staticClass:"headline"})]),n("dismiss-modal-button")],1)],1):e._e(),e._l(e.pollTypes(),(function(t,o){return n("v-list-item",{key:o,staticClass:"decision-tools-card__poll-type",class:"decision-tools-card__poll-type--"+t,attrs:{"aria-label":e.getAriaLabelForPollType(t)},on:{click:function(n){return e.openPollModal(t)}}},[n("v-list-item-avatar",[n("v-icon",[e._v(e._s(e.callFieldFromTemplate(t,"material_icon")))])],1),n("v-list-item-content",[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"poll_types."+t,expression:"'poll_types.' + pollType"}],staticClass:"text-capitalize"}),n("v-list-item-subtitle",{directives:[{name:"t",rawName:"v-t",value:"poll_"+t+"_form.tool_tip_collapsed",expression:"'poll_' + pollType + '_form.tool_tip_collapsed'"}]})],1)],1)}))],2)],1)},Bo=[],zo=n("5add"),Ho=n.n(zo),Go={props:{isModal:{type:Boolean,default:!1},discussion:{type:Object,default:function(){return{}}},group:Object},methods:{openPollModal:function(e){return S["a"].$emit("openModal",{component:"PollCommonModal",maxWidth:710,props:{poll:this.newPoll(e)}})},pollTypes:function(){return this.isModal?a["a"].pollTypes:Ho()(a["a"].pollTypes,"proposal")},newPoll:function(e){return j["a"].polls.build({pollType:e,discussionId:this.discussion.id,groupId:this.discussion.groupId||this.group.id,pollOptionNames:ze()(this.callFieldFromTemplate(e,"poll_options_attributes"),"name"),detailsFormat:c["a"].defaultFormat()})},callFieldFromTemplate:function(e,t){return Object(De["a"])(e,t)},getAriaLabelForPollType:function(e){return this.$t("poll_types.".concat(e))}}},Ko=Go,Wo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"dismiss-modal-button",attrs:{icon:"","aria-label":e.$t("common.action.cancel")},on:{click:e.closeModal}},[n("v-icon",[e._v("mdi-close")])],1)},Yo=[],Qo=n("1e82"),Zo={props:{close:Function,model:Object},methods:{closeModal:function(){if(!this.model||Qo["a"].okToLeave(this.model))return this.close?this.close():S["a"].$emit("closeModal")}}},Jo=Zo,Xo=Object(L["a"])(Jo,Wo,Yo,!1,null,null,null),er=Xo.exports;q()(Xo,{VBtn:Pn["a"],VIcon:Tt["a"]});var tr=Object(L["a"])(Ko,Uo,Bo,!1,null,null,null),nr=tr.exports;q()(tr,{DismissModalButton:er,VCardTitle:un["d"],VIcon:Tt["a"],VLayout:Q["a"],VList:Mt["a"],VListItem:At["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"]});var or=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-proposal-complete-form pa-3",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null}}},[n("submit-overlay",{attrs:{value:e.poll&&e.poll.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:e.title_key,expression:"title_key"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer")],1),n("poll-common-directive",{attrs:{poll:e.poll,name:"form","should-reset":e.shouldReset}}),n("v-card-actions",{staticClass:"poll-common-form-actions"},[n("v-spacer"),e.poll.closingAt?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_form.start_poll_type",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_form.start_poll_type', args: {poll_type: poll.translatedPollType()}}"}],staticClass:"poll-common-form__submit",attrs:{color:"primary"},on:{click:function(t){return e.submit()}}}):e._e(),e.poll.closingAt?e._e():n("v-btn",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_form.share_poll_type",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_form.share_poll_type', args: {poll_type: poll.translatedPollType()}}"}],staticClass:"poll-common-form__submit",attrs:{color:"primary"},on:{click:function(t){return e.submit()}}})],1)],1)},rr=[],ir=n("31ed"),ar={props:{discussion:Object,close:Function},data:function(){return{poll:null,shouldReset:!1}},created:function(){return this.init()},computed:{title_key:function(){var e;return e=this.poll.isNew()?"start":"edit","poll_"+this.poll.pollType+"_form."+e+"_header"}},methods:{submit:function(){var e=this;return"meeting"===this.poll.pollType&&(this.poll.customFields.can_respond_maybe=this.poll.canRespondMaybe),this.poll.setErrors({}),this.poll.save().then((function(t){var n;return e.init(),e.reset(),n=t.polls[0].key,j["a"].polls.findOrFetchById(n,{},!0).then((function(e){return S["a"].$emit("pollSaved",e),_e["a"].success("poll_".concat(e.pollType,"_form.").concat(e.pollType,"_created")),S["a"].$emit("openModal",{component:"PollMembers",props:{poll:e}})}))})).catch(Object(ir["a"])(this.poll))},init:function(){return this.poll=this.newPoll()},reset:function(){return this.shouldReset=!this.shouldReset},newPoll:function(){var e;return e=a["a"].features.app.proposal_consent_default?["consent","abstain","objection"]:ze()(Object(De["a"])("proposal","poll_options_attributes"),"name"),j["a"].polls.build({pollType:"proposal",discussionId:this.discussion.id,groupId:this.discussion.groupId,pollOptionNames:e,detailsFormat:c["a"].defaultFormat()})},icon:function(){return Object(De["b"])(this.poll)}}},sr=ar,cr=n("4fe1"),lr=n("1b97"),ur=Object(L["a"])(sr,or,rr,!1,null,null,null),dr=ur.exports;q()(ur,{PollCommonDirective:cr["default"],SubmitOverlay:lr["a"],VBtn:Pn["a"],VCardActions:un["a"],VCardTitle:un["d"],VSpacer:Oo["a"]});var pr=n("71a3"),mr=n("c671"),fr=n("fe57"),hr=n("aac8"),_r=n("9a96"),vr=Object(L["a"])(Vo,Po,To,!1,null,null,null),br=vr.exports;q()(vr,{CommentForm:$o["a"],JoinGroupButton:qo,PollCommonStartForm:nr,PollProposalCompleteForm:dr,VBtn:Pn["a"],VDivider:Co["a"],VIcon:Tt["a"],VTab:pr["a"],VTabItem:mr["a"],VTabs:fr["a"],VTabsItems:hr["a"],VTabsSlider:_r["a"]});var gr=Object(L["a"])(eo,Zn,Jn,!1,null,null,null),yr=gr.exports;q()(gr,{ActivityPanel:mo,ContextPanel:Io,ThreadActionsPanel:br,VCard:Kt["a"]});var kr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.event&&e.$route.params.sequence_id!=e.event.sequenceId?n("v-card",{staticClass:"current-poll-banner mb-4 py-2 px-4 lmo-no-print",style:e.styles,attrs:{elevation:3,"aria-label":e.$t("thread_context.current_poll_type_banner",{pollType:e.poll.translatedPollType()})}},[n("v-avatar",{staticClass:"mr-4",attrs:{size:36}},[n("poll-common-chart-preview",{attrs:{poll:e.poll,size:36}})],1),n("div",{staticClass:"current-poll-banner__title mr-4"},[n("span",[e._v(e._s(e.poll.title))])]),n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.view",expression:"'common.view'"}],attrs:{color:"primary",to:e.urlFor(e.event)}})],1):e._e()},wr=[],xr=n("2769"),Cr=n.n(xr),Or={props:{discussion:Object},data:function(){return{poll:null}},created:function(){var e=this;return this.watchRecords({collections:["polls","stances"],query:function(t){return e.poll=Cr()(e.discussion.activePolls().filter((function(e){return e.pollOptionNames.length})),(function(e){return I["a"].canParticipateInPoll(e)&&!e.iHaveVoted()}))}})},computed:{styles:function(){var e,t,n=this.$vuetify.application;return e=n.bar,t=n.top,{display:"flex",position:"sticky",top:"".concat(e+t,"px"),zIndex:1}},event:function(){return this.poll&&this.poll.createdEvent()}}},jr=Or,Sr=(n("cb44"),Object(L["a"])(jr,kr,wr,!1,null,null,null)),Ir=Sr.exports;q()(Sr,{PollCommonChartPreview:Ot,VAvatar:ln["a"],VBtn:Pn["a"],VCard:Kt["a"],VSpacer:Oo["a"]});var Pr=n("269a"),Tr=n.n(Pr),Ar=n("f977"),Rr=Object(L["a"])(Un,Nn,En,!1,null,null,null),Vr=Rr.exports;q()(Rr,{DiscussionForkActions:Yn,Loading:X,ThreadCard:yr,ThreadCurrentPollBanner:Ir,VBtn:Pn["a"],VContainer:Wt["a"],VMain:Yt["a"],VProgressCircular:Z["a"]}),Tr()(Rr,{Scroll:Ar["b"]});var $r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"strand-page"},[n("v-main",[e.discussion?n("v-container",{staticClass:"max-width-800"},[n("thread-current-poll-banner",{attrs:{discussion:e.discussion}}),n("discussion-fork-actions",{key:"fork-actions"+e.discussion.id,attrs:{discussion:e.discussion}}),e.loader?n("strand-card",{attrs:{discussion:e.discussion,loader:e.loader}}):e._e()],1):e._e()],1),e.loader?n("strand-nav",{attrs:{discussion:e.discussion,loader:e.loader}}):e._e()],1)},Nr=[],Er=n("c228"),Mr=n.n(Er),Dr=n("eed6"),Lr=n.n(Dr),Fr=n("0644"),qr=n.n(Fr),Ur=n("94d4");function Br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Hr(e,t,n){return t&&zr(e.prototype,t),n&&zr(e,n),e}var Gr,Kr=function(){function e(t){Br(this,e),this.discussion=t,this.reset()}return Hr(e,[{key:"reset",value:function(){return this.collection=i["a"].observable([]),this.rules=[],this.readRanges=qr()(this.discussion.readRanges),this.focusAttrs={},this.visibleKeys={},this.collapsed=i["a"].observable({}),this.loading=!1,this.padding=20}},{key:"firstUnreadSequenceId",value:function(){return(Ur["a"].subtractRanges(this.discussion.ranges,this.readRanges)[0]||[])[0]}},{key:"setVisible",value:function(e,t){var n=this;return this.visibleKeys.hasOwnProperty(t.positionKey)||t.markAsRead(),this.visibleKeys[t.positionKey]=e,S["a"].$emit("visibleKeys",Object.keys(this.visibleKeys).filter((function(e){return n.visibleKeys[e]})).sort())}},{key:"collapse",value:function(e){var t=this;return Object.keys(this.visibleKeys).forEach((function(n){if(n.startsWith(e.positionKey))return t.visibleKeys[n]=!1})),i["a"].set(this.collapsed,e.id,!0)}},{key:"expand",value:function(e){return i["a"].set(this.collapsed,e.id,!1)}},{key:"jumpToEarliest",value:function(){return this.reset(),this.addLoadOldestFirstRule(),this.fetch()}},{key:"jumpToLatest",value:function(){return this.reset(),this.addLoadNewestFirstRule(),this.fetch()}},{key:"jumpToUnread",value:function(){return this.reset(),this.addLoadUnreadRule(),this.fetch()}},{key:"jumpToSequenceId",value:function(e){return this.reset(),this.addLoadSequenceIdRule(e),this.fetch()}},{key:"loadEverything",value:function(){return this.loading=!0,this.titleKey="strand_nav.whole_thread",this.addRule({local:{find:{discussionId:this.discussion.id}},remote:{discussion_id:this.discussion.id,per:1e3}})}},{key:"loadChildren",value:function(e){return this.loading="children"+e.id,"new_discussion"===e.kind?this.addRule({name:"load discussion children",local:{find:{discussionId:this.discussion.id},simplesort:"id",limit:this.padding},remote:{discussion_id:this.discussion.id,order_by:"position_key",per:this.padding}}):this.addRule({name:"load children (prefix ".concat(e.positionKey,")"),local:{find:{discussionId:this.discussion.id,positionKey:{$regex:"^".concat(e.positionKey)}},simplesort:"positionKey",limit:this.padding},remote:{discussion_id:this.discussion.id,position_key_sw:e.positionKey,depth_gt:e.depth,order_by:"position_key",per:this.padding}})}},{key:"autoLoadAfter",value:function(e){if(1===e.depth)return this.loadAfter(e)}},{key:"autoLoadBefore",value:function(e){if(1===e.depth)return this.loadBefore(e)}},{key:"loadAfter",value:function(e){var t,n;return n=e.positionKey.split("-").slice(0,-1).join("-"),t=e.positionKey,this.addRule({name:"load after (prefix ".concat(n,")"),local:{find:{discussionId:this.discussion.id,positionKey:{$jgt:t,$regex:n&&"^".concat(n)||void 0}},simplesort:"id",limit:this.padding},remote:{discussion_id:this.discussion.id,position_key_gt:t,position_key_sw:n||null,order_by:"position_key",per:this.padding}})}},{key:"loadBefore",value:function(e){var t;return this.loading="before"+e.id,t=e.positionKey.split("-").slice(0,-1).join("-"),this.addRule({name:"load before (prefix ".concat(t,")"),local:{find:{discussionId:this.discussion.id,positionKey:{$jlt:e.positionKey,$regex:t&&"^".concat(t)||void 0}},simplesort:"sequenceId",simplesortDesc:!0,limit:this.padding},remote:{discussion_id:this.discussion.id,position_key_lt:e.positionKey,position_key_sw:t||null,order_by:"position_key",order_desc:1,per:this.padding}})}},{key:"addLoadCommentRule",value:function(e){return this.titleKey="strand_nav.from_comment",this.rules.push({name:"comment from url",local:{find:{discussionId:this.discussion.id,commentId:{$gte:e}},limit:this.padding},remote:{order:"sequence_id",discussion_id:this.discussion.id,comment_id:e}})}},{key:"addLoadPinnedRule",value:function(){return this.titleKey="strand_nav.all_pinned",this.rules.push({name:"all pinned events",local:{find:{discussionId:this.discussion.id,pinned:!0}},remote:{discussion_id:this.discussion.id,pinned:!0,per:200}})}},{key:"addLoadPositionRule",value:function(e){return this.rules.push({name:"position from url",local:{find:{discussionId:this.discussion.id,depth:1,position:{$gte:e}},simplesort:"positionKey",limit:this.padding},remote:{discussion_id:this.discussion.id,from_sequence_id_of_position:e,order:"position_key"}})}},{key:"addLoadPositionKeyRule",value:function(e){return this.loading=e,this.rules.push({name:"positionKey from url",local:{find:{discussionId:this.discussion.id,positionKey:{$jgte:e}},simplesort:"positionKey",limit:parseInt(this.padding/2)},remote:{discussion_id:this.discussion.id,position_key_gte:e,order_by:"position_key",per:parseInt(this.padding/2)}}),this.rules.push({name:"positionKey rollback",local:{find:{discussionId:this.discussion.id,positionKey:{$lt:e}},simplesort:"positionKey",simplesortDesc:!0,limit:parseInt(this.padding/2)},remote:{discussion_id:this.discussion.id,position_key_lt:e,order_by:"position_key",order_desc:1,per:parseInt(this.padding/2)}})}},{key:"addLoadSequenceIdRule",value:function(e){var t;return t=Ue()([parseInt(e)-parseInt(this.padding/2),0]),this.loading=t,this.titleKey="strand_nav.from_sequence_id",this.rules.push({name:"sequenceId from url",local:{find:{discussionId:this.discussion.id,sequenceId:{$jgte:t}},simplesort:"sequenceId",limit:this.padding},remote:{sequence_id_gte:t,discussion_id:this.discussion.id,order:"sequence_id",per:this.padding}})}},{key:"addLoadNewestRule",value:function(){return this.titleKey="strand_nav.newest_first",this.rules.push({local:{find:{discussionId:this.discussion.id},simplesort:"sequenceId",simplesortDesc:!0,limit:this.padding},remote:{discussion_id:this.discussion.id,order_by:"sequence_id",order_desc:!0,per:this.padding}})}},{key:"addContextRule",value:function(){return this.rules.push({name:"context",local:{find:{id:this.discussion.createdEvent().id}}})}},{key:"addLoadOldestRule",value:function(){return this.titleKey="strand_nav.oldest_first",this.rules.push({name:"oldest",local:{find:{discussionId:this.discussion.id},simplesort:"sequenceId",limit:this.padding},remote:{discussion_id:this.discussion.id,order_by:"sequence_id",per:this.padding}})}},{key:"addLoadUnreadRule",value:function(){var e;return this.titleKey="strand_nav.unread",this.discussion.updatedAt>this.discussion.lastReadAt&&this.rules.push({name:"context updated",local:{find:{id:this.discussion.createdEvent().id}}}),e=Ue()([this.firstUnreadSequenceId()-parseInt(this.padding/2),this.discussion.firstSequenceId()]),this.rules.push({name:{path:"strand_nav.new_to_you"},local:{find:{discussionId:this.discussion.id,sequenceId:{$jgte:e}},limit:this.padding,order:"sequenceId"},remote:{discussion_id:this.discussion.id,sequence_id_gte:e,order_by:"sequence_id",per:this.padding}})}},{key:"addRule",value:function(e){var t,n=this;return this.rules.push(e),t=Object.assign({},e.remote,{exclude_types:"group discussion"}),j["a"].events.fetch({params:t}).finally((function(){return n.loading=!1}))}},{key:"fetch",value:function(){var e,t=this;return e=this.rules.filter((function(e){return e.remote})).map((function(e){var t;return t=Object.assign({},e.remote,{exclude_types:"group discussion"}),j["a"].events.fetch({params:t})})),Promise.all(e).finally((function(){return t.loading=!1}))}},{key:"updateCollection",value:function(){var e,t,n,o,r=this;return this.records=[],this.rules.forEach((function(e){var t;return t=j["a"].events.collection.chain(),t.find(e.local.find),e.local.simplesort&&(t=t.simplesort(e.local.simplesort,e.local.simplesortDesc)),e.local.limit&&(t=t.limit(e.local.limit)),r.records=r.records.concat(t.data())})),this.records=Lr()(this.records.concat(Mr()(this.records.map((function(e){return e.parent()}))))),this.records=v()(this.records,"positionKey"),e=this.records.map((function(e){return e.id})),o=this.records.filter((function(t){return null===t.parentId||!e.includes(t.parentId)})),t={},this.records.forEach((function(e){return t[e.parentId]=(t[e.parentId]||[]).concat([e])})),n=function(e){return e.map((function(e){return{event:e,children:t[e.id]&&n(t[e.id])||[]}}))},this.collection=n(o),this.collection}}]),e}();function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yr={data:function(){return{discussion:null,loader:null,position:0,group:null,discussionFetchError:null}},mounted:function(){return this.init()},watch:(Gr={"$route.params.key":"init","$route.params.comment_id":"init","$route.params.sequence_id":"respondToRoute"},Wr(Gr,"$route.params.comment_id","respondToRoute"),Wr(Gr,"$route.query.p","respondToRoute"),Wr(Gr,"$route.query.k","respondToRoute"),Gr),methods:{init:function(){var e=this;return j["a"].samlProviders.authenticateForDiscussion(this.$route.params.key),j["a"].discussions.findOrFetchById(this.$route.params.key,{exclude_types:"poll outcome"}).then((function(t){return t.group().newHost&&(window.location.host=t.group().newHost),e.discussion=t,e.loader=new Kr(e.discussion),e.respondToRoute(),Fn.trackView({discussionId:e.discussion.id,groupId:e.discussion.groupId,organisationId:e.discussion.group().parentOrSelf().id,pageType:"threadPage"}),S["a"].$emit("currentComponent",{focusHeading:!1,page:"threadPage",discussion:e.discussion,group:e.discussion.group(),title:e.discussion.title}),e.watchRecords({key:"strand"+e.discussion.id,collections:["events"],query:function(){return e.loader.updateCollection()}})})).catch((function(e){if(S["a"].$emit("pageError",e),403===e.status&&!c["a"].isSignedIn())return S["a"].$emit("openAuthModal")}))},respondToRoute:function(){var e=this;if(this.discussion&&this.discussion.key===this.$route.params.key&&0!==this.discussion.createdEvent.childCount)return this.loader.reset(),this.$route.query.k&&(this.loader.addLoadPositionKeyRule(this.$route.query.k),this.loader.focusAttrs={positionKey:this.$route.query.k}),this.$route.query.p&&(this.loader.addLoadPositionRule(parseInt(this.$route.params.p)),this.loader.focusAttrs={position:this.$route.query.p}),this.$route.params.sequence_id&&(this.loader.addLoadSequenceIdRule(parseInt(this.$route.params.sequence_id)),this.loader.focusAttrs={sequenceId:parseInt(this.$route.params.sequence_id)}),this.$route.query.comment_id&&(this.loader.addLoadCommentRule(parseInt(this.$route.params.comment_id)),this.loader.focusAttrs={commentId:parseInt(this.$route.query.comment_id)}),0===this.loader.rules.length&&(this.discussion.lastReadAt?0===this.discussion.unreadItemsCount()?(this.loader.addLoadNewestRule(),this.loader.focusAttrs={newest:1}):(this.loader.addLoadUnreadRule(),this.loader.focusAttrs={unread:1}):(this.loader.addLoadOldestRule(),this.loader.focusAttrs={oldest:1})),this.discussion.itemsCount<=this.loader.padding&&(this.loader.rules=[],this.loader.loadEverything()),this.loader.addContextRule(),this.loader.fetch().finally((function(){return setTimeout((function(){if(e.loader.focusAttrs.newest&&(e.discussion.lastSequenceId()?e.scrollTo(".sequenceId-".concat(e.discussion.lastSequenceId())):e.scrollTo(".context-panel")),e.loader.focusAttrs.unread&&(e.loader.firstUnreadSequenceId()?e.scrollTo(".sequenceId-".concat(e.loader.firstUnreadSequenceId())):e.scrollTo(".context-panel")),e.loader.focusAttrs.oldest&&e.scrollTo(".context-panel"),e.loader.focusAttrs.commentId&&e.scrollTo(".commendId-".concat(e.loader.focusAttrs.commentId)),e.loader.focusAttrs.sequenceId&&e.scrollTo(".sequenceId-".concat(e.loader.focusAttrs.sequenceId)),e.loader.focusAttrs.position&&e.scrollTo(".position-".concat(e.loader.focusAttrs.position)),e.loader.focusAttrs.positionKey)return e.scrollTo(".positionKey-".concat(e.loader.focusAttrs.positionKey))}))})).catch((function(e){return console.log("promises failed",e)}))}}},Qr=Yr,Zr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"strand-card thread-card mb-8"},[n("strand-list",{staticClass:"pt-3 px-3",attrs:{loader:e.loader,collection:e.loader.collection}}),n("strand-actions-panel",{attrs:{discussion:e.discussion}})],1)},Jr=[],Xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"actions-panel",attrs:{id:"add-comment","aria-label":e.$t("activity_card.aria_label")}},[n("v-divider",{attrs:{"aria-hidden":"true"}}),n("v-tabs",{staticClass:"activity-panel__actions mb-3",attrs:{grow:"",text:"","show-arrows":""},model:{value:e.currentAction,callback:function(t){e.currentAction=t},expression:"currentAction"}},[n("v-tabs-slider"),n("v-tab",{attrs:{href:"#add-comment"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"activity_card.comment",expression:"'activity_card.comment'"}]})]),e.canStartPoll?n("v-tab",{staticClass:"activity-panel__add-proposal",attrs:{href:"#add-proposal"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_types.proposal",expression:"'poll_types.proposal'"}]})]):e._e(),e.canStartPoll?n("v-tab",{staticClass:"activity-panel__add-poll",attrs:{href:"#add-poll"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_types.poll",expression:"'poll_types.poll'"}]})]):e._e()],1),n("v-tabs-items",{model:{value:e.currentAction,callback:function(t){e.currentAction=t},expression:"currentAction"}},[n("v-tab-item",{attrs:{value:"add-comment"}},[n("div",{staticClass:"add-comment-panel"},[e.canAddComment?n("comment-form",{attrs:{comment:e.newComment},on:{"comment-submitted":function(t){return e.reset()}}}):e._e(),e.canAddComment?e._e():n("div",{staticClass:"add-comment-panel__join-actions"},[e.isLoggedIn()?n("join-group-button",{attrs:{group:e.discussion.group(),block:!0}}):e._e(),e.isLoggedIn()?e._e():n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"comment_form.sign_in",expression:"'comment_form.sign_in'"}],staticClass:"add-comment-panel__sign-in-btn",on:{click:function(t){return e.signIn()}}})],1)],1)]),e.canStartPoll?n("v-tab-item",{attrs:{value:"add-proposal"}},[n("poll-proposal-complete-form",{attrs:{discussion:e.discussion}})],1):e._e(),e.canStartPoll?n("v-tab-item",{attrs:{value:"add-poll"}},[n("poll-common-start-form",{attrs:{discussion:e.discussion,group:e.discussion.group()}})],1):e._e()],1)],1)},ei=[],ti={mixins:[Ao],props:{discussion:Object},data:function(){return{canAddComment:!1,currentAction:"add-comment",newComment:null}},created:function(){var e=this;return this.init(),S["a"].$on("pollSaved",(function(){return e.currentAction="add-comment"}))},beforeDestroy:function(){return S["a"].$off("pollSaved")},methods:{init:function(){var e=this;return this.watchRecords({key:this.discussion.id,collections:["groups","memberships"],query:function(t){return e.canAddComment=I["a"].canAddComment(e.discussion)}}),this.reset()},reset:function(){return this.newComment=j["a"].comments.build({bodyFormat:c["a"].defaultFormat(),discussionId:this.discussion.id,authorId:c["a"].user().id})},signIn:function(){return this.openAuthModal()},isLoggedIn:function(){return c["a"].isSignedIn()}},watch:{"discussion.id":"reset"},computed:{canStartPoll:function(){return I["a"].canStartPoll(this.discussion)}}},ni=ti,oi=(n("d9ac"),Object(L["a"])(ni,Xr,ei,!1,null,null,null)),ri=oi.exports;q()(oi,{CommentForm:$o["a"],JoinGroupButton:qo,PollCommonStartForm:nr,PollProposalCompleteForm:dr,VBtn:Pn["a"],VDivider:Co["a"],VTab:pr["a"],VTabItem:mr["a"],VTabs:fr["a"],VTabsItems:hr["a"],VTabsSlider:_r["a"]});var ii={components:{StrandActionsPanel:ri},props:{loader:Object},computed:{discussion:function(){return this.loader.discussion},canStartPoll:function(){return I["a"].canStartPoll(this.discussion)},canEditThread:function(){return I["a"].canEditThread(this.discussion)}}},ai=ii,si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"strand-list"},e._l(e.collection,(function(t,o){return n("div",{key:t.event.id,staticClass:"strand-item",class:{"strand-item--deep":t.event.depth>1},attrs:{event:t.event}},[e.parentExists&&1!=t.event.position&&e.isFirstInRange(t.event.position)?n("div",{staticClass:"strand-item__row"},[e._m(0,!0),n("strand-load-more",{attrs:{label:{path:"common.action.count_more",args:{count:e.countEarlierMissing(t.event.position)}},loading:e.loader.loading=="before"+t.event.id},on:{click:function(n){return e.loader.loadBefore(t.event)}}})],1):e._e(),e.loader.collapsed[t.event.id]?e._e():n("div",{staticClass:"strand-item__row"},[t.event.depth>0?n("div",{staticClass:"strand-item__gutter"},[n("div",{staticClass:"d-flex justify-center"},[e.loader.discussion.forkedEventIds.length?n("v-checkbox",{staticClass:"thread-item__is-forking",attrs:{disabled:t.event.forkingDisabled()},on:{change:function(e){return t.event.toggleForking()}},model:{value:t.event.isForking(),callback:function(n){e.$set(t.event,"isForking()",n)},expression:"obj.event.isForking()"}}):[n("user-avatar",{attrs:{user:t.event.actor(),size:t.event.depth>1?28:36,"no-link":""}})]],2),n("div",{staticClass:"strand-item__stem-wrapper",on:{click:function(n){return n.stopPropagation(),e.loader.collapse(t.event)}}},[n("div",{staticClass:"strand-item__stem",class:{"strand-item__stem--unread":e.isUnread(t.event),"strand-item__stem--focused":e.isFocused(t.event),"strand-item__stem--last":t.event.position==e.siblingCount}})])]):e._e(),n("div",{staticClass:"strand-item__main"},[n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{intersection:{threshold:.05},callback:function(n,o){return e.loader.setVisible(n,t.event)}},expression:"{intersection: {threshold: 0.05}, callback: (isVisible, entry) => loader.setVisible(isVisible, obj.event)}"}]},[n(e.componentForKind(t.event.kind),{tag:"component",class:e.classes(t.event),attrs:{event:t.event}})],1),t.event.childCount?n("div",{staticClass:"strand-list__children"},[t.children.length?n("strand-list",{staticClass:"flex-grow-1",attrs:{loader:e.loader,collection:t.children}}):n("div",{staticClass:"strand-item__row"},[n("div",{staticClass:"strand-item__gutter"},[n("div",{staticClass:"strand-item__stem-wrapper"},[n("div",{staticClass:"strand-item__stem strand-item__stem--broken"})])]),n("div",{staticClass:"strand-item__load-more"},[n("strand-load-more",{attrs:{label:{path:"common.action.count_more",args:{count:t.event.descendantCount}},loading:e.loader.loading=="children"+t.event.id},on:{click:function(n){return e.loader.loadChildren(t.event)}}})],1)])],1):e._e()])]),e.loader.collapsed[t.event.id]?n("div",{staticClass:"strand-item__row"},[n("div",{staticClass:"d-flex align-center"},[e.loader.collapsed[t.event.id]?n("div",{staticClass:"strand-item__circle mr-2",on:{click:function(n){return n.stopPropagation(),e.loader.expand(t.event)}}},[n("v-icon",[e._v("mdi-unfold-more-horizontal")])],1):e._e(),n("strand-item-headline",{staticClass:"text--secondary",attrs:{event:t.event,eventable:t.event.model(),collapsed:""}})],1)]):e._e(),0!=e.lastPosition&&e.isLastInLastRange(t.event.position)&&t.event.position!=e.lastPosition?n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:function(n,o){return n&&e.loader.autoLoadAfter(t.event)},once:!0},expression:"{callback: (isVisible, entry) => isVisible && loader.autoLoadAfter(obj.event), once: true}"}],staticClass:"strand-item__row"},[n("strand-load-more",{attrs:{label:{path:"common.action.count_more",args:{count:e.countLaterMissing()}},loading:e.loader.loading=="after"+t.event.id},on:{click:function(n){return e.loader.loadAfter(t.event)}}})],1):e._e()])})),0)},ci=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"strand-item__gutter"},[n("div",{staticClass:"strand-item__stem-wrapper"},[n("div",{staticClass:"strand-item__stem strand-item__stem--broken"})])])}],li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"strand-item__new-comment new-comment",attrs:{id:"'comment-'+ eventable.id",event:e.event,"is-returning":e.isReturning}},[n("strand-item-headline",{attrs:{event:e.event,eventable:e.eventable}}),n("formatted-text",{staticClass:"thread-item__body new-comment__body",attrs:{model:e.eventable,column:"body"}}),n("link-previews",{attrs:{model:e.eventable}}),n("document-list",{attrs:{model:e.eventable,"skip-fetch":""}}),n("attachment-list",{attrs:{attachments:e.eventable.attachments}}),n("action-dock",{attrs:{model:e.eventable,actions:e.dockActions,"menu-actions":e.menuActions}}),e.showReplyForm?n("comment-form",{attrs:{comment:e.newComment,"avatar-size":"36",autofocus:""},on:{"comment-submitted":function(t){e.showReplyForm=!1},"cancel-reply":function(t){e.showReplyForm=!1}}}):e._e()],1)},ui=[],di=n("dce5"),pi=n.n(di),mi=n("a43a"),fi=n("04cc"),hi={props:{event:Object,isReturning:Boolean},computed:{commentActions:function(){return mi["a"].actions(this.eventable,this)},eventActions:function(){return fi["a"].actions(this.event,this)},eventable:function(){return this.event.model()},dockActions:function(){var e,t,n;return I["a"].canEditOwnComment(this.eventable)?e="edit_comment":(t="reply_to_comment",n="show_history"),pi()(r()(this.commentActions,Mr()(["react",t,"translate_comment",e,n])),r()(this.eventActions,[]))},menuActions:function(){var e,t;return I["a"].canEditOwnComment(this.eventable)&&(t="show_history",e="reply_to_comment"),pi()(r()(this.eventActions,["pin_event","unpin_event","move_event","copy_url"]),r()(this.commentActions,Mr()([e,t,"admin_edit_comment","notification_history","discard_comment","undiscard_comment"])))}},data:function(){return{confirmOpts:null,showReplyForm:!1,newComment:null}}},_i=hi,vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",{staticClass:"strand-item__headline thread-item__title body-2 pb-1",attrs:{tabindex:"-1",id:"event-"+e.event.id}},[e.eventable.discardedAt?n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_item.removed",expression:"'thread_item.removed'"}],staticClass:"grey--text"}),n("mid-dot"),n("router-link",{staticClass:"grey--text",attrs:{to:e.link}},[n("time-ago",{attrs:{date:e.eventable.discardedAt}})],1)],1):n("div",{staticClass:"d-flex align-center"},[e._t("headline",[n("span",{staticClass:"strand-item__headline text--secondary",domProps:{innerHTML:e._s(e.headline)}})]),n("mid-dot"),n("router-link",{staticClass:"grey--text body-2",attrs:{to:e.link}},[n("time-ago",{attrs:{date:e.event.createdAt}})],1),n("mid-dot"),e.event.pinned?n("v-icon",[e._v("mdi-pin-outline")]):e._e()],2)])},bi=[],gi=n("a921"),yi={props:{event:Object,eventable:Object,collapsed:Boolean},computed:{headline:function(){var e;return e=this.event.actor(),"new_comment"===this.event.kind&&this.collapsed&&this.event.descendantCount>0?this.$t("reactions_display.name_and_count_more",{name:e.nameWithTitle(this.eventable.group()),count:this.event.descendantCount}):this.$t(Object(gi["a"])(this.event,!0),{author:e.nameWithTitle(this.eventable.group()),username:e.username,key:this.event.model().key,title:Object(gi["c"])(this.event),polltype:this.$t(Object(gi["b"])(this.event)).toLowerCase()})},link:function(){return ve["a"].event(this.event)}}},ki=yi,wi=(n("fa83"),Object(L["a"])(ki,vi,bi,!1,null,null,null)),xi=wi.exports;q()(wi,{MidDot:Ne["a"],TimeAgo:zt["a"],VIcon:Tt["a"]});var Ci=Object(L["a"])(_i,li,ui,!1,null,null,null),Oi=Ci.exports;q()(Ci,{ActionDock:je["a"],AttachmentList:bo["a"],CommentForm:$o["a"],DocumentList:go["a"],FormattedText:yo["a"],LinkPreviews:ko["a"],StrandItemHeadline:xi});var ji=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.viewed,once:!0},expression:"{callback: viewed, once: true}"}],staticClass:"strand-new-discussion context-panel",attrs:{id:"context","aria-label":e.$t("context_panel.aria_intro",{author:e.discussion.authorName(),group:e.discussion.group().fullName})}},[n("v-layout",{staticClass:"ml-n2",attrs:{"align-center":"",wrap:""}},[n("v-breadcrumbs",{staticClass:"context-panel__breadcrumbs",attrs:{items:e.groups,divider:">"}}),n("tags-display",{attrs:{tags:e.discussion.tags()}}),n("v-spacer"),n("span",[n("span",{directives:[{name:"show",rawName:"v-show",value:e.discussion.private,expression:"discussion.private"}],staticClass:"nowrap"},[n("i",{staticClass:"mdi mdi-lock-outline"}),n("span",{directives:[{name:"t",rawName:"v-t",value:"common.privacy.private",expression:"'common.privacy.private'"}],staticClass:"text--secondary"})]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.discussion.private,expression:"!discussion.private"}],staticClass:"nowrap"},[n("i",{staticClass:"mdi mdi-earth"}),n("span",{directives:[{name:"t",rawName:"v-t",value:"common.privacy.public",expression:"'common.privacy.public'"}],staticClass:"text--secondary"})])])],1),n("strand-title",{staticClass:"context-panel__heading",attrs:{discussion:e.discussion}}),n("div",{staticClass:"mb-2 d-flex align-center"},[n("user-avatar",{staticClass:"mr-2",attrs:{user:e.discussion.author(),size:36}}),n("router-link",{attrs:{to:e.urlFor(e.discussion.author())}},[e._v(e._s(e.discussion.authorName()))]),n("mid-dot"),n("router-link",{staticClass:"grey--text body-2",attrs:{to:e.urlFor(e.discussion)}},[n("time-ago",{attrs:{date:e.discussion.createdAt}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:e.discussion.seenByCount>0,expression:"discussion.seenByCount > 0"}]},[n("mid-dot"),n("a",{directives:[{name:"t",rawName:"v-t",value:{path:"thread_context.seen_by_count",args:{count:e.discussion.seenByCount}},expression:"{ path: 'thread_context.seen_by_count', args: { count: discussion.seenByCount } }"}],staticClass:"context-panel__seen_by_count",on:{click:function(t){return e.openSeenByModal()}}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:null!=e.discussion.usersNotifiedCount,expression:"discussion.usersNotifiedCount != null"}]},[n("mid-dot"),n("a",{directives:[{name:"t",rawName:"v-t",value:{path:"thread_context.count_notified",args:{count:e.discussion.usersNotifiedCount}},expression:"{ path: 'thread_context.count_notified', args: { count: discussion.usersNotifiedCount} }"}],staticClass:"context-panel__users_notified_count",on:{click:e.actions.notification_history.perform}})],1)],1),e.collapsed?e._e():[n("formatted-text",{staticClass:"context-panel__description",attrs:{model:e.discussion,column:"description"}}),n("link-previews",{attrs:{model:e.discussion}}),n("document-list",{attrs:{model:e.discussion}}),n("attachment-list",{attrs:{attachments:e.discussion.attachments}}),n("action-dock",{staticClass:"py-2",attrs:{model:e.discussion,actions:e.dockActions,"menu-actions":e.menuActions,"fetch-reactions":""}})]],2)},Si=[],Ii=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chip",{staticClass:"context-panel__discussion-privacy",attrs:{label:"",outlined:""}},[e.discussion.private?[n("v-avatar",{attrs:{left:"",tile:"",title:e.$t("common.privacy.private")}},[n("v-icon",{attrs:{small:"",color:"grey darken-2"}},[e._v("mdi-lock-outline")])],1)]:[n("v-avatar",{attrs:{left:"",tile:"",title:e.$t("common.privacy.public")}},[n("v-icon",{attrs:{small:"",color:"grey darken-2"}},[e._v("mdi-earth")])],1)],e.discussion.groupId&&e.noLink?[n("span",[e._v(e._s(e.discussion.group().name))])]:e._e(),e.discussion.groupId&&!e.noLink?[n("router-link",{attrs:{to:e.urlFor(e.discussion.group())}},[e._v(e._s(e.discussion.group().name))])]:e._e(),e.discussion.groupId?e._e():[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.privacy.private",expression:"'common.privacy.private'"}]})]],2)},Pi=[],Ti={props:{discussion:Object,noLink:Boolean}},Ai=Ti,Ri=Object(L["a"])(Ai,Ii,Pi,!1,null,null,null);Ri.exports;q()(Ri,{VAvatar:ln["a"],VChip:Pt["a"],VIcon:Tt["a"]});var Vi={props:{event:Object,collapsed:Boolean},data:function(){return{actions:xe.actions(this.event.model(),this)}},mounted:function(){return this.event.model().fetchUsersNotifiedCount()},computed:{discussion:function(){return this.event.model()},arrangementAction:function(){return this.actions["edit_arrangement"]},editThread:function(){return this.actions["edit_thread"]},dockActions:function(){return r()(this.actions,["react","translate_thread","add_comment","subscribe","unsubscribe","unignore","edit_thread","announce_thread"])},menuActions:function(){return r()(this.actions,["show_history","notification_history","close_thread","reopen_thread","move_thread","discard_thread","export_thread"])},status:function(){if(this.discussion.pinned)return"pinned"},statusTitle:function(){return this.$t("context_panel.thread_status.".concat(this.status))},groups:function(){var e=this;return this.discussion.group().parentsAndSelf().map((function(t){return{text:t.name,disabled:!1,to:e.urlFor(t)}}))}},methods:{viewed:function(e){if(e)return this.discussion.markAsSeen()},openArrangementForm:function(){return this.actions["edit_arrangement"].perform()},openSeenByModal:function(){return Object(be["a"])({component:"SeenByModal",props:{discussion:this.discussion}})}}},$i=Vi,Ni=(n("8a43"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"thread-title"},[n("h1",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.titleVisible},expression:"{callback: titleVisible}"}],staticClass:"display-1 context-panel__heading py-1",attrs:{id:"sequence-0",tabindex:"-1"}},[e.discussion.translation.title?e._e():n("span",[e._v(e._s(e.discussion.title))]),e.discussion.translation.title?n("span",[n("translation",{attrs:{model:e.discussion,field:"title"}})],1):e._e(),"pinned"==e.status?n("i",{staticClass:"mdi mdi-pin-outline context-panel__heading-pin"}):e._e()])])}),Ei=[],Mi={props:{discussion:Object},computed:{status:function(){if(this.discussion.pinned)return"pinned"},statusTitle:function(){return this.$t("context_panel.thread_status.".concat(this.status))}}},Di=Mi,Li=Object(L["a"])(Di,Ni,Ei,!1,null,null,null),Fi=Li.exports;q()(Li,{Translation:wo["a"]});var qi=Object(L["a"])($i,ji,Si,!1,null,null,null),Ui=qi.exports;q()(qi,{ActionDock:je["a"],AttachmentList:bo["a"],DocumentList:go["a"],FormattedText:yo["a"],LinkPreviews:ko["a"],MidDot:Ne["a"],StrandTitle:Fi,TagsDisplay:St["a"],TimeAgo:zt["a"],UserAvatar:It["a"],VBreadcrumbs:xo["a"],VLayout:Q["a"],VSpacer:Oo["a"]});var Bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"strand-item__discussion-edited",attrs:{id:"'outcome-'+ eventable.id"}},[n("strand-item-headline",{attrs:{event:e.event,eventable:e.eventable}}),n("p",[e._v(e._s(e.event.recipientMessage))])],1)},zi=[],Hi={props:{event:Object},computed:{eventable:function(){return this.event.model()}}},Gi=Hi,Ki=Object(L["a"])(Gi,Bi,zi,!1,null,null,null),Wi=Ki.exports;q()(Ki,{StrandItemHeadline:xi});var Yi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"strand-item poll-created"},[n("v-layout",{attrs:{"justify-space-between":""}},[n("h1",{staticClass:"poll-common-card__title headline pb-1",attrs:{tabindex:"-1"}},[e.event.pinned?n("v-icon",[e._v("mdi-pin-outline")]):e._e(),e.poll.translation.title?e._e():n("router-link",{attrs:{to:e.urlFor(e.poll)}},[e._v(e._s(e.poll.title))]),e.poll.translation.title?n("translation",{attrs:{model:e.poll,field:"title"}}):e._e(),n("poll-common-closing-at",{staticClass:"ml-2",attrs:{poll:e.poll}}),n("tags-display",{attrs:{tags:e.poll.tags()}})],1)]),e.collapsed?e._e():[e.poll.outcome()?e._e():n("poll-common-set-outcome-panel",{attrs:{poll:e.poll}}),e.poll.outcome()?n("poll-common-outcome-panel",{attrs:{outcome:e.poll.outcome()}}):e._e(),n("formatted-text",{staticClass:"poll-common-details-panel__details",attrs:{model:e.poll,column:"details"}}),n("link-previews",{attrs:{model:e.poll}}),n("attachment-list",{attrs:{attachments:e.poll.attachments}}),n("document-list",{attrs:{model:e.poll,"skip-fetch":""}}),e.poll.pollOptionNames.length?n("div",{staticClass:"body-2"},[e.showResults?n("div",{staticClass:"poll-common-card__results-shown"},[n("poll-common-directive",{attrs:{poll:e.poll,name:"chart-panel"}}),n("poll-common-percent-voted",{attrs:{poll:e.poll}})],1):e._e(),n("poll-common-action-panel",{attrs:{poll:e.poll}})],1):e._e(),e.poll.closingAt?e._e():n("div",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_action_panel.draft_mode",args:{poll_type:e.poll.pollType}},expression:"{path: 'poll_common_action_panel.draft_mode', args: {poll_type: poll.pollType}}"}],staticClass:"caption"}),n("action-dock",{staticClass:"my-2",attrs:{actions:e.dockActions,"menu-actions":e.menuActions}})]],2)},Qi=[],Zi=n("f2e1"),Ji={components:{ThreadItem:function(){return Promise.resolve().then(n.bind(null,"5273"))}},props:{event:Object,isReturning:Boolean,collapsed:Boolean},created:function(){var e=this;return S["a"].$on("stanceSaved",(function(){return S["a"].$emit("refreshStance")})),this.watchRecords({collections:["stances"],query:function(t){return e.myStance=e.poll.myStance()}})},beforeDestroy:function(){return S["a"].$off("showResults"),S["a"].$off("stanceSaved")},data:function(){return{buttonPressed:!1,myStance:null}},computed:{eventable:function(){return this.event.model()},poll:function(){return this.eventable},showResults:function(){return this.poll.showResults()},menuActions:function(){return pi()(r()(fi["a"].actions(this.event,this),["pin_event","unpin_event","move_event","copy_url"]),r()(Zi["a"].actions(this.poll,this),["edit_poll","close_poll","notification_history","show_history","export_poll","print_poll","discard_poll","add_poll_to_thread"]))},dockActions:function(){return r()(Zi["a"].actions(this.poll,this),["reopen_poll","show_results","hide_results","translate_poll","edit_stance","announce_poll","remind_poll"])}}},Xi=Ji,ea=n("3850"),ta=n("62aa"),na=n("8705"),oa=n("5913"),ra=n("6ad1"),ia=Object(L["a"])(Xi,Yi,Qi,!1,null,null,null),aa=ia.exports;q()(ia,{ActionDock:je["a"],AttachmentList:bo["a"],DocumentList:go["a"],FormattedText:yo["a"],LinkPreviews:ko["a"],PollCommonActionPanel:ea["a"],PollCommonClosingAt:ta["a"],PollCommonDirective:cr["default"],PollCommonOutcomePanel:na["a"],PollCommonPercentVoted:oa["a"],PollCommonSetOutcomePanel:ra["a"],TagsDisplay:St["a"],Translation:wo["a"],VIcon:Tt["a"],VLayout:Q["a"]});var sa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"strand-item__stance-created stance-created",attrs:{id:"'comment-'+ eventable.id",event:e.event,"is-returning":e.isReturning}},[e.eventable.singleChoice()?[n("div",{staticClass:"d-flex"},[n(e.componentType,{tag:"component",attrs:{to:e.event.actor()&&e.urlFor(e.event.actor())}},[e._v(e._s(e.event.actorName()))]),n("space"),e.showResults?n("poll-common-stance-choice",{attrs:{poll:e.poll,"stance-choice":e.eventable.stanceChoice()}}):e._e()],1)]:e._e(),e.showResults&&!e.collapsed?n("div",{staticClass:"poll-common-stance"},[e.eventable.singleChoice()?e._e():n("v-layout",{attrs:{wrap:"","align-center":""}},[n("strand-item-headline",{attrs:{event:e.event,eventable:e.eventable}}),n("poll-common-stance-choices",{attrs:{stance:e.eventable}})],1),n("formatted-text",{staticClass:"poll-common-stance-created__reason",attrs:{model:e.eventable,column:"reason"}}),n("link-previews",{attrs:{model:e.eventable}}),n("attachment-list",{attrs:{attachments:e.eventable.attachments}})],1):e._e(),n("action-dock",{attrs:{model:e.eventable,actions:e.actions}})],2)},ca=[],la={components:{ThreadItem:function(){return Promise.resolve().then(n.bind(null,"5273"))}},props:{event:Object,isReturning:Boolean,collapsed:Boolean},computed:{eventable:function(){return this.event.model()},poll:function(){return this.eventable.poll()},showResults:function(){return this.eventable.poll().showResults()},componentType:function(){return this.event.actor()?"router-link":"div"}},created:function(){var e=this;return this.actions={edit_stance:{name:"poll_common.change_vote",icon:"mdi-pencil",canPerform:function(){return c["a"].user()&&e.eventable.participant()&&e.eventable.latest&&e.eventable.poll().isActive()&&e.eventable.participant()===c["a"].user()},perform:function(){return Object(be["a"])({component:"PollCommonEditVoteModal",props:{stance:e.eventable.clone()}})}},translate_stance:{icon:"mdi-translate",name:"common.action.translate",canPerform:function(){return e.eventable.author()&&c["a"].user()&&e.eventable.author().locale!==c["a"].user().locale&&e.eventable.reason&&I["a"].canTranslate(e.eventable)},perform:function(){return e.eventable.translate(c["a"].user().locale)}},show_history:{name:"action_dock.edited",icon:"mdi-history",canPerform:function(){return e.eventable.edited()},perform:function(){return Object(be["a"])({component:"RevisionHistoryModal",props:{model:e.eventable}})}}}}},ua=la,da=n("c2d8"),pa=n("9669"),ma=Object(L["a"])(ua,sa,ca,!1,null,null,null),fa=ma.exports;q()(ma,{ActionDock:je["a"],AttachmentList:bo["a"],FormattedText:yo["a"],LinkPreviews:ko["a"],PollCommonStanceChoice:da["a"],PollCommonStanceChoices:pa["a"],Space:jt["a"],StrandItemHeadline:xi,VLayout:Q["a"]});var ha=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"outcome-created strand-item__outcome-created",attrs:{id:"'outcome-'+ eventable.id"}},[n("strand-item-headline",{attrs:{event:e.event,eventable:e.eventable}}),n("formatted-text",{staticClass:"thread-item__body new-comment__body",attrs:{model:e.eventable,column:"body"}}),n("action-dock",{attrs:{model:e.eventable,actions:e.dockActions,"menu-actions":e.menuActions}})],1)},_a=[],va=n("4a20"),ba={components:{ThreadItem:function(){return Promise.resolve().then(n.bind(null,"5273"))}},props:{event:Object,isReturning:Boolean},computed:{eventable:function(){return this.event.model()},poll:function(){return this.eventable.poll()},dockActions:function(){return va["a"].actions(this.eventable,this)},menuActions:function(){return r()(fi["a"].actions(this.event,this),["pin_event","unpin_event","notification_history"])}}},ga=ba,ya=Object(L["a"])(ga,ha,_a,!1,null,null,null),ka=ya.exports;q()(ya,{ActionDock:je["a"],FormattedText:yo["a"],StrandItemHeadline:xi});var wa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"strand-item__load-more"},[n("v-btn",{staticClass:"action-button",attrs:{text:"",outlined:"",loading:e.loading,color:"grey darken-2"},on:{click:function(t){return e.$emit("click")}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:e.label,expression:"label"}]})])],1)},xa=[],Ca={props:{label:Object,loading:Boolean}},Oa=Ca,ja=(n("6204"),Object(L["a"])(Oa,wa,xa,!1,null,null,null)),Sa=ja.exports;q()(ja,{VBtn:Pn["a"]});var Ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"strand-other-kind"},[n("span",{domProps:{innerHTML:e._s(e.headline)}}),n("formatted-text",{staticClass:"thread-item__body",attrs:{model:e.eventable,column:"statement"}})],1)},Pa=[],Ta={props:{event:Object},computed:{headline:function(){var e;return e=this.event.actor(),this.$t(Object(gi["a"])(this.event,!0),{author:e.nameWithTitle(this.eventable.group()),username:e.username,key:this.event.model().key,title:Object(gi["c"])(this.event),polltype:this.$t(Object(gi["b"])(this.event)).toLowerCase()})},eventable:function(){return this.event.model()}}},Aa=Ta,Ra=Object(L["a"])(Aa,Ia,Pa,!1,null,null,null),Va=Ra.exports;q()(Ra,{FormattedText:yo["a"]});var $a={name:"strand-list",props:{loader:Object,collection:{type:Array,required:!0}},components:{StrandList:Da,NewDiscussion:Ui,NewComment:Oi,PollCreated:aa,StanceCreated:fa,OutcomeCreated:ka,OtherKind:Va,StrandLoadMore:Sa,DiscussionEdited:Wi},computed:{parentExists:function(){return this.collection[0]&&this.collection[0].event&&this.collection[0].event.parent()},lastPosition:function(){return this.parentExists&&this.collection[0].event.parent().childCount||0},positions:function(){return this.collection.map((function(e){return e.event.position}))},ranges:function(){return Ur["a"].arrayToRanges(this.positions)},siblingCount:function(){return this.collection&&this.collection.length&&this.collection[0].event.parent()&&this.collection[0].event.parent().childCount||1}},methods:{isFocused:function(e){return 1===e.depth&&e.position===this.loader.focusAttrs.position||e.positionKey===this.loader.focusAttrs.positionKey||e.sequenceId===this.loader.focusAttrs.sequenceId||"Comment"===e.eventableType&&e.eventableId===this.loader.focusAttrs.commentId},isUnread:function(e){return"new_discussion"===e.kind?this.loader.discussion.updatedAt>this.loader.discussion.lastReadAt:!Ur["a"].includesValue(this.loader.readRanges,e.sequenceId)},positionKeyPrefix:function(e){return e.depth<1?e.positionKey.split("-").slice(0,e.depth-1):null},isFirstInRange:function(e){return he()(this.ranges,(function(t){return t[0]===e}))},countEarlierMissing:function(e){var t,n;return t=1,n=0,this.ranges.forEach((function(o){return o[0]===e?n=e-t:t=o[1]})),n},countLaterMissing:function(){return this.lastPosition-Dn()(this.ranges)[1]},isLastInLastRange:function(e){return Dn()(this.ranges)[1]===e},componentForKind:function(e){return vn()(["stance_created","discussion_edited","new_comment","outcome_created","poll_created","new_discussion"].includes(e)?e:"other_kind")},classes:function(e){return e?["lmo-action-dock-wrapper","positionKey-".concat(e.positionKey),"sequenceId-".concat(e.sequenceId),"position-".concat(e.position)]:[]}}},Na=$a,Ea=(n("b24e"),n("ac7c")),Ma=Object(L["a"])(Na,si,ci,!1,null,null,null),Da=Ma.exports;q()(Ma,{StrandItemHeadline:xi,StrandList:Da,UserAvatar:It["a"],VCheckbox:Ea["a"],VIcon:Tt["a"]});var La=Object(L["a"])(ai,Zr,Jr,!1,null,null,null),Fa=La.exports;q()(La,{StrandList:Da});var qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.discussion&&e.bottomDate&&e.topDate?n("v-navigation-drawer",{staticClass:"lmo-no-print disable-select thread-sidebar",attrs:{permanent:e.$vuetify.breakpoint.mdAndUp,width:"230px",app:"",fixed:"",right:"",clipped:"",color:"background",floating:""},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("a",{directives:[{name:"t",rawName:"v-t",value:"activity_card.context",expression:"'activity_card.context'"}],staticClass:"thread-nav__date",attrs:{to:e.urlFor(e.discussion)},on:{click:function(t){return e.scrollTo("#context")}}}),e._l(e.headings,(function(t,o){return n("a",{key:o,staticClass:"d-block text-caption",attrs:{href:"#"+t.id}},[e._v(e._s(t.name))])})),n("router-link",{staticClass:"thread-nav__date",attrs:{to:{query:{k:e.firstKey},params:{p:null,sequence_id:null}}}},[e._v(e._s(e.approximateDate(e.topDate)))]),n("div",{staticClass:"thread-nav",style:{height:e.trackHeight+"px"}},[n("div",{ref:"slider",staticClass:"thread-nav__track",style:{height:e.trackHeight+"px"},on:{click:e.onTrackClicked}},[n("div",{staticClass:"thread-nav__track-line"})]),n("div",{staticClass:"thread-nav__presets"},e._l(e.presets,(function(t){return n("router-link",{key:t.id,staticClass:"thread-nav__preset",style:{top:e.offsetFor(e.keys.indexOf(t.positionKey))+"px"},attrs:{to:e.urlFor(t)}},[n("div",{staticClass:"thread-nav__preset--line"}),n("div",{staticClass:"thread-nav__preset--title"},[e._v(e._s(t.pinnedTitle||t.suggestedTitle()))])])})),1),n("div",{directives:[{name:"touch",rawName:"v-touch:start",value:e.onTouchStart,expression:"onTouchStart",arg:"start"},{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.setKnobVisible},expression:"{callback: setKnobVisible}"}],ref:"knob",staticClass:"thread-nav__knob",style:{top:e.knobOffset+"px",height:e.knobHeight+"px"},on:{mousedown:e.onMouseDown}},[n("span",{staticStyle:{display:"block","white-space":"nowrap",overflow:"visible"}},[e._v(e._s(e.displayPosition)+" / "+e._s(e.keys.length-1))])])]),n("router-link",{staticClass:"thread-nav__date",attrs:{to:{query:{k:e.lastKey},params:{sequence_id:null}}}},[e._v(e._s(e.approximateDate(e.bottomDate)))])],2):e._e()},Ua=[],Ba=n("004e"),za=n.n(Ba),Ha=n("7b57");jn.a.setOptions(Object.assign({renderer:Object(Ha["a"])()},Ha["b"]));var Ga={props:{discussion:Object,loader:Object},data:function(){return{topDate:null,bottomDate:null,open:null,knobOffset:0,knobHeight:32,trackHeight:400,position:0,minUnitHeight:16,presets:[],knobVisible:!1,keys:[],visibleKeys:[],headings:[],context:""}},mounted:function(){var e=this;return S["a"].$on("toggleThreadNav",(function(){return e.open=!e.open})),S["a"].$on("scrollThreadNav",(function(){if(!e.knobVisible&&document.querySelector(".thread-sidebar .v-navigation-drawer__content"))return e.$vuetify.goTo(".thread-nav__knob",{container:".thread-sidebar .v-navigation-drawer__content",offset:100})})),j["a"].events.fetch({params:{exclude_types:"group discussion",discussion_id:this.discussion.id,pinned:!0,per:200}}),j["a"].events.remote.fetch({path:"position_keys",params:{discussion_id:this.discussion.id,per:1e3}}).then((function(t){return e.keys=[e.discussion.createdEvent().positionKey].concat(t.position_keys),e.topDate=e.discussion.createdAt,e.bottomDate=e.discussion.lastActivityAt,e.bottomPosition=e.keys.length})),this.watchRecords({key:"thread-nav"+this.discussion.id,collections:["events","discussions"],query:function(){var t,n;if(e.discussion&&!e.discussion.discardedAt&&e.discussion.createdEvent())return n=new DOMParser,"md"===e.discussion.descriptionFormat?e.context=jn()(e.discussion.description):e.context=e.discussion.description,t=n.parseFromString(e.context,"text/html"),e.headings=Array.from(t.querySelectorAll("h1,h2,h3")).map((function(e){return{id:e.id,name:e.textContent}})),e.presets=j["a"].events.collection.chain().find({pinned:!0,discussionId:e.discussion.id}).simplesort("position").data(),e.setHeight()}}),S["a"].$on("visibleKeys",(function(t){var n,o;return e.visibleKeys=t,n=e.keys.indexOf(ao()(t)),o=e.keys.indexOf(Dn()(t)),e.knobOffset=e.offsetFor(n),e.knobHeight=e.unitHeight*(o-n+1)}))},methods:{setKnobVisible:function(e){return this.knobVisible=e},setHeight:function(){var e;this.trackHeight=400,e=[];while((this.minOffset()||this.minUnitHeight)<this.minUnitHeight&&this.trackHeight<1e5)e.push(this.trackHeight=1.1*this.trackHeight);return e},minOffset:function(){var e,t=this;return e=function(){for(var e=[],t=2,n=this.presets.length;2<=n?t<=n:t>=n;2<=n?t++:t--)e.push(t);return e}.apply(this).map((function(e){if(t.presets[e]&&t.presets[e-1])return parseInt(t.presets[e].position*t.unitHeight-t.presets[e-1].position*t.unitHeight)})),za()(Mr()(e))},onTrackClicked:function(e){return this.moveKnob(e),this.goToPosition(this.position)},moveKnob:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.knobHeight<64?32:parseInt(this.knobHeight/2),this.knobOffset=this.getEventOffset(e),this.position=this.positionFor(this.getEventOffset(e))},getEventOffset:function(e){var t,n;return t=e.touches?e.touches[0].clientY:e.clientY,n=t-this.$refs.slider.getBoundingClientRect().top,n<0?0:n>this.trackHeight?this.trackHeight:n},onMouseDown:function(){var e,t,n=this;return e=this.moveKnob,t=function(){return document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),n.goToPosition(n.position)},document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)},onTouchStart:function(){var e,t,n=this;return t=this.moveKnob,e=function(){return document.removeEventListener("touchmove",t),document.removeEventListener("touchend",e),n.goToPosition(n.position)},document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",e)},goToPosition:function(e){if(!this.$route.query||this.$route.query.k!==e)return this.$router.replace({query:{k:this.keys[e]},params:{sequence_id:null,comment_id:null}}).catch((function(e){return{}}))},offsetFor:function(e){return e*this.unitHeight},positionFor:function(e){var t;return t=parseInt(e/this.unitHeight)-1,t},goToContextHeading:function(e){}},watch:{"discussion.newestFirst":{immediate:!0,handler:function(){this.discussion}}},computed:{firstKey:function(){return ao()(this.keys)},lastKey:function(){return Dn()(this.keys)},displayKey:function(){return this.visibleKeys[parseInt((this.visibleKeys.length-1)/2)]},displayPosition:function(){return 0===this.keys.indexOf(this.visibleKeys[0])?1:this.keys.indexOf(Dn()(this.visibleKeys))===this.keys.length-1?this.keys.length-1:this.keys.indexOf(this.visibleKeys[parseInt((this.visibleKeys.length-1)/2)])},unitHeight:function(){return this.trackHeight/this.keys.length}}},Ka=Ga,Wa=n("f774"),Ya=n("c3f0"),Qa=Object(L["a"])(Ka,qa,Ua,!1,null,null,null),Za=Qa.exports;q()(Qa,{VNavigationDrawer:Wa["a"]}),Tr()(Qa,{Touch:Ya["a"]});var Ja=Object(L["a"])(Qr,$r,Nr,!1,null,null,null),Xa=Ja.exports;q()(Ja,{DiscussionForkActions:Yn,StrandCard:Fa,StrandNav:Za,ThreadCurrentPollBanner:Ir,VContainer:Wt["a"],VMain:Yt["a"]});var es=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-container",{staticClass:"profile-page max-width-1024"},[e.user?e._e():n("loading"),e.user?n("div",[n("v-card",[n("submit-overlay",{attrs:{value:e.user.processing}}),n("v-card-text",[n("v-layout",[n("v-flex",{staticClass:"profile-page__details"},[n("v-layout",{attrs:{column:e.$vuetify.breakpoint.xs}},[n("v-flex",[n("v-text-field",{staticClass:"profile-page__name-input",attrs:{label:e.$t("profile_page.name_label"),required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),n("validation-errors",{attrs:{subject:e.user,field:"name"}}),n("v-text-field",{staticClass:"profile-page__username-input",attrs:{id:"user-username-field",label:e.$t("profile_page.username_label"),required:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),n("validation-errors",{attrs:{subject:e.user,field:"username"}}),n("v-text-field",{staticClass:"profile-page__email-input",attrs:{id:"user-email-field",label:e.$t("profile_page.email_label"),required:""},on:{keyup:e.checkEmailExistence},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),n("validation-errors",{attrs:{subject:e.user,field:"email"}}),e.emailExists?n("div",{staticClass:"profile-page__email-taken"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"merge_accounts.email_taken",expression:"'merge_accounts.email_taken'"}],staticClass:"email-taken-message"}),n("space"),n("a",{directives:[{name:"t",rawName:"v-t",value:"merge_accounts.find_out_more",expression:"'merge_accounts.find_out_more'"}],staticClass:"email-taken-find-out-more",on:{click:e.openSendVerificationModal}})],1):e._e()],1),n("div",{staticClass:"profile-page__avatar d-flex flex-column justify-center align-center mx-12",on:{click:function(t){return e.changePicture()}}},[n("user-avatar",{staticClass:"mb-4",attrs:{user:e.originalUser,size:"featured","no-link":!0}}),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"profile_page.change_picture_link",expression:"'profile_page.change_picture_link'"}],attrs:{color:"accent"},on:{click:e.changePicture}})],1)],1),n("lmo-textarea",{attrs:{model:e.user,field:"shortBio",label:e.$t("profile_page.short_bio_label"),placeholder:e.$t("profile_page.short_bio_placeholder")}}),n("validation-errors",{attrs:{subject:e.user,field:"shortBio"}}),n("v-text-field",{staticClass:"profile-page__location-input",attrs:{id:"user-location-field",label:e.$t("profile_page.location_label"),placeholder:e.$t("profile_page.location_placeholder")},model:{value:e.user.location,callback:function(t){e.$set(e.user,"location",t)},expression:"user.location"}}),n("v-select",{attrs:{id:"user-locale-field",label:e.$t("profile_page.locale_label"),items:e.availableLocales,"item-text":"name","item-value":"key"},model:{value:e.user.selectedLocale,callback:function(t){e.$set(e.user,"selectedLocale",t)},expression:"user.selectedLocale"}}),n("validation-errors",{attrs:{subject:e.user,field:"selectedLocale"}}),e.showHelpTranslate?n("p",[n("a",{directives:[{name:"t",rawName:"v-t",value:"profile_page.help_translate",expression:"'profile_page.help_translate'"}],attrs:{href:"https://www.loomio.org/g/cpaM3Hsv/loomio-community-translation",target:"_blank"}})]):e._e()],1)],1)],1),n("v-card-actions",{staticClass:"profile-page__update-account"},[n("v-spacer"),n("v-btn",{staticClass:"profile-page__update-button",attrs:{color:"primary",disabled:e.emailExists,loading:e.user.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"profile_page.update_profile",expression:"'profile_page.update_profile'"}]})])],1)],1),n("v-card",{staticClass:"profile-page-card mt-4"},[n("v-list",e._l(e.actions,(function(t,o){return t.canPerform()?n("v-list-item",{key:o,class:"user-page__"+o,on:{click:function(e){return t.perform()}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:t.name,expression:"action.name"}]})],1):e._e()})),1)],1)],1):e._e()],1)],1)},ts=[],ns=n("8a30"),os=n.n(ns);function rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function is(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function as(e,t,n){return t&&is(e.prototype,t),n&&is(e,n),e}var ss=new(function(){function e(){rs(this,e)}return as(e,[{key:"actions",value:function(e,t){return{change_password:{icon:"mdi-lock-reset",name:"profile_page.change_password_link",canPerform:function(){return!0},perform:function(){return S["a"].$emit("openModal",{component:"ChangePasswordForm",props:{user:e}})}},merge_accounts:{icon:"mdi-account-multiple",name:"profile_page.merge_accounts",canPerform:function(){return!0},perform:function(){return S["a"].$emit("openModal",{component:"ConfirmModal",props:{confirm:{text:{title:"merge_accounts.modal.title",raw_helptext:t.$t("merge_accounts.placeholder_modal_text")}}}})}},deactivate_user:{icon:"mdi-exit-run",name:"profile_page.delete_user_link",canPerform:function(){return!e.deactivatedAt},perform:function(){return S["a"].$emit("openModal",{component:"ConfirmModal",props:{confirm:{text:{title:"profile_page.delete_account",raw_helptext:"<p>".concat(t.$t("deactivation_modal.introduction"),"</p> <ul> <li>").concat(t.$t("deactivation_modal.you_will_be_deleted"),"</li> <li>").concat(t.$t("deactivation_modal.name_removed"),"</li> <li>").concat(t.$t("deactivation_modal.no_longer_group_member"),"</li> <li>").concat(t.$t("deactivation_modal.no_emails"),"</li> </ul>"),submit:"deactivation_modal.submit_delete"},submit:function(){return j["a"].users.destroy()},successCallback:ge["a"]}}})}}}}}]),e}()),cs={data:function(){return{user:null,originalUser:null,existingEmails:[]}},created:function(){return this.init(),S["a"].$emit("currentComponent",{titleKey:"profile_page.edit_profile",page:"profilePage"}),S["a"].$on("updateProfile",this.init),S["a"].$on("signedIn",this.init)},beforeDestroy:function(){return S["a"].$off("updateProfile",this.init),S["a"].$off("signedIn",this.init)},computed:{showHelpTranslate:function(){return a["a"].features.app.help_link},availableLocales:function(){return a["a"].locales},actions:function(){return ss.actions(c["a"].user(),this)},emailExists:function(){return os()(this.existingEmails,this.user.email)}},methods:{init:function(){if(c["a"].isSignedIn())return this.originalUser=c["a"].user(),this.user=this.originalUser.clone(),c["a"].updateLocale(this.user.locale)},changePicture:function(){return Object(be["a"])({component:"ChangePictureForm"})},changePassword:function(){return this.openChangePasswordModal(this.user)},openDeleteUserModal:function(){return this.isDeleteUserModalOpen=!0},closeDeleteUserModal:function(){return this.isDeleteUserModalOpen=!1},openSendVerificationModal:function(){var e=this;return Object(be["a"])({component:"ConfirmModal",props:{confirm:{submit:function(){return j["a"].users.sendMergeVerificationEmail(e.user.email)},text:{title:"merge_accounts.modal.title",raw_helptext:this.$t("merge_accounts.modal.helptext",{sourceEmail:this.originalUser.email,targetEmail:this.user.email}),submit:"merge_accounts.modal.submit",flash:"merge_accounts.modal.flash"}}}})},checkEmailExistence:h()((function(){var e=this;if(this.originalUser.email!==this.user.email)return j["a"].users.checkEmailExistence(this.user.email).then((function(t){if(t.exists)return e.existingEmails=Lr()(e.existingEmails.concat([t.email]))}))}),250),submit:function(){var e=this;return j["a"].users.updateProfile(this.user).then((function(){return _e["a"].success("profile_page.messages.updated"),e.init()})).catch(Object(ir["a"])(this.user))}}},ls=cs,us=(n("2bbf"),n("0d4b")),ds=n("0e8f"),ps=n("34c3"),ms=n("f275"),fs=Object(L["a"])(ls,es,ts,!1,null,null,null),hs=fs.exports;q()(fs,{LmoTextarea:us["a"],Loading:X,Space:jt["a"],SubmitOverlay:lr["a"],UserAvatar:It["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VContainer:Wt["a"],VFlex:ds["a"],VIcon:Tt["a"],VLayout:Q["a"],VList:Mt["a"],VListItem:At["a"],VListItemIcon:ps["a"],VListItemTitle:$t["c"],VMain:Yt["a"],VSelect:Rn["a"],VSpacer:Oo["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var _s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-page"},[n("v-main",[n("v-container",{staticClass:"max-width-800"},[n("loading",{attrs:{until:e.poll}},[n("poll-common-card",{attrs:{poll:e.poll,"is-page":""}})],1)],1)],1)],1)},vs=[],bs={data:function(){return{poll:null}},created:function(){return this.init()},methods:{init:function(){var e=this;return j["a"].polls.findOrFetchById(this.$route.params.key).then((function(t){return e.poll=t,e.poll.group().newHost&&(window.location.host=e.poll.group().newHost),S["a"].$emit("currentComponent",{group:t.group(),poll:t,title:t.title,page:"pollPage"})})).catch((function(e){if(S["a"].$emit("pageError",e),403===e.status&&!c["a"].isSignedIn())return S["a"].$emit("openAuthModal")}))}}},gs=bs,ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("poll-common-card-header",{attrs:{poll:e.poll}}),e.poll.discardedAt?n("div",[n("v-card-text",[n("div",{directives:[{name:"t",rawName:"v-t",value:"poll_common_card.deleted",expression:"'poll_common_card.deleted'"}],staticClass:"text--secondary"})])],1):n("div",[n("v-card-title",[n("h1",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.titleVisible},expression:"{callback: titleVisible}"}],staticClass:"poll-common-card__title display-1",attrs:{tabindex:"-1"}},[e.poll.translation.title?e._e():n("span",[e._v(e._s(e.poll.title))]),e.poll.translation.title?n("translation",{attrs:{model:e.poll,field:"title"}}):e._e(),n("v-chip",{directives:[{name:"t",rawName:"v-t",value:"poll_types."+e.poll.pollType,expression:"'poll_types.' + poll.pollType"}],staticClass:"ml-3",attrs:{outlined:"",label:"",small:"",color:"info"}}),n("tags-display",{attrs:{tags:e.poll.tags()}})],1)]),n("div",{staticClass:"px-4 pb-4"},[e.outcome?e._e():n("poll-common-set-outcome-panel",{attrs:{poll:e.poll}}),e.outcome?n("poll-common-outcome-panel",{attrs:{outcome:e.outcome}}):e._e(),n("poll-common-details-panel",{attrs:{poll:e.poll}}),e.showResults?n("div",{staticClass:"poll-common-card__results-shown"},[n("poll-common-directive",{attrs:{poll:e.poll,name:"chart-panel"}}),n("poll-common-percent-voted",{attrs:{poll:e.poll}})],1):e._e(),n("poll-common-action-panel",{attrs:{poll:e.poll}}),n("action-dock",{attrs:{actions:e.dockActions,"menu-actions":e.menuActions}}),n("div",{staticClass:"poll-common-card__results-shown mt-4"},[n("poll-common-votes-panel",{attrs:{poll:e.poll}})],1)],1)],1)],1)},ks=[],ws={components:{PollCommonDirective:cr["default"]},props:{poll:Object,isPage:Boolean},created:function(){var e=this;return S["a"].$on("stanceSaved",(function(){return S["a"].$emit("refreshStance")})),this.watchRecords({collections:["stances","outcomes"],query:function(t){return e.myStance=e.poll.myStance()||j["a"].stances.build(),e.outcome=e.poll.outcome()}})},data:function(){return{buttonPressed:!1,myStance:null,outcome:this.poll.outcome()}},methods:{titleVisible:function(e){if(this.isPage)return S["a"].$emit("content-title-visible",e)}},computed:{showResults:function(){return this.poll.showResults()},menuActions:function(){return this.myStance,r()(Zi["a"].actions(this.poll,this),["edit_poll","close_poll","reopen_poll","notification_history","show_history","move_poll","export_poll","print_poll","discard_poll","add_poll_to_thread","translate_poll"])},dockActions:function(){return this.myStance,r()(Zi["a"].actions(this.poll,this),["show_results","hide_results","edit_stance","announce_poll","remind_poll"])}}},xs=ws,Cs=(n("cfc9"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"poll-common-card-header",attrs:{"align-center":"","mr-3":"","ml-2":"","pt-2":"",wrap:""}},[n("v-breadcrumbs",{attrs:{items:e.groups,divider:">"}}),n("v-spacer"),n("span",{staticClass:"grey--text body-2"},[n("time-ago",{attrs:{date:e.poll.createdAt}})],1)],1)}),Os=[],js={props:{poll:Object},computed:{groups:function(){var e=this;return ze()(Mr()([this.poll.groupId&&this.poll.group(),this.poll.discussionId&&this.poll.discussion()]),(function(t){return t.isA("discussion")?{text:t.name||t.title,disabled:!1,to:e.urlFor(t)+"/"+e.poll.createdEvent().sequenceId}:{text:t.name||t.title,disabled:!1,to:e.urlFor(t)}}))}}},Ss=js,Is=(n("aa15"),Object(L["a"])(Ss,Cs,Os,!1,null,null,null)),Ps=Is.exports;q()(Is,{TimeAgo:zt["a"],VBreadcrumbs:xo["a"],VLayout:Q["a"],VSpacer:Oo["a"]});var Ts=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-details-panel"},[e.poll.outcome()?n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"poll_common.details",expression:"'poll_common.details'"}]}):e._e(),n("div",{staticClass:"poll-common-details-panel__started-by text--secondary"},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_card.started_by",args:{name:e.poll.authorName()}},expression:"{ path: 'poll_card.started_by', args: { name: poll.authorName() } }"}]}),n("mid-dot"),n("poll-common-closing-at",{attrs:{poll:e.poll}}),e.poll.anonymous?n("mid-dot"):e._e(),e.poll.anonymous?n("span",{directives:[{name:"t",rawName:"v-t",value:"common.anonymous",expression:"'common.anonymous'"}],attrs:{"md-colors":"{color: 'primary-600', 'border-color': 'primary-600'}"}}):e._e()],1),n("formatted-text",{staticClass:"poll-common-details-panel__details",attrs:{model:e.poll,column:"details"}}),n("link-previews",{attrs:{model:e.poll}}),n("attachment-list",{attrs:{attachments:e.poll.attachments}}),n("document-list",{attrs:{model:e.poll,"skip-fetch":""}})],1)},As=[],Rs={props:{poll:Object}},Vs=Rs,$s=Object(L["a"])(Vs,Ts,As,!1,null,null,null),Ns=$s.exports;q()($s,{AttachmentList:bo["a"],DocumentList:go["a"],FormattedText:yo["a"],LinkPreviews:ko["a"],MidDot:Ne["a"],PollCommonClosingAt:ta["a"],VSubheader:Qt["a"]});var Es=n("30e1"),Ms=Object(L["a"])(xs,ys,ks,!1,null,null,null),Ds=Ms.exports;q()(Ms,{ActionDock:je["a"],PollCommonActionPanel:ea["a"],PollCommonCardHeader:Ps,PollCommonDetailsPanel:Ns,PollCommonDirective:cr["default"],PollCommonOutcomePanel:na["a"],PollCommonPercentVoted:oa["a"],PollCommonSetOutcomePanel:ra["a"],PollCommonVotesPanel:Es["a"],TagsDisplay:St["a"],Translation:wo["a"],VCard:Kt["a"],VCardText:un["c"],VCardTitle:un["d"],VChip:Pt["a"]});var Ls=Object(L["a"])(gs,_s,vs,!1,null,null,null),Fs=Ls.exports;q()(Ls,{Loading:X,PollCommonCard:Ds,VContainer:Wt["a"],VMain:Yt["a"]});var qs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-form-page"},[n("v-main",[n("v-container",{staticClass:"max-width-800"},[n("loading",{attrs:{until:e.poll}},[e.poll?n("v-card",{staticClass:"poll-common-modal",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null}}},[n("submit-overlay",{attrs:{value:e.poll.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:e.title_key,expression:"title_key"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("v-btn",{attrs:{icon:"",to:e.urlFor(e.poll),"aria-hidden":"true"}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("div",{staticClass:"pa-4"},[n("poll-common-directive",{attrs:{poll:e.poll,name:"form"}})],1),n("v-card-actions",{staticClass:"poll-common-form-actions"},[n("v-spacer"),e.poll.isNew()?e._e():n("v-btn",{staticClass:"poll-common-form__submit",attrs:{color:"primary",loading:e.poll.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.save_changes",expression:"'common.action.save_changes'"}]})]),e.poll.closingAt&&e.poll.isNew()&&e.poll.groupId?n("v-btn",{staticClass:"poll-common-form__submit",attrs:{color:"primary",loading:e.poll.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_form.start_poll_type",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_form.start_poll_type', args: {poll_type: poll.translatedPollType()}}"}]})]):e._e(),!e.poll.closingAt&&e.poll.isNew()&&e.poll.groupId?n("v-btn",{staticClass:"poll-common-form__submit",attrs:{color:"primary",loading:e.poll.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_form.start_poll_type",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_form.start_poll_type', args: {poll_type: poll.translatedPollType()}}"}]})]):e._e()],1)],1):e._e()],1)],1)],1)],1)},Us=[],Bs={data:function(){return{poll:null}},created:function(){return this.init()},methods:{init:function(){var e=this;return j["a"].polls.findOrFetchById(this.$route.params.key).then((function(t){return e.poll=t.clone(),S["a"].$emit("currentComponent",{group:t.group(),poll:t,title:t.title,page:"pollFormPage"})})).catch((function(e){if(S["a"].$emit("pageError",e),403===e.status&&!c["a"].isSignedIn())return S["a"].$emit("openAuthModal")}))},submit:function(){var e,t=this;return e=this.poll.isNew()?"created":"updated","meeting"===this.poll.pollType&&(this.poll.customFields.can_respond_maybe=this.poll.canRespondMaybe),this.poll.setErrors({}),this.poll.save().then((function(n){var o;return o=n.polls[0].key,j["a"].polls.findOrFetchById(o,{},!0).then((function(n){return t.$router.replace(t.urlFor(n)),_e["a"].success("poll_".concat(n.pollType,"_form.").concat(n.pollType,"_").concat(e))}))})).catch(Object(ir["a"])(this.poll))}},computed:{title_key:function(){var e;return e=this.poll.isNew()?"start":"edit","poll_"+this.poll.pollType+"_form."+e+"_header"}}},zs=Bs,Hs=Object(L["a"])(zs,qs,Us,!1,null,null,null),Gs=Hs.exports;q()(Hs,{Loading:X,PollCommonDirective:cr["default"],SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardTitle:un["d"],VContainer:Wt["a"],VIcon:Tt["a"],VMain:Yt["a"],VSpacer:Oo["a"]});var Ks=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[e.group?e._e():n("loading"),e.group?n("v-container",{staticClass:"group-page max-width-1024"},[n("v-img",{staticStyle:{"border-radius":"8px"},attrs:{src:e.coverImageSrc,eager:""}}),n("h1",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.titleVisible},expression:"{callback: titleVisible}"}],staticClass:"display-1 my-4",attrs:{tabindex:"-1"}},[e.group&&e.group.parentId?n("span",[n("router-link",{attrs:{to:e.urlFor(e.group.parent())}},[e._v(e._s(e.group.parent().name))]),n("space"),n("span",{staticClass:"grey--text text--lighten-1"},[e._v(">")]),n("space")],1):e._e(),n("span",{staticClass:"group-page__name mr-4"},[e._v(e._s(e.group.name))])]),n("old-plan-banner",{attrs:{group:e.group}}),n("trial-banner",{attrs:{group:e.group}}),n("group-onboarding-card",{attrs:{group:e.group}}),e.group?n("formatted-text",{staticClass:"group-page__description",attrs:{model:e.group,column:"description"}}):e._e(),n("join-group-button",{attrs:{group:e.group}}),n("link-previews",{attrs:{model:e.group}}),n("document-list",{attrs:{model:e.group}}),n("attachment-list",{attrs:{attachments:e.group.attachments}}),n("v-divider",{staticClass:"mt-4"}),n("v-tabs",{attrs:{"center-active":"","background-color":"transparent",centered:"",grow:"","show-arrows":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tabs-slider"),e._l(e.tabs,(function(e){return n("v-tab",{key:e.id,class:"group-page-"+e.name+"-tab",attrs:{to:e.route,exact:""}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_page."+e.name,expression:"'group_page.'+tab.name"}]})])}))],2),n("router-view")],1):e._e()],1)},Ws=[],Ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isAdmin&&e.isOldPlan&&!e.isHidden?n("v-alert",{attrs:{outlined:"",color:"accent",dense:""}},[n("v-layout",{attrs:{"align-center":""}},[n("div",{staticClass:"pr-1"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"current_plan_button.is_old_plan",expression:"'current_plan_button.is_old_plan'"}]})]),n("v-spacer"),n("v-btn",{staticClass:"mr-2",attrs:{color:"accent",href:"/upgrade/"+e.group.id,target:"_blank",title:e.$t("current_plan_button.tooltip")}},[n("v-icon",[e._v("mdi-rocket")]),e.isOldPlan?n("span",{directives:[{name:"t",rawName:"v-t",value:"current_plan_button.view_plans",expression:"'current_plan_button.view_plans'"}]}):e._e()],1),n("v-btn",{attrs:{icon:"",title:e.$t("common.action.close")},on:{click:e.hideBanner}},[n("v-icon",[e._v("mdi-close")])],1)],1)],1):e._e()},Qs=[],Zs={props:{group:Object},data:function(){return{isHidden:c["a"].user().hasExperienced("old-plan-banner")}},methods:{hideBanner:function(){return j["a"].users.saveExperience("old-plan-banner"),this.isHidden=!0}},computed:{isAdmin:function(){return this.group.adminsInclude(c["a"].user())},isOldPlan:function(){var e;return e="pp-basic-monthly pp-pro-monthly ap-active-monthly npap-active-monthly pp-basic-annual pp-pro-annual pp-community-annual ap-active-annual ap-community-annual npap-active-annual small-monthly small-yearly",e.includes(this.group.subscription.plan)}}},Js=Zs,Xs=Object(L["a"])(Js,Ys,Qs,!1,null,null,null),ec=Xs.exports;q()(Xs,{VAlert:Lo["a"],VBtn:Pn["a"],VIcon:Tt["a"],VLayout:Q["a"],VSpacer:Oo["a"]});var tc={components:{OldPlanBanner:ec},data:function(){return{group:null,activeTab:"",groupFetchError:null}},created:function(){return this.init(),S["a"].$on("signedIn",this.init)},beforeDestroy:function(){return S["a"].$off("signedIn",this.init)},watch:{"$route.params.key":"init"},computed:{canEditGroup:function(){return I["a"].canEditGroup(this.group)},tabs:function(){var e,t=this;if(this.group)return e="",this.$route.query.subgroups&&(e="?subgroups="+this.$route.query.subgroups),[{id:0,name:"threads",route:this.urlFor(this.group,null)+e},{id:1,name:"polls",route:this.urlFor(this.group,"polls")+e},{id:2,name:"members",route:this.urlFor(this.group,"members")+e},{id:4,name:"files",route:this.urlFor(this.group,"files")+e},{id:5,name:"subgroups",route:this.urlFor(this.group,"subgroups")+e},{id:6,name:"settings",route:this.urlFor(this.group,"settings")}].filter((function(e){return!("subgroups"===e.name&&t.group.parentId)}))},coverImageSrc:function(){return this.group?this.group.coverUrl():""}},methods:{init:function(){var e=this;return j["a"].samlProviders.authenticateForGroup(this.$route.params.key),j["a"].groups.findOrFetch(this.$route.params.key).then((function(t){return e.group=t,e.group.newHost&&(window.location.host=e.group.newHost),Fn.trackView({groupId:e.group.id,organisationId:e.group.parentOrSelf().id,pageType:"groupPage"})})).catch((function(e){if(S["a"].$emit("pageError",e),403===e.status&&!c["a"].isSignedIn())return S["a"].$emit("openAuthModal")}))},openGroupSettingsModal:function(){return this.canEditGroup?S["a"].$emit("openModal",{component:"GroupForm",props:{group:this.group}}):null}}},nc=tc,oc=(n("a30e"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("v-card",{staticClass:"mb-4 group-progress-card",attrs:{outlined:"",flat:""}},[n("v-card-title",[e.setupComplete?e._e():n("h4",{directives:[{name:"t",rawName:"v-t",value:"loomio_onboarding.group_progress_card.title",expression:"'loomio_onboarding.group_progress_card.title'"}],staticClass:"headline group-progress-card__title"}),e.setupComplete?n("h4",{directives:[{name:"t",rawName:"v-t",value:"loomio_onboarding.group_progress_card.celebration_message",expression:"'loomio_onboarding.group_progress_card.celebration_message'"}],staticClass:"headline group-progress-card__title"}):e._e(),n("v-spacer"),n("v-btn",{staticClass:"group-progress-card__dismiss",attrs:{icon:""},on:{click:e.close}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-card-text",[n("v-list",{staticClass:"group-progress-card__list",attrs:{dense:""}},e._l(e.activities,(function(t){return n("v-list-item",{key:t.translate,staticClass:"group-progress-card__list-item",class:{"group-progress-card__complete":t.complete()},on:{click:function(e){return t.click()}}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"primary"}},[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("span",{directives:[{name:"t",rawName:"v-t",value:e.translationFor(t.translate),expression:"translationFor(activity.translate)"}],staticClass:"group-progress-card__activity-text"})])],1)})),1)],1)],1):e._e()}),rc=[],ic=n("79e3"),ac=n.n(ic),sc=n("3683"),cc={props:{group:Object},data:function(){return{activities:[]}},created:function(){var e=this;return this.activities=[{icon:"mdi-image",translate:"customize_group",complete:function(){return e.group.description},click:function(){return Object(be["a"])({component:"GroupForm",props:{group:e.group}})}},{icon:"mdi-account-multiple-plus",translate:"invite_people_in",complete:function(){return e.group.membershipsCount>1||e.group.invitationsCount>0},click:function(){return Object(be["a"])({component:"GroupInvitationForm",props:{group:e.group}})}},{icon:"mdi-comment-multiple",translate:"start_thread",complete:function(){return e.group.discussionsCount>1},click:function(){return Object(be["a"])({component:"DiscussionForm",props:{discussion:j["a"].discussions.build({groupId:e.group.id})}})}}]},methods:{translationFor:function(e){return"loomio_onboarding.group_progress_card.activities.".concat(e)},close:function(){return j["a"].users.saveExperience("dismissProgressCard")}},computed:{setupComplete:function(){return g()(ac()(this.activities,"complete"))},show:function(){return Object(sc["a"])(new Date,c["a"].user().createdAt)<30&&this.group.isParent()&&this.group.adminsInclude(c["a"].user())&&!c["a"].user().hasExperienced("dismissProgressCard")}}},lc=cc,uc=Object(L["a"])(lc,oc,rc,!1,null,null,null),dc=uc.exports;q()(uc,{VBtn:Pn["a"],VCard:Kt["a"],VCardText:un["c"],VCardTitle:un["d"],VIcon:Tt["a"],VList:Mt["a"],VListItem:At["a"],VListItemContent:$t["a"],VListItemIcon:ps["a"],VSpacer:Oo["a"]});var pc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isTrialing?n("v-alert",{attrs:{outlined:"",color:"accent",dense:""}},[n("v-layout",{attrs:{"align-center":""}},[e.isWasGift?n("div",{staticClass:"pr-1"},[e.isExpired?n("span",{domProps:{innerHTML:e._s(e.$t("current_plan_button.was_gift_expired"))}}):e._e(),e.isExpired?e._e():n("span",{domProps:{innerHTML:e._s(e.$t("current_plan_button.was_gift_remaining",{days:e.daysRemaining}))}}),n("space"),n("span",{domProps:{innerHTML:e._s(e.$t("current_plan_button.was_gift_trial",{createdDate:e.createdDate}))}})],1):e._e(),e.isWasGift?e._e():n("div",{staticClass:"pr-1"},[e.isExpired?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"current_plan_button.free_trial",args:{days:e.daysRemaining}},expression:"{ path: 'current_plan_button.free_trial', args: { days: daysRemaining }}"}]}),e.isExpired?n("span",{directives:[{name:"t",rawName:"v-t",value:"current_plan_button.trial_expired",expression:"'current_plan_button.trial_expired'"}]}):e._e()]),n("v-spacer"),n("v-btn",{attrs:{color:"accent",href:"/upgrade/"+e.group.id,target:"_blank",title:e.$t("current_plan_button.tooltip")}},[n("v-icon",[e._v("mdi-rocket")]),n("span",{directives:[{name:"t",rawName:"v-t",value:"current_plan_button.view_plans",expression:"'current_plan_button.view_plans'"}]})],1)],1)],1):e._e()},mc=[],fc=n("e3ee"),hc=n("b166"),_c={props:{group:Object},computed:{isWasGift:function(){return"was-gift"===this.group.subscription.plan},isTrialing:function(){return this.group.membersInclude(c["a"].user())&&"trial"===this.group.subscription.plan},isExpired:function(){return this.isTrialing&&!this.group.subscription.active},daysRemaining:function(){return Object(sc["a"])(Object(fc["a"])(this.group.subscription.expires_at),new Date)+1},createdDate:function(){return Object(hc["a"])(new Date(this.group.createdAt),"do LLLL yyyy")}}},vc=_c,bc=Object(L["a"])(vc,pc,mc,!1,null,null,null),gc=bc.exports;q()(bc,{Space:jt["a"],VAlert:Lo["a"],VBtn:Pn["a"],VIcon:Tt["a"],VLayout:Q["a"],VSpacer:Oo["a"]});var yc=Object(L["a"])(nc,Ks,Ws,!1,null,null,null),kc=yc.exports;q()(yc,{AttachmentList:bo["a"],DocumentList:go["a"],FormattedText:yo["a"],GroupOnboardingCard:dc,JoinGroupButton:qo,LinkPreviews:ko["a"],Loading:X,Space:jt["a"],TrialBanner:gc,VContainer:Wt["a"],VDivider:Co["a"],VImg:dn["a"],VMain:Yt["a"],VTab:pr["a"],VTabs:fr["a"],VTabsSlider:_r["a"]});var wc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.group?n("div",{staticClass:"discussions-panel"},[n("v-layout",{staticClass:"py-3",attrs:{"align-center":"",wrap:""}},[n("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-2 text-lowercase discussions-panel__filters",attrs:{text:""}},"v-btn",r,!1),o),[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:e.filterName(e.$route.query.t),args:{count:e.unreadCount}},expression:"{path: filterName($route.query.t), args: {count: unreadCount}}"}]}),n("v-icon",[e._v("mdi-menu-down")])],1)]}}],null,!1,2232457729)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{staticClass:"discussions-panel__filters-open",on:{click:function(t){return e.routeQuery({t:null})}}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"discussions_panel.open",expression:"'discussions_panel.open'"}]})],1),n("v-list-item",{staticClass:"discussions-panel__filters-all",on:{click:function(t){return e.routeQuery({t:"all"})}}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"discussions_panel.all",expression:"'discussions_panel.all'"}]})],1),n("v-list-item",{staticClass:"discussions-panel__filters-closed",on:{click:function(t){return e.routeQuery({t:"closed"})}}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"discussions_panel.closed",expression:"'discussions_panel.closed'"}]})],1),n("v-list-item",{staticClass:"discussions-panel__filters-unread",on:{click:function(t){return e.routeQuery({t:"unread"})}}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:{path:"discussions_panel.unread",args:{count:e.unreadCount}},expression:"{path: 'discussions_panel.unread', args: { count: unreadCount }}"}]})],1)],1)],1),n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-2 text-lowercase",attrs:{text:""}},"v-btn",r,!1),o),[e.$route.query.tag?n("span",[e._v(e._s(e.$route.query.tag))]):n("span",{directives:[{name:"t",rawName:"v-t",value:"loomio_tags.tags",expression:"'loomio_tags.tags'"}]}),n("v-icon",[e._v("mdi-menu-down")])],1)]}}],null,!1,3456710592)},[n("v-sheet",{staticClass:"pa-1"},[n("tags-display",{attrs:{tags:e.group.parentOrSelf().tags(),"show-counts":""}})],1)],1),n("v-text-field",{staticClass:"mr-2 flex-grow-1",attrs:{clearable:"",solo:"","hide-details":"",value:e.$route.query.q,placeholder:e.$t("navbar.search_threads",{name:e.group.name}),"append-icon":"mdi-magnify",loading:e.searchLoader.loading},on:{input:e.onQueryInput}}),e.canStartThread?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"navbar.start_thread",expression:"'navbar.start_thread'"}],staticClass:"discussions-panel__new-thread-button",attrs:{to:"/d/new?group_id="+e.group.id,color:"primary"}}):e._e()],1),n("v-card",{staticClass:"discussions-panel",attrs:{outlined:""}},[403==e.loader.status?n("div",[n("p",{directives:[{name:"t",rawName:"v-t",value:"error_page.forbidden",expression:"'error_page.forbidden'"}],staticClass:"pa-4 text-center"})]):n("div",[e.$route.query.q?e._e():n("div",{staticClass:"discussions-panel__content"},[e.noThreads?n("div",{staticClass:"discussions-panel__list--empty pa-4",attrs:{value:!0}},[e.canViewPrivateContent?n("p",{directives:[{name:"t",rawName:"v-t",value:"group_page.no_threads_here",expression:"'group_page.no_threads_here'"}],staticClass:"text-center"}):e._e(),e.canViewPrivateContent?e._e():n("p",{directives:[{name:"t",rawName:"v-t",value:"group_page.private_threads",expression:"'group_page.private_threads'"}],staticClass:"text-center"})]):e._e(),e.discussions.length?n("div",{staticClass:"discussions-panel__list thread-preview-collection__container"},[n("v-list",{staticClass:"thread-previews",attrs:{"two-line":""}},[e._l(e.pinnedDiscussions,(function(t){return n("thread-preview",{key:t.id,attrs:{"show-group-name":e.groupIds.length>1,thread:t,"group-page":""}})})),e._l(e.regularDiscussions,(function(t){return n("thread-preview",{key:t.id,attrs:{"show-group-name":e.groupIds.length>1,thread:t,"group-page":""}})}))],2)],1):e._e(),n("div",{staticClass:"d-flex justify-center"},[n("div",{staticClass:"d-flex flex-column align-center"},[n("div",{staticClass:"text--secondary"},[e._v(e._s(e.discussions.length)+" / "+e._s(e.loader.total))]),e.discussions.length<e.loader.total&&!e.loader.exhausted?n("v-btn",{staticClass:"my-2 discussions-panel__show-more",attrs:{outlined:"",color:"accent",loading:e.loader.loading},on:{click:function(t){return e.fetch()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.load_more",expression:"'common.action.load_more'"}]})]):e._e(),e.suggestClosedThreads?n("router-link",{directives:[{name:"t",rawName:"v-t",value:"group_page.view_closed_threads",expression:"'group_page.view_closed_threads'"}],staticClass:"discussions-panel__view-closed-threads text-center pa-1",attrs:{to:"?t=closed"}}):e._e()],1)])]),e.$route.query.q?n("div",{staticClass:"discussions-panel__content pa-4"},[e.searchResults.length||e.searchLoader.loading?e._l(e.searchResults,(function(e){return n("thread-search-result",{key:e.id,attrs:{result:e}})})):n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"discussions_panel.no_results_found",args:{search:e.$route.query.q}},expression:"{path: 'discussions_panel.no_results_found', args: {search: $route.query.q}}"}],staticClass:"text-center discussions-panel__list--empty"})],2):e._e()])])],1):e._e()},xc=[],Cc=n("3482"),Oc=n.n(Cc),jc=n("9380"),Sc=n.n(jc),Ic=n("d173"),Pc=n.n(Ic),Tc={created:function(){var e=this;return this.onQueryInput=h()((function(t){return e.$router.replace(e.mergeQuery({q:t}))}),1e3),this.init()},data:function(){return{group:null,discussions:[],searchResults:[],loader:null,searchLoader:null,groupIds:[]}},methods:{routeQuery:function(e){return this.$router.replace(this.mergeQuery(e))},openStartDiscussionModal:function(){return S["a"].$emit("openModal",{component:"DiscussionForm",props:{discussion:j["a"].discussions.build({descriptionFormat:c["a"].defaultFormat(),groupId:this.group.id})}})},beforeDestroy:function(){return S["a"].$off("joinedGroup")},init:function(){var e=this;return j["a"].groups.findOrFetch(this.$route.params.key).then((function(t){return e.group=t,S["a"].$emit("currentComponent",{page:"groupPage",title:e.group.name,group:e.group,search:{placeholder:e.$t("navbar.search_threads",{name:e.group.parentOrSelf().name})}}),S["a"].$on("joinedGroup",(function(t){return e.fetch()})),e.refresh(),e.watchRecords({key:e.group.id,collections:["discussions","groups","memberships"],query:function(t){return e.query(t)}})}))},refresh:function(){return this.loader=new P["a"]({collection:"discussions",params:{group_id:this.group.id,exclude_types:"group outcome",per:25}}),this.searchLoader=new P["a"]({collection:"searchResults",params:{exclude_types:"group stance outcome poll",subgroups:this.$route.query.subgroups||"all",group_id:this.group.id}}),this.fetch(),this.query()},query:function(e){var t,n;if(this.group){if(this.publicGroupIds=this.group.publicOrganisationIds(),this.groupIds=function(){switch(this.$route.query.subgroups||"mine"){case"mine":return Lr()(Oc()(Pc()(this.group.organisationIds(),c["a"].user().groupIds()),this.publicGroupIds,this.group.id));case"all":return this.group.organisationIds();default:return[this.group.id]}}.call(this),this.$route.query.q)return t=j["a"].searchResults.collection.chain(),t=t.find({groupId:{$in:this.group.parentOrSelf().organisationIds()}}),t=t.find({query:this.$route.query.q}),this.searchResults=v()(t.data(),"rank","desc");switch(t=j["a"].discussions.collection.chain(),t=t.find({discardedAt:null}),t=t.find({groupId:{$in:this.groupIds}}),this.$route.query.t){case"unread":t=t.where((function(e){return e.isUnread()}));break;case"closed":t=t.find({closedAt:{$ne:null}});break;case"all":break;default:t=t.find({closedAt:null})}return this.$route.query.tag&&(n=j["a"].tags.find({groupId:this.group.parentOrSelf().id,name:this.$route.query.tag})[0],t=t.find({tagIds:{$contains:n.id}})),this.discussions=t.data()}},fetch:function(){var e;return this.$route.query.q?this.searchLoader.fetchRecords({q:this.$route.query.q,from:0}):(e={},e.per=50,"closed"===this.$route.query.t&&(e.filter="show_closed"),"all"===this.$route.query.t&&(e.filter="all"),e.subgroups=this.$route.query.subgroups||"mine",e.tags=this.$route.query.tag,this.loader.fetchRecords(e))},filterName:function(e){switch(e){case"unread":return"discussions_panel.unread";case"all":return"discussions_panel.all";case"closed":return"discussions_panel.closed";case"subscribed":return"change_volume_form.simple.loud";default:return"discussions_panel.open"}}},watch:{"$route.params":"init","$route.query":"refresh"},computed:{pinnedDiscussions:function(){return v()(this.discussions.filter((function(e){return e.pinned})),["title"],["asc"])},regularDiscussions:function(){return v()(this.discussions.filter((function(e){return!e.pinned})),["lastActivityAt"],["desc"])},groupTags:function(){return this.group&&this.group.parentOrSelf().tags().filter((function(e){return e.taggingsCount>0}))},loading:function(){return this.loader.loading||this.searchLoader.loading},noThreads:function(){return!this.loading&&0===this.discussions.length},canViewPrivateContent:function(){return I["a"].canViewPrivateContent(this.group)},canStartThread:function(){return I["a"].canStartThread(this.group)},isLoggedIn:function(){return c["a"].isSignedIn()},unreadCount:function(){return Sc()(this.discussions,(function(e){return e.isUnread()})).length},suggestClosedThreads:function(){return this.loader.exhausted&&["undefined","open","unread"].includes(String(this.$route.query.t))&&this.group&&this.group.closedDiscussionsCount}}},Ac=Tc,Rc=(n("fbb1"),n("e449")),Vc=n("8dd9"),$c=Object(L["a"])(Ac,wc,xc,!1,null,null,null),Nc=$c.exports;q()($c,{TagsDisplay:St["a"],ThreadPreview:Et,ThreadSearchResult:Gt,VBtn:Pn["a"],VCard:Kt["a"],VIcon:Tt["a"],VLayout:Q["a"],VList:Mt["a"],VListItem:At["a"],VListItemTitle:$t["c"],VMenu:Rc["a"],VSheet:Vc["a"],VTextField:Zt["a"]});var Ec=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"polls-panel"},[e.group?e._e():n("loading"),e.group?n("div",[n("v-layout",{staticClass:"py-2",attrs:{"align-center":"",wrap:""}},[n("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-2 text-lowercase",attrs:{text:""}},"v-btn",r,!1),o),["active"==e.$route.query.status?n("span",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.open",expression:"'polls_panel.open'"}]}):e._e(),"closed"==e.$route.query.status?n("span",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.closed",expression:"'polls_panel.closed'"}]}):e._e(),e.$route.query.status?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.any_status",expression:"'polls_panel.any_status'"}]}),n("v-icon",[e._v("mdi-menu-down")])],1)]}}],null,!1,3461826009)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.any_status",expression:"'polls_panel.any_status'"}],attrs:{to:e.mergeQuery({status:null})}}),n("v-list-item",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.open",expression:"'polls_panel.open'"}],attrs:{to:e.mergeQuery({status:"active"})}}),n("v-list-item",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.closed",expression:"'polls_panel.closed'"}],attrs:{to:e.mergeQuery({status:"closed"})}})],1)],1),n("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-2 text-lowercase",attrs:{text:""}},"v-btn",r,!1),o),[e.$route.query.poll_type?n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_types."+e.$route.query.poll_type,expression:"'poll_types.'+$route.query.poll_type"}]}):e._e(),e.$route.query.poll_type?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.any_type",expression:"'polls_panel.any_type'"}]}),n("v-icon",[e._v("mdi-menu-down")])],1)]}}],null,!1,1950106713)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{to:e.mergeQuery({poll_type:null})}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.any_type",expression:"'polls_panel.any_type'"}]})],1),e._l(e.pollTypes,(function(t){return n("v-list-item",{key:t,attrs:{to:e.mergeQuery({poll_type:t})}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"poll_types."+t,expression:"'poll_types.'+pollType"}]})],1)}))],2)],1),n("v-text-field",{staticClass:"mr-2",attrs:{clearable:"","hide-details":"",solo:"",value:e.$route.query.q,placeholder:e.$t("navbar.search_polls",{name:e.group.name}),"append-icon":"mdi-magnify"},on:{input:e.onQueryInput}}),e.canStartPoll?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.new_poll",expression:"'polls_panel.new_poll'"}],staticClass:"polls-panel__new-poll-button",attrs:{color:"primary"},on:{click:e.openSelectPollTypeModal}}):e._e()],1),n("v-card",{attrs:{outlined:""}},[403==e.loader.status?n("div",[n("p",{directives:[{name:"t",rawName:"v-t",value:"error_page.forbidden",expression:"'error_page.forbidden'"}],staticClass:"pa-4 text-center"})]):n("div",[e.polls.length?n("v-list",{attrs:{"two-line":"",avatar:""}},e._l(e.polls,(function(t){return n("poll-common-preview",{key:t.id,attrs:{poll:t,"display-group-name":t.groupId!=e.group.id}})})),1):e._e(),0!=e.polls.length||e.loader.loading?e._e():n("p",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.no_polls",expression:"'polls_panel.no_polls'"}],staticClass:"pa-4 text-center"}),n("div",{staticClass:"d-flex justify-center"},[n("div",{staticClass:"d-flex flex-column align-center"},[n("div",{staticClass:"text--secondary"},[e._v(e._s(e.polls.length)+" / "+e._s(e.loader.total))]),e.polls.length<e.loader.total&&!e.loader.exhausted?n("v-btn",{staticClass:"my-2 polls-panel__show-more",attrs:{outlined:"",color:"accent",loading:e.loader.loading},on:{click:function(t){return e.loader.fetchRecords({per:50})}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.load_more",expression:"'common.action.load_more'"}]})]):e._e()],1)])],1)])],1):e._e()],1)},Mc=[],Dc={data:function(){return{group:null,polls:[],loader:null,pollTypes:a["a"].pollTypes}},created:function(){var e=this;return this.onQueryInput=h()((function(t){return e.$router.replace(e.mergeQuery({q:t}))}),500),this.group=j["a"].groups.find(this.$route.params.key),this.initLoader(),this.watchRecords({collections:["polls","groups","memberships"],query:function(){return e.findRecords()}}),this.loader.fetchRecords().then((function(){return S["a"].$emit("currentComponent",{page:"groupPage",title:e.group.name,group:e.group})}))},methods:{initLoader:function(){return this.loader=new P["a"]({collection:"polls",params:{exclude_types:"group",group_key:this.$route.params.key,status:this.$route.query.status,poll_type:this.$route.query.poll_type,query:this.$route.query.q,subgroups:this.$route.query.subgroups}})},openSelectPollTypeModal:function(){return S["a"].$emit("openModal",{component:"PollCommonStartForm",props:{group:this.group,isModal:!0}})},findRecords:function(){var e,t,n=this;switch(t=function(){switch(this.$route.query.subgroups||"mine"){case"all":return this.group.organisationIds();case"none":return[this.group.id];case"mine":return Pc()(this.group.organisationIds(),c["a"].user().groupIds())}}.call(this),e=j["a"].polls.collection.chain(),e=e.find({groupId:{$in:t}}),e=e.find({discardedAt:null}),this.$route.query.status){case"active":e=e.find({closedAt:null});break;case"closed":e=e.find({closedAt:{$ne:null}})}return this.$route.query.poll_type&&(e=e.find({pollType:this.$route.query.poll_type})),this.$route.query.q&&(e=e.where((function(e){return he()([e.title,e.details],(function(e){return g()(n.$route.query.q.split(" "),(function(t){return RegExp(t,"i").test(e)}))}))}))),this.polls=e.simplesort("createdAt",!0).limit(this.loader.params.from+this.loader.params.per).data()}},watch:{"$route.query":function(){return this.initLoader().fetchRecords()}},computed:{canStartPoll:function(){return I["a"].canStartPoll(this.group)}}},Lc=Dc,Fc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-item",{staticClass:"poll-common-preview",attrs:{to:e.urlFor(e.poll)}},[n("v-list-item-avatar",[n("poll-common-chart-preview",{attrs:{poll:e.poll}})],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.poll.title)),n("tags-display",{attrs:{tags:e.poll.tags()}})],1),n("v-list-item-subtitle",[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_collapsed.by_who",args:{name:e.poll.authorName()}},expression:"{ path: 'poll_common_collapsed.by_who', args: { name: poll.authorName() } }"}]}),n("space"),n("span",[e._v("")]),n("space"),e.displayGroupName&&e.poll.groupId?n("span",[n("span",[e._v(e._s(e.poll.group().name))]),n("space"),n("span",[e._v("")]),n("space")],1):e._e(),n("poll-common-closing-at",{attrs:{poll:e.poll,approximate:""}})],1)],1)],1)},qc=[],Uc={props:{poll:Object,displayGroupName:Boolean},methods:{showGroupName:function(){return this.displayGroupName&&this.poll.groupId}}},Bc=Uc,zc=(n("0ec1"),Object(L["a"])(Bc,Fc,qc,!1,null,null,null)),Hc=zc.exports;q()(zc,{PollCommonChartPreview:Ot,PollCommonClosingAt:ta["a"],Space:jt["a"],TagsDisplay:St["a"],VListItem:At["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"]});var Gc=Object(L["a"])(Lc,Ec,Mc,!1,null,null,null),Kc=Gc.exports;q()(Gc,{Loading:X,PollCommonPreview:Hc,VBtn:Pn["a"],VCard:Kt["a"],VIcon:Tt["a"],VLayout:Q["a"],VList:Mt["a"],VListItem:At["a"],VListItemTitle:$t["c"],VMenu:Rc["a"],VTextField:Zt["a"]});var Wc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"members-panel"},[e.group?e._e():n("loading"),e.group?n("div",[e.showAdminWarning?n("v-alert",{staticClass:"my-2",attrs:{color:"primary",type:"warning"}},[n("template",{slot:"default"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"memberships_page.only_one_admin",expression:"'memberships_page.only_one_admin'"}]})])],2):e._e(),n("v-layout",{staticClass:"py-2",attrs:{"align-center":"",wrap:""}},[n("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"members-panel__filters mr-2 text-lowercase",attrs:{text:""}},"v-btn",r,!1),o),["admin"==e.$route.query.filter?n("span",{directives:[{name:"t",rawName:"v-t",value:"members_panel.order_by_admin_desc",expression:"'members_panel.order_by_admin_desc'"}]}):e._e(),"pending"==e.$route.query.filter?n("span",{directives:[{name:"t",rawName:"v-t",value:"members_panel.invitations",expression:"'members_panel.invitations'"}]}):e._e(),"accepted"==e.$route.query.filter?n("span",{directives:[{name:"t",rawName:"v-t",value:"members_panel.accepted",expression:"'members_panel.accepted'"}]}):e._e(),e.$route.query.filter?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"members_panel.everyone",expression:"'members_panel.everyone'"}]}),n("v-icon",[e._v("mdi-menu-down")])],1)]}}],null,!1,3360649667)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{staticClass:"members-panel__filters-everyone",attrs:{to:e.mergeQuery({filter:null})}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"members_panel.everyone",expression:"'members_panel.everyone'"}]})],1),n("v-list-item",{staticClass:"members-panel__filters-everyone",attrs:{to:e.mergeQuery({filter:"accepted"})}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"members_panel.accepted",expression:"'members_panel.accepted'"}]})],1),n("v-list-item",{staticClass:"members-panel__filters-admins",attrs:{to:e.mergeQuery({filter:"admin"})}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"members_panel.order_by_admin_desc",expression:"'members_panel.order_by_admin_desc'"}]})],1),n("v-list-item",{staticClass:"members-panel__filters-invitations",attrs:{to:e.mergeQuery({filter:"pending"})}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"members_panel.invitations",expression:"'members_panel.invitations'"}]})],1)],1)],1),n("v-text-field",{staticClass:"mr-2",attrs:{clearable:"","hide-details":"",solo:"",value:e.$route.query.q,placeholder:e.$t("navbar.search_members",{name:e.group.name}),"append-icon":"mdi-magnify"},on:{input:e.onQueryInput}}),e.canAddMembers?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.invite",expression:"'common.action.invite'"}],staticClass:"membership-card__invite mr-2",attrs:{color:"primary"},on:{click:function(t){return e.invite()}}}):e._e(),e.canAddMembers?n("shareable-link-modal",{attrs:{group:e.group}}):e._e(),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"members_panel.requests",expression:"'members_panel.requests'"}],staticClass:"group-page__requests-tab",attrs:{to:e.urlFor(e.group,"members/requests")}})],1),n("v-card",{attrs:{outlined:""}},[403==e.loader.status?n("div",[n("p",{directives:[{name:"t",rawName:"v-t",value:"error_page.forbidden",expression:"'error_page.forbidden'"}],staticClass:"pa-4 text-center"})]):n("div",[e.memberships.length?n("v-list",{attrs:{"three-line":""}},e._l(e.memberships,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-avatar",{attrs:{size:"48"}},[n("router-link",{attrs:{to:e.urlFor(t.user())}},[n("user-avatar",{attrs:{user:t.user(),size:"48"}})],1)],1),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:e.urlFor(t.user())}},[e._v(e._s(t.user().nameOrEmail()))]),n("space"),e.$route.query.subgroups?n("span",{staticClass:"caption"},[e._v(e._s(t.group().name))]):e._e(),n("space"),n("span",{staticClass:"title caption"},[e._v(e._s(t.user().title(e.group)))]),e.$route.query.q?n("span",[n("space"),n("span",{staticClass:"caption"},[e._v(e._s(t.user().email))])],1):e._e(),t.groupId==e.group.id&&t.admin?n("span",[n("space"),n("v-chip",{directives:[{name:"t",rawName:"v-t",value:"members_panel.admin",expression:"'members_panel.admin'"}],attrs:{small:"",outlined:"",label:""}}),n("space")],1):e._e(),t.acceptedAt?n("span",{staticClass:"caption grey--text"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.joined",expression:"'common.action.joined'"}]}),n("space"),n("time-ago",{attrs:{date:t.acceptedAt}})],1):e._e(),t.acceptedAt?e._e():n("span",{staticClass:"caption grey--text"},[t.inviterId?[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"members_panel.invited_by_name",args:{name:t.inviter().name}},expression:"{path: 'members_panel.invited_by_name', args: {name: membership.inviter().name}}"}]}),n("space"),n("time-ago",{attrs:{date:t.createdAt}})]:e._e(),t.inviterId?e._e():[n("span",{directives:[{name:"t",rawName:"v-t",value:"members_panel.header_invited",expression:"'members_panel.header_invited'"}]}),n("space"),n("time-ago",{attrs:{date:t.createdAt}})]],2)],1),n("v-list-item-subtitle",[t.acceptedAt?n("span",[e._v(e._s((t.user().shortBio||"").replace(/<\/?[^>]+(>|$)/g,"")))]):e._e()])],1),n("v-list-item-action",[t.groupId==e.group.id?n("membership-dropdown",{attrs:{membership:t}}):e._e()],1)],1)})),1):n("p",{directives:[{name:"t",rawName:"v-t",value:"common.no_results_found",expression:"'common.no_results_found'"}],staticClass:"pa-4 text-center"}),n("div",{staticClass:"d-flex justify-center"},[n("div",{staticClass:"d-flex flex-column align-center"},["all"==e.$route.query.subgroups?n("div",{staticClass:"text--secondary"},[e._v(e._s(e.memberships.length)+" / "+e._s(e.group.orgMembersCount))]):n("div",{staticClass:"text--secondary"},[e._v(e._s(e.memberships.length)+" / "+e._s(e.loader.total))]),e.memberships.length<e.loader.total&&!e.loader.exhausted?n("v-btn",{staticClass:"my-2 members-panel__show-more",attrs:{outlined:"",color:"accent",loading:e.loader.loading},on:{click:function(t){return e.loader.fetchRecords({per:50})}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.load_more",expression:"'common.action.load_more'"}]})]):e._e(),e.group.subgroupsCount&&"all"!=e.$route.query.subgroups?n("a",{directives:[{name:"t",rawName:"v-t",value:"members_panel.show_users_in_subgroups",expression:"'members_panel.show_users_in_subgroups'"}],attrs:{href:"?subgroups=all"}},[e._v("show users in all subgroups")]):e._e()],1)])],1)])],1):e._e()],1)},Yc=[],Qc={data:function(){return{loader:null,group:null,per:25,order:"created_at desc",orders:[{text:this.$t("members_panel.order_by_name"),value:"users.name"},{text:this.$t("members_panel.order_by_created"),value:"memberships.created_at"},{text:this.$t("members_panel.order_by_created_desc"),value:"memberships.created_at desc"},{text:this.$t("members_panel.order_by_admin_desc"),value:"admin desc"}],memberships:[]}},created:function(){var e=this;return this.onQueryInput=h()((function(t){return e.$router.replace(e.mergeQuery({q:t}))}),500),j["a"].groups.findOrFetch(this.$route.params.key).then((function(t){return e.group=t,S["a"].$emit("currentComponent",{page:"groupPage",title:e.group.name,group:e.group,search:{placeholder:e.$t("navbar.search_members",{name:e.group.parentOrSelf().name})}}),e.loader=new P["a"]({collection:"memberships",params:{exclude_types:"group",group_id:e.group.id,per:e.per,order:e.order,subgroups:e.$route.query.subgroups}}),e.watchRecords({collections:["memberships","groups"],query:e.query}),e.refresh()}))},methods:{exact:Te["b"],approximate:Te["a"],query:function(){var e,t,n,o,r=this;switch(e=j["a"].memberships.collection.chain(),this.$route.query.subgroups){case"mine":e=e.find({groupId:{$in:Pc()(this.group.organisationIds(),c["a"].user().groupIds())}});break;case"none":e=e.find({groupId:this.group.id});break;default:e=e.find({groupId:{$in:this.group.organisationIds()}})}switch(e=e.sort((function(e,t){return e.groupId===r.group.id?-1:t.groupId===r.group.id?1:0})),n=[],t=[],e.data().forEach((function(e){if(!n.includes(e.userId))return n.push(e.userId),t.push(e.id)})),e=j["a"].memberships.collection.chain().find({id:{$in:t}}),this.$route.query.q&&(o=j["a"].users.collection.find({$or:[{name:{$regex:["^".concat(this.$route.query.q),"i"]}},{email:{$regex:["".concat(this.$route.query.q),"i"]}},{username:{$regex:["^".concat(this.$route.query.q),"i"]}},{name:{$regex:[" ".concat(this.$route.query.q),"i"]}}]}),e=e.find({userId:{$in:ze()(o,"id")}})),this.$route.query.filter){case"admin":e=e.find({admin:!0});break;case"accepted":e=e.find({acceptedAt:{$ne:null}});break;case"pending":e=e.find({acceptedAt:null})}return e=e.simplesort("id",!0),this.memberships=e.data()},refresh:function(){return this.loader.fetchRecords({from:0,q:this.$route.query.q,order:this.order,filter:this.$route.query.filter,subgroups:this.$route.query.subgroups}),this.query()},invite:function(){return S["a"].$emit("openModal",{component:"GroupInvitationForm",props:{group:this.group}})}},computed:{membershipRequestsPath:function(){return ve["a"].membershipRequest(this.group)},showLoadMore:function(){return!this.loader.exhausted},totalRecords:function(){return this.pending?this.group.pendingMembershipsCount:this.group.membershipsCount-this.group.pendingMembershipsCount},canAddMembers:function(){return I["a"].canAddMembersToGroup(this.group)&&!this.pending},showAdminWarning:function(){return this.group.adminsInclude(c["a"].user())&&this.group.adminMembershipsCount<2&&this.group.membershipsCount-this.group.adminMembershipsCount>0}},watch:{"$route.query":"refresh"}},Zc=Qc,Jc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canPerformAction()?n("div",{staticClass:"membership-dropdown lmo-no-print"},[n("v-menu",{staticClass:"lmo-dropdown-menu",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"membership-dropdown__button",attrs:{icon:""}},"v-btn",r,!1),o),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,3050785892)},[n("v-list",{staticClass:"group-actions-dropdown__menu-content"},[e.canSetTitle()?n("v-list-item",{staticClass:"membership-dropdown__set-title",on:{click:function(t){return e.setTitle()}}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"membership_dropdown.set_title",expression:"'membership_dropdown.set_title'"}]})],1):e._e(),e.canResendMembership()?n("v-list-item",{staticClass:"membership-dropdown__resend",attrs:{disabled:e.membership.resent},on:{click:function(t){return e.resendMembership()}}},[e.membership.resent?e._e():n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"membership_dropdown.resend",expression:"'membership_dropdown.resend'"}]}),e.membership.resent?n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"membership_dropdown.invitation_resent",expression:"'membership_dropdown.invitation_resent'"}]}):e._e()],1):e._e(),e.canToggleAdmin()?n("v-list-item",{staticClass:"membership-dropdown__toggle-admin",on:{click:function(t){return e.toggleAdmin()}}},[e.membership.admin?e._e():n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"membership_dropdown.make_coordinator",expression:"'membership_dropdown.make_coordinator'"}]}),e.membership.admin?n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"membership_dropdown.demote_coordinator",expression:"'membership_dropdown.demote_coordinator'"}]}):e._e()],1):e._e(),e.canRemoveMembership()?n("v-list-item",{staticClass:"membership-dropdown__remove",on:{click:function(t){return e.removeMembership()}}},[e.membership.acceptedAt?n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"membership_dropdown.remove_from.group",expression:"'membership_dropdown.remove_from.group'"}]}):e._e(),e.membership.acceptedAt?e._e():n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"membership_dropdown.cancel_invitation",expression:"'membership_dropdown.cancel_invitation'"}]})],1):e._e()],1)],1)],1):e._e()},Xc=[],el=n("efdf"),tl=n.n(el),nl={props:{membership:Object},methods:{canPerformAction:function(){return this.canSetTitle()||this.canRemoveMembership()||this.canResendMembership()||this.canToggleAdmin()},canSetTitle:function(){return I["a"].canSetMembershipTitle(this.membership)},setTitle:function(){return S["a"].$emit("openModal",{component:"MembershipModal",props:{membership:this.membership.clone()}})},canResendMembership:function(){return I["a"].canResendMembership(this.membership)},resendMembership:function(){return _e["a"].loading(),this.membership.resend().then((function(){return _e["a"].success("membership_dropdown.invitation_resent")}))},canRemoveMembership:function(){return I["a"].canRemoveMembership(this.membership)},removeMembership:function(){var e,t;return t=this.membership.acceptedAt?"membership":"invitation",e=[],e.push(this.$t("membership_remove_modal.".concat(t,".message"),{name:this.membership.user().name})),this.membership.group().parentId?e.push(this.$t("membership_remove_modal.membership.impact_for_subgroup")):e.push(this.$t("membership_remove_modal.membership.impact_for_group")),S["a"].$emit("openModal",{component:"ConfirmModal",props:{confirm:{membership:this.membership.clone(),text:{title:"membership_remove_modal.".concat(t,".title"),raw_helptext:e.join("<br>"),flash:"membership_remove_modal.".concat(t,".flash"),submit:"membership_remove_modal.".concat(t,".submit")},submit:this.membership.destroy,redirect:this.membership.user()===c["a"].user()?"dashboard":void 0}}})},canToggleAdmin:function(){return 0===this.membership.group().adminMembershipsCount&&this.membership.user()===c["a"].user()||I["a"].canAdminister(this.membership.group())&&(!this.membership.admin||this.canRemoveMembership(this.membership))||this.membership.userIs(c["a"].user())&&this.membership.group().parentOrSelf().adminsInclude(c["a"].user())},toggleAdmin:function(e){var t,n=this;if(t=this.membership.admin?"removeAdmin":"makeAdmin",!this.membership.admin||this.membership.user()!==c["a"].user()||confirm(this.$t("memberships_page.remove_admin_from_self.question")))return j["a"].memberships[t](this.membership).then((function(){return _e["a"].success("memberships_page.messages.".concat(tl()(t),"_success"),{name:n.membership.userName()||n.membership.userEmail()})}))}}},ol=nl,rl=Object(L["a"])(ol,Jc,Xc,!1,null,null,null),il=rl.exports;q()(rl,{VBtn:Pn["a"],VIcon:Tt["a"],VList:Mt["a"],VListItem:At["a"],VListItemTitle:$t["c"],VMenu:Rc["a"]});var al=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({directives:[{name:"t",rawName:"v-t",value:"common.action.share",expression:"'common.action.share'"}],staticClass:"mr-2",attrs:{color:"accent"}},"v-btn",r,!1),o))]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{staticClass:"shareable-link-modal"},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"invitation_form.share_group",expression:"'invitation_form.share_group'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("v-btn",{attrs:{icon:"",small:"",href:"https://help.loomio.org/en/user_manual/groups/membership/",target:"_blank",title:e.$t("common.help")}},[n("v-icon",[e._v("mdi-help-circle-outline")])],1),n("v-btn",{staticClass:"dismiss-modal-button",attrs:{icon:"",small:""},on:{click:function(t){e.dialog=!1}}},[n("v-icon",[e._v("mdi-window-close")])],1)],1),n("v-card-text",[n("span",{directives:[{name:"t",rawName:"v-t",value:"invitation_form.group_url",expression:"'invitation_form.group_url'"}],staticClass:"subtitle-2"}),"secret"==e.group.groupPrivacy?n("p",{directives:[{name:"t",rawName:"v-t",value:"invitation_form.secret_group_url_explanation",expression:"'invitation_form.secret_group_url_explanation'"}],staticClass:"mt-2 mb-0 caption"}):n("p",{directives:[{name:"t",rawName:"v-t",value:"invitation_form.shareable_group_url_explanation",expression:"'invitation_form.shareable_group_url_explanation'"}],staticClass:"mt-2 mb-0 caption"}),n("v-layout",{attrs:{"align-center":""}},[n("v-text-field",{staticClass:"shareable-link-modal__shareable-link",attrs:{value:e.groupUrl,disabled:!0}}),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.copy",expression:"'common.copy'"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.groupUrl,expression:"groupUrl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copiedGroupUrl,expression:"copiedGroupUrl",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.error,expression:"error",arg:"error"}],ref:"groupUrlButton",staticClass:"shareable-link-modal__copy",attrs:{text:"",color:"accent"}})],1),e.canAddMembers?n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"invitation_form.reusable_invitation_link",expression:"'invitation_form.reusable_invitation_link'"}],staticClass:"subtitle-2"}),n("p",{directives:[{name:"t",rawName:"v-t",value:"invitation_form.shareable_invitation_explanation",expression:"'invitation_form.shareable_invitation_explanation'"}],staticClass:"mt-2 mb-0 caption"}),n("v-layout",{attrs:{"align-center":""}},[n("v-text-field",{staticClass:"shareable-link-modal__shareable-link",attrs:{value:e.invitationLink,disabled:!0}}),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.copy",expression:"'common.copy'"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.invitationLink,expression:"invitationLink",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copiedInvitationUrl,expression:"copiedInvitationUrl",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.error,expression:"error",arg:"error"}],ref:"invitationUrlButton",staticClass:"shareable-link-modal__copy",attrs:{text:"",color:"accent"}}),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.reset",expression:"'common.reset'"}],staticClass:"shareable-link-modal__reset",attrs:{text:"",color:"warning"},on:{click:function(t){return e.resetInvitationLink()}}})],1)],1):e._e()],1)],1)],1)},sl=[],cl=(n("6801"),{props:{group:Object},data:function(){return{dialog:!1}},methods:{error:function(){return _e["a"].error("invitation_form.error")},copiedGroupUrl:function(e){return this.$copyText(e.text,this.$refs.groupUrlButton.$el),_e["a"].success("common.copied")},copiedInvitationUrl:function(e){return this.$copyText(e.text,this.$refs.invitationUrlButton.$el),_e["a"].success("common.copied")},resetInvitationLink:function(){return this.group.resetToken().then((function(){return _e["a"].success("invitation_form.shareable_link_reset")}))}},computed:{groupUrl:function(){return ve["a"].group(this.group,null,{absolute:!0})},invitationLink:function(){return this.group.token?ve["a"].shareableLink(this.group):this.$t("common.action.loading")},canAddMembers:function(){return I["a"].canAddMembersToGroup(this.group)&&!this.pending}},watch:{dialog:function(e){if(e)return this.group.fetchToken()}}}),ll=cl,ul=n("169a9"),dl=Object(L["a"])(ll,al,sl,!1,null,null,null),pl=dl.exports;q()(dl,{VBtn:Pn["a"],VCard:Kt["a"],VCardText:un["c"],VCardTitle:un["d"],VDialog:ul["a"],VIcon:Tt["a"],VLayout:Q["a"],VSpacer:Oo["a"],VTextField:Zt["a"]});var ml=Object(L["a"])(Zc,Wc,Yc,!1,null,null,null),fl=ml.exports;q()(ml,{Loading:X,MembershipDropdown:il,ShareableLinkModal:pl,Space:jt["a"],TimeAgo:zt["a"],UserAvatar:It["a"],VAlert:Lo["a"],VBtn:Pn["a"],VCard:Kt["a"],VChip:Pt["a"],VIcon:Tt["a"],VLayout:Q["a"],VList:Mt["a"],VListItem:At["a"],VListItemAction:Rt["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"],VMenu:Rc["a"],VTextField:Zt["a"]});var hl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tags-panel"},[n("v-card",{staticClass:"my-4 pa-2",attrs:{outlined:""}},[n("tags-display",{attrs:{tags:e.group.tags(),"show-counts":""}})],1),e.group?e._e():n("loading"),e.group?n("div",[n("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[n("v-card-title",{directives:[{name:"t",rawName:"v-t",value:"common.threads",expression:"'common.threads'"}]}),403==e.discussionsLoader.status?n("div",[n("p",{directives:[{name:"t",rawName:"v-t",value:"error_page.forbidden",expression:"'error_page.forbidden'"}],staticClass:"pa-4 text-center"})]):n("div",[e.discussions.length?n("div",{staticClass:"discussions-panel__list thread-preview-collection__container"},[n("v-list",{staticClass:"thread-previews",attrs:{"two-line":""}},e._l(e.discussions,(function(e){return n("thread-preview",{key:e.id,attrs:{thread:e,"group-page":""}})})),1),n("div",{staticClass:"d-flex justify-center"},[n("div",{staticClass:"d-flex flex-column align-center"},[n("div",{staticClass:"text--secondary"},[e._v(e._s(e.discussions.length)+" / "+e._s(e.discussionsLoader.total))]),e.discussions.length<e.discussionsLoader.total&&!e.discussionsLoader.exhausted?n("v-btn",{staticClass:"my-2 discussions-panel__show-more",attrs:{outlined:"",color:"accent",loading:e.discussionsLoader.loading},on:{click:function(t){return e.fetch()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.load_more",expression:"'common.action.load_more'"}]})]):e._e()],1)])],1):e._e(),0!=e.discussions.length||e.discussionsLoader.loading?e._e():n("p",{directives:[{name:"t",rawName:"v-t",value:"common.no_results_found",expression:"'common.no_results_found'"}],staticClass:"pa-4 text-center"})]),e.discussionsLoader.loading?n("loading"):e._e()],1),n("v-card",{attrs:{outlined:""}},[n("v-card-title",{directives:[{name:"t",rawName:"v-t",value:"group_page.polls",expression:"'group_page.polls'"}]}),403==e.pollsLoader.status?n("div",[n("p",{directives:[{name:"t",rawName:"v-t",value:"error_page.forbidden",expression:"'error_page.forbidden'"}],staticClass:"pa-4 text-center"})]):e._e(),e.polls.length?n("div",[n("v-list",{attrs:{"two-line":"",avatar:""}},e._l(e.polls,(function(t){return n("poll-common-preview",{key:t.id,attrs:{poll:t,"display-group-name":t.groupId!=e.group.id}})})),1),n("div",{staticClass:"d-flex justify-center"},[n("div",{staticClass:"d-flex flex-column align-center"},[n("div",{staticClass:"text--secondary"},[e._v(e._s(e.polls.length)+" / "+e._s(e.pollsLoader.total))]),e.polls.length<e.pollsLoader.total&&!e.pollsLoader.exhausted?n("v-btn",{staticClass:"my-2 polls-panel__show-more",attrs:{outlined:"",color:"accent",loading:e.pollsLoader.loading},on:{click:function(t){return e.loader.fetchRecords({per:50})}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.load_more",expression:"'common.action.load_more'"}]})]):e._e()],1)])],1):e._e(),0!=e.polls.length||e.pollsLoader.loading?e._e():n("p",{directives:[{name:"t",rawName:"v-t",value:"polls_panel.no_polls",expression:"'polls_panel.no_polls'"}],staticClass:"pa-4 text-center"}),e.pollsLoader.loading?n("loading"):e._e()],1)],1):e._e()],1)},_l=[],vl={data:function(){return{group:null,pollsLoader:null,discussionsLoader:null,tag:null}},created:function(){var e=this;return this.init(),this.watchRecords({collections:["polls","groups","discussions"],query:function(){return e.findRecords()}})},watch:{"$route.params.tag":"init"},methods:{init:function(){return this.group=j["a"].groups.find(this.$route.params.key),this.tag=j["a"].tags.collection.find({name:this.$route.params.tag,groupId:this.group.id})[0],this.pollsLoader=new P["a"]({collection:"polls",params:{exclude_types:"group",tags:this.$route.params.tag}}),this.discussionsLoader=new P["a"]({collection:"discussions",params:{exclude_types:"group",filter:"all",tags:this.$route.params.tag}}),this.pollsLoader.fetchRecords(),this.discussionsLoader.fetchRecords(),this.findRecords()},findRecords:function(){return this.polls=j["a"].polls.collection.chain().find({tagIds:{$contains:this.tag.id}}).find({discardedAt:null}).simplesort("createdAt",!0).data(),this.discussions=j["a"].discussions.collection.chain().find({tagIds:{$contains:this.tag.id}}).find({discardedAt:null}).simplesort("createdAt",!0).data()}}},bl=vl,gl=Object(L["a"])(bl,hl,_l,!1,null,null,null),yl=gl.exports;q()(gl,{Loading:X,PollCommonPreview:Hc,TagsDisplay:St["a"],ThreadPreview:Et,VBtn:Pn["a"],VCard:Kt["a"],VCardTitle:un["d"],VList:Mt["a"]});var kl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.group?n("div",[n("v-layout",{staticClass:"my-2",attrs:{"align-center":"",wrap:""}},[n("v-text-field",{staticClass:"mr-2",attrs:{clearable:"","hide-details":"",solo:"",value:e.$route.query.q,placeholder:e.$t("subgroups_panel.search_subgroups_of_name",{name:e.group.name}),"append-icon":"mdi-magnify"},on:{input:e.onQueryInput}}),e.canCreateSubgroups?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.add_subgroup",expression:"'common.action.add_subgroup'"}],staticClass:"subgroups-card__start",attrs:{color:"primary"},on:{click:function(t){return e.startSubgroup()}}}):e._e()],1),n("v-card",{staticClass:"group-subgroups-panel",attrs:{outlined:""}},[e.loading||e.subgroups.length?n("v-list",{attrs:{avatar:"","three-line":""}},[e.group.subgroups().length>0?n("v-list-item",{staticClass:"subgroups-card__list-item",attrs:{to:e.urlFor(e.group)+"?subgroups=none"}},[n("v-list-item-avatar",{staticClass:"subgroups-card__list-item-logo"},[n("group-avatar",{attrs:{group:e.group,size:"28px"}})],1),n("v-list-item-content",[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:{path:"subgroups_panel.group_without_subgroups",args:{name:e.group.name}},expression:"{path: 'subgroups_panel.group_without_subgroups', args: {name: group.name}}"}]}),n("v-list-item-subtitle",[e._v(e._s(e.stripDescription(e.group.description)))])],1)],1):e._e(),e._l(e.subgroups,(function(t){return n("v-list-item",{key:t.id,staticClass:"subgroups-card__list-item",attrs:{to:e.urlFor(t)}},[n("v-list-item-avatar",{staticClass:"subgroups-card__list-item-logo"},[n("group-avatar",{attrs:{group:t,size:"28px"}})],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.name))]),n("v-list-item-subtitle",[e._v(e._s(e.stripDescription(t.description)))])],1)],1)}))],2):n("p",{directives:[{name:"t",rawName:"v-t",value:"common.no_results_found",expression:"'common.no_results_found'"}],staticClass:"text-center pa-4"})],1)],1):e._e()},wl=[],xl={data:function(){return{group:null,loading:!0}},created:function(){var e=this;return this.onQueryInput=h()((function(t){return e.$router.replace(e.mergeQuery({q:t}))}),500),j["a"].groups.findOrFetch(this.$route.params.key).then((function(t){return e.group=t,S["a"].$emit("currentComponent",{page:"groupPage",title:e.group.name,group:e.group}),j["a"].groups.fetchByParent(e.group).then((function(){return e.loading=!1,S["a"].$emit("subgroupsLoaded",e.group)})),e.watchRecords({collections:["memberships","groups"],query:e.findRecords}),e.findRecords()}))},computed:{canCreateSubgroups:function(){return I["a"].canCreateSubgroups(this.group)}},methods:{findRecords:function(){var e,t,n,o=this;return t=j["a"].memberships.find({userId:c["a"].user().id}).map((function(e){return e.groupId})),n=j["a"].groups.collection.chain().find({parentId:this.group.id}).find({groupPrivacy:{$in:["closed","open"]}}).data().map((function(e){return e.id})),console.log(t,n),e=j["a"].groups.collection.chain().find({parentId:this.group.id,id:{$in:t.concat(n)}}).simplesort("name"),this.$route.query.q&&(e=e.where((function(e){return he()([e.name,e.description],(function(e){return RegExp(o.$route.query.q,"i").test(e)}))}))),this.subgroups=e.data()},startSubgroup:function(){return S["a"].$emit("openModal",{component:"GroupNewForm",props:{group:j["a"].groups.build({parentId:this.group.id})}})},stripDescription:function(e){return(e||"").replace(/<[^>]*>?/gm,"")}},watch:{"$route.query":"findRecords"}},Cl=xl,Ol=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-avatar",{class:"elevation-"+e.elevation,attrs:{size:e.size,tile:""}},[e.group.logoUrl()?n("img",{attrs:{alt:e.group.name,src:e.group.logoUrl()},on:{click:function(t){e.onClick&&e.onClick()}}}):e._e()])},jl=[],Sl={props:{onClick:{type:Function,default:null},elevation:{type:Number,default:0},group:Object,size:{default:"28px"}}},Il=Sl,Pl=Object(L["a"])(Il,Ol,jl,!1,null,null,null),Tl=Pl.exports;q()(Pl,{VAvatar:ln["a"]});var Al=Object(L["a"])(Cl,kl,wl,!1,null,null,null),Rl=Al.exports;q()(Al,{GroupAvatar:Tl,VBtn:Pn["a"],VCard:Kt["a"],VLayout:Q["a"],VList:Mt["a"],VListItem:At["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"],VTextField:Zt["a"]});var Vl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-layout",{staticClass:"py-2",attrs:{"align-center":"",wrap:""}},[n("v-text-field",{attrs:{clearable:"","hide-details":"",solo:"",placeholder:e.$t("navbar.search_files",{name:e.group.name}),"append-icon":"mdi-magnify"},on:{input:e.onQueryInput}})],1),n("v-card",{staticClass:"group-files-panel",attrs:{outlined:""}},[403==e.loader.status?n("div",[n("p",{directives:[{name:"t",rawName:"v-t",value:"error_page.forbidden",expression:"'error_page.forbidden'"}],staticClass:"pa-4 text-center"})]):n("div",[e.loading||e.items.length?n("v-simple-table",{attrs:{items:e.items,"hide-default-footer":""}},[n("thead",[n("tr",[n("th",{directives:[{name:"t",rawName:"v-t",value:"group_files_panel.filename",expression:"'group_files_panel.filename'"}]}),n("th",{directives:[{name:"t",rawName:"v-t",value:"group_files_panel.uploaded_by",expression:"'group_files_panel.uploaded_by'"}]}),n("th",{directives:[{name:"t",rawName:"v-t",value:"group_files_panel.uploaded_at",expression:"'group_files_panel.uploaded_at'"}]}),e.canAdminister?n("th"):e._e()])]),n("tbody",e._l(e.items,(function(t){return n("tr",{key:t.id},[n("td",[n("v-layout",{attrs:{"align-center":""}},[n("v-icon",[e._v("mdi-"+e._s(t.icon))]),n("a",{attrs:{href:t.downloadUrl||t.url}},[e._v(e._s(t.filename||t.title))])],1)],1),n("td",[n("user-avatar",{attrs:{user:t.author()}})],1),n("td",[n("time-ago",{attrs:{date:t.createdAt}})],1),e.canAdminister?n("td",[Object.keys(e.actionsFor(t)).length?n("action-menu",{attrs:{actions:e.actionsFor(t)}}):e._e()],1):e._e()])})),0)]):n("p",{directives:[{name:"t",rawName:"v-t",value:"common.no_results_found",expression:"'common.no_results_found'"}],staticClass:"text-center pa-4"}),n("v-layout",{attrs:{"justify-center":""}},[n("div",{staticClass:"d-flex flex-column justify-center align-center"},[e.attachmentLoader.exhausted?e._e():n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.load_more",expression:"'common.action.load_more'"}],staticClass:"my-2",attrs:{outlined:"",color:"accent",loading:e.loading},on:{click:function(t){return e.fetch()}}})],1)])],1)])],1)},$l=[];function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function El(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ml(e,t,n){return t&&El(e.prototype,t),n&&El(e,n),e}var Dl=new(function(){function e(){Nl(this,e)}return Ml(e,[{key:"actions",value:function(e){return{delete_attachment:{icon:"mdi-delete",name:"common.action.delete",canPerform:function(){return e.isA("attachment")&&I["a"].canAdminister(e.group())},perform:function(){return S["a"].$emit("openModal",{component:"ConfirmModal",props:{confirm:{submit:e.destroy,text:{title:"comment_form.attachments.remove_attachment",helptext:"group_files_panel.delete_confirmation",submit:"common.action.delete",flash:"poll_common_delete_modal.success"}}}})}},delete_document:{icon:"mdi-delete",name:"common.action.delete",canPerform:function(){return e.isA("document")&&I["a"].canAdminister(e.group())},perform:function(){return S["a"].$emit("openModal",{component:"ConfirmModal",props:{confirm:{submit:e.destroy,text:{title:"comment_form.attachments.remove_attachment",helptext:"group_files_panel.delete_confirmation",submit:"common.action.delete",flash:"poll_common_delete_modal.success"}}}})}}}}}]),e}()),Ll={data:function(){return{group:null,loader:null,attachmentLoader:null,searchQuery:"",items:[],subgroups:"mine",attachmentIds:[],per:25,from:0}},created:function(){var e=this;return this.onQueryInput=h()((function(t){return e.$router.replace({query:{q:t}})}),400),this.group=j["a"].groups.fuzzyFind(this.$route.params.key),S["a"].$emit("currentComponent",{page:"groupPage",title:this.group.name,group:this.group,search:{placeholder:this.$t("navbar.search_files",{name:this.group.parentOrSelf().name})}}),this.loader=new P["a"]({collection:"documents",path:"for_group",params:{group_id:this.group.id,per:this.per,subgroups:this.subgroups,from:this.from}}),this.attachmentLoader=new P["a"]({collection:"attachments",params:{group_id:this.group.id,per:this.per,subgroups:this.subgroups,from:this.from}}),this.watchRecords({collections:["documents","attachments"],query:function(){return e.query()}}),this.searchQuery=this.$route.query.q||"",this.fetch()},watch:{"$route.query.q":function(e){return this.searchQuery=e||"",this.fetch(),this.query()}},methods:{query:function(){var e,t,n;return n=function(){switch(this.subgroups){case"none":return[this.group.id];case"mine":return Pc()(this.group.organisationIds(),c["a"].user().groupIds());case"all":return this.group.organisationIds()}}.call(this),t=j["a"].documents.collection.chain().find({groupId:{$in:n}}).find({title:{$regex:RegExp("".concat(this.searchQuery),"i")}}).data(),e=j["a"].attachments.collection.chain().find({id:{$in:this.attachmentIds}}).find({filename:{$regex:RegExp("".concat(this.searchQuery),"i")}}).data(),this.items=v()(t.concat(e),"createdAt","desc")},fetch:function(){var e=this;return this.loader.fetchRecords({q:this.searchQuery}),this.attachmentLoader.fetchRecords({q:this.searchQuery}).then((function(t){return e.attachmentIds=Lr()(e.attachmentIds.concat((t.attachments||[]).map((function(e){return e.id}))))})).then((function(){return e.query()}))},actionsFor:function(e){return Dl.actions(e)}},computed:{showLoadMore:function(){return!this.loader.exhausted&&!this.attachmentLoader.exhausted},loading:function(){return this.loader.loading||this.attachmentLoader.loading},canAdminister:function(){return I["a"].canAdminister(this.group)}}},Fl=Ll,ql=n("1f4f"),Ul=Object(L["a"])(Fl,Vl,$l,!1,null,null,null),Bl=Ul.exports;q()(Ul,{ActionMenu:Se["a"],TimeAgo:zt["a"],UserAvatar:It["a"],VBtn:Pn["a"],VCard:Kt["a"],VIcon:Tt["a"],VLayout:Q["a"],VSimpleTable:ql["a"],VTextField:Zt["a"]});var zl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"requests-panel"},[n("h2",{directives:[{name:"t",rawName:"v-t",value:"membership_requests_card.heading",expression:"'membership_requests_card.heading'"}],staticClass:"ma-4 headline"}),e.group?n("v-card",{staticClass:"mt-4",attrs:{outlined:""}},[e.requests.length?e._e():n("p",{directives:[{name:"t",rawName:"v-t",value:"common.no_results_found",expression:"'common.no_results_found'"}],staticClass:"text-center pa-4"}),n("v-list",{attrs:{"two-line":""}},[e._l(e.unapprovedRequestsByOldestFirst,(function(e){return n("membership-request",{key:e.id,attrs:{request:e}})})),e._l(e.approvedRequestsByNewestFirst,(function(e){return n("membership-request",{key:e.id,attrs:{request:e}})}))],2)],1):n("loading")],1)},Hl=[],Gl={data:function(){return{requests:[],group:null}},created:function(){var e=this;return j["a"].groups.findOrFetch(this.$route.params.key).then((function(t){if(e.group=t,I["a"].canManageMembershipRequests(e.group))return j["a"].membershipRequests.fetchPendingByGroup(e.group.key,{per:100}),j["a"].membershipRequests.fetchPreviousByGroup(e.group.key,{per:100}),e.watchRecords({collections:["membershipRequests"],query:function(t){return e.requests=e.group.membershipRequests()}})}))},computed:{unapprovedRequestsByOldestFirst:function(){var e;return e=Sc()(this.requests,(function(e){return!e.respondedAt})),v()(e,["createdAt"],["asc"])},approvedRequestsByNewestFirst:function(){var e;return e=Sc()(this.requests,(function(e){return e.respondedAt})),v()(e,["respondedAt"],["desc"])}}},Kl=Gl,Wl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-list-item",{staticClass:"membership-requests"},[n("v-list-item-avatar",[n("user-avatar",{attrs:{user:e.request.actor(),size:"40"}})],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"membership-request__name"},[n("span",[e._v(e._s(e.request.actor().name||e.request.actor().email||e.request.name||e.request.email))]),e.request.respondedAt?e._e():n("span",{staticClass:"caption lmo-grey-text"},[n("space"),n("mid-dot"),n("time-ago",{attrs:{date:e.request.createdAt}})],1),e.request.respondedAt?n("span",{staticClass:"membership-request__response caption lmo-grey-text"},[n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"membership_requests_page.previous_request_response",args:{response:e.request.formattedResponse(),responder:e.request.responder().name}},expression:"{ path: 'membership_requests_page.previous_request_response', args: { response: request.formattedResponse(), responder: request.responder().name } }"}]}),n("mid-dot"),n("time-ago",{attrs:{date:e.request.respondedAt}})],1):e._e()]),n("v-list-item-subtitle",{staticClass:"membership-request__introduction"},[e._v(e._s(e.request.introduction))])],1),e.request.respondedAt?e._e():n("v-list-item-action",[n("v-btn",{staticClass:"membership-requests-page__approve",attrs:{text:"",icon:""},on:{click:function(t){return e.approve(e.request)}}},[n("v-icon",[e._v("mdi-check")])],1)],1),e.request.respondedAt?e._e():n("v-list-item-action",[n("v-btn",{staticClass:"membership-requests-page__ignore",attrs:{text:"",icon:""},on:{click:function(t){return e.ignore(e.request)}}},[n("v-icon",[e._v("mdi-close")])],1)],1)],1)],1)},Yl=[],Ql={props:{request:Object},methods:{approve:function(e){return j["a"].membershipRequests.approve(e).then((function(){return _e["a"].success("membership_requests_page.messages.request_approved_success")}))},ignore:function(e){return j["a"].membershipRequests.ignore(e).then((function(){return _e["a"].success("membership_requests_page.messages.request_ignored_success")}))}}},Zl=Ql,Jl=(n("dad2"),Object(L["a"])(Zl,Wl,Yl,!1,null,null,null)),Xl=Jl.exports;q()(Jl,{MidDot:Ne["a"],Space:jt["a"],TimeAgo:zt["a"],UserAvatar:It["a"],VBtn:Pn["a"],VIcon:Tt["a"],VListItem:At["a"],VListItemAction:Rt["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"]});var eu=Object(L["a"])(Kl,zl,Hl,!1,null,null,null),tu=eu.exports;q()(eu,{Loading:X,MembershipRequest:Xl,VCard:Kt["a"],VList:Mt["a"]});var nu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showSubcriptionCard?n("group-subscription-card",{attrs:{group:e.group}}):e._e(),n("v-card",{staticClass:"mt-2",attrs:{outlined:""}},[n("v-list",{staticClass:"settings-panel"},e._l(e.actions,(function(t,o){return t.canPerform()?n("v-list-item",{key:o,class:"group-page-actions__"+o,on:{click:function(e){return t.perform()}}},[n("v-list-item-avatar",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:t.name,expression:"action.name"}]})],1):e._e()})),1)],1)],1)},ou=[],ru=n("f4a7");function iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function au(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function su(e,t,n){return t&&au(e.prototype,t),n&&au(e,n),e}var cu=new(function(){function e(){iu(this,e)}return su(e,[{key:"actions",value:function(e,t){var n;return n=e.membershipFor(c["a"].user()),{change_volume:{name:"group_page.options.email_settings",icon:"mdi-email",canPerform:function(){return I["a"].canChangeGroupVolume(e)},perform:function(){return Object(be["a"])({component:"ChangeVolumeForm",props:{model:n}})}},edit_group:{name:"group_page.options.edit_group",icon:"mdi-cog",canPerform:function(){return I["a"].canEditGroup(e)},perform:function(){return Object(be["a"])({component:"GroupForm",props:{group:e.clone()}})}},become_coordinator:{name:"group_page.options.become_coordinator",icon:"mdi-shield-star",canPerform:function(){return n&&!1===n.admin&&(0===e.adminMembershipsCount||e.parentOrSelf().adminsInclude(c["a"].user()))},perform:function(){return j["a"].memberships.makeAdmin(n).then((function(){return _e["a"].success("memberships_page.messages.make_admin_success",{name:c["a"].user().name})}))}},group_stats:{name:"group_page.stats",icon:"mdi-chart-bar",canPerform:function(){return I["a"].canAdminister(e)},perform:function(){return window.open("".concat(a["a"].baseUrl,"g/").concat(e.key,"/stats?export=1"),"_blank")}},export_data:{name:"group_page.options.export_data",icon:"mdi-database-export",canPerform:function(){return n&&e.adminsInclude(c["a"].user())},perform:function(){return Object(be["a"])({component:"ExportDataModal",props:{group:e}})}},webhooks:{name:"webhook.integrations",icon:"mdi-webhook",canPerform:function(){return e.adminsInclude(c["a"].user())},perform:function(){return Object(be["a"])({component:"WebhookList",props:{group:e}})}},configure_sso:{name:"configure_sso.title",icon:"mdi-key-variant",canPerform:function(){return a["a"].features.app.group_sso&&I["a"].canAdminister(e)&&e.isParent()},perform:function(){return Object(be["a"])({component:"InstallSamlProviderModal",props:{group:e}})}},leave_group:{name:"group_page.options.leave_group",icon:"mdi-exit-to-app",canPerform:function(){return I["a"].canRemoveMembership(n)},perform:function(){return Object(be["a"])({component:"ConfirmModal",props:{confirm:{submit:n.destroy,text:{title:"leave_group_form.title",helptext:"leave_group_form.question",confirm:"leave_group_form.submit",flash:"group_page.messages.leave_group_success"},redirect:"/dashboard"}}})}},destroy_group:{name:"delete_group_modal.title",icon:"mdi-delete",canPerform:function(){return I["a"].canArchiveGroup(e)},perform:function(){var t;return t=e.handle||e.name.trim(),Object(be["a"])({component:"ConfirmModal",props:{confirm:{submit:e.destroy,text:{title:"delete_group_modal.title",helptext:"delete_group_modal.body",raw_confirm_text_placeholder:ru["a"].t("delete_group_modal.confirm",{name:t}),confirm_text:t,flash:"delete_group_modal.success",submit:"delete_group_modal.title"},redirect:"/dashboard"}}})}}}}}]),e}()),lu={data:function(){return{group:j["a"].groups.fuzzyFind(this.$route.params.key),actions:{}}},created:function(){var e=this;return j["a"].groups.remote.fetchById(this.group.id),S["a"].$emit("currentComponent",{page:"groupPage",title:this.group.name,group:this.group,search:{placeholder:this.$t("navbar.search_members",{name:this.group.parentOrSelf().name})}}),this.watchRecords({collections:["memberships"],query:function(){return e.actions=cu.actions(e.group,e),e.membership=e.group.membershipFor(c["a"].user())}})},computed:{showSubcriptionCard:function(){return a["a"].features.app.subscriptions}}},uu=lu,du=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canSee?n("v-card",{staticClass:"my-6",attrs:{outlined:""}},[n("v-card-title",[n("v-icon",{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("mdi-rocket")]),n("h1",{directives:[{name:"t",rawName:"v-t",value:"group_page.options.subscription_status",expression:"'group_page.options.subscription_status'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-btn",{staticClass:"ml-2",attrs:{icon:"",small:"",href:"https://help.loomio.org/en/subscriptions/",target:"_blank",title:e.$t("common.help")}},[n("v-icon",{attrs:{color:"accent"}},[e._v("mdi-help-circle-outline")])],1)],1),n("div",{staticClass:"px-6"},[n("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("tbody",e._l(e.tableData,(function(t,o){return t?n("tr",{key:o},[n("td",{directives:[{name:"t",rawName:"v-t",value:"subscription_status."+o,expression:"'subscription_status.' + key"}]}),n("td",{domProps:{innerHTML:e._s(t)}})]):e._e()})),0)]},proxy:!0}],null,!1,2506686062)})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"trial"==e.group.subscription.plan?"current_plan_button.upgrade":"current_plan_button.change_plan",expression:"group.subscription.plan == 'trial' ? 'current_plan_button.upgrade' : 'current_plan_button.change_plan'"}],attrs:{color:"primary",href:"/upgrade/"+e.group.id,target:"_blank"}})],1)],1):e._e()},pu=[],mu=n("e740"),fu=n.n(mu),hu={props:{group:Object},methods:{displayDate:function(e){return this.exactDate(Object(fc["a"])(e))}},computed:{canSee:function(){return!this.group.parentId&&I["a"].canAdminister(this.group)},showUpgradeButton:function(){return"trial"===this.group.subscription.plan},isActivePlan:function(){return["pp-active-monthly","pp-active-annual","pp-community-annual","npap-active-monthly","npap-active-annual"].includes(this.group.subscription.plan)},tableData:function(){return{plan:fu()(this.group.subscription.plan),state:fu()(this.group.subscription.state),expires_at:"trial"===this.group.subscription.plan&&this.group.subscription.expires_at?this.displayDate(this.group.subscription.expires_at):void 0,renews_at:this.group.subscription.renews_at?this.displayDate(this.group.subscription.renews_at):void 0,members:this.group.orgMembersCount,active_members:this.isActivePlan?this.group.subscription.members_count:void 0,max_members:this.group.subscription.max_members?this.group.subscription.max_members:void 0,max_threads:this.group.subscription.max_threads?this.group.subscription.max_threads:void 0,chargify_link:this.group.subscription.management_link?"<a href=".concat(this.group.subscription.management_link," target=_blank>").concat(this.$t("subscription_status.manage_payment_details"),"</a>"):void 0}}}},_u=hu,vu=Object(L["a"])(_u,du,pu,!1,null,null,null),bu=vu.exports;q()(vu,{VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardTitle:un["d"],VIcon:Tt["a"],VSimpleTable:ql["a"],VSpacer:Oo["a"]});var gu=Object(L["a"])(uu,nu,ou,!1,null,null,null),yu=gu.exports;q()(gu,{GroupSubscriptionCard:bu,VCard:Kt["a"],VIcon:Tt["a"],VList:Mt["a"],VListItem:At["a"],VListItemAvatar:Vt["a"],VListItemTitle:$t["c"]});var ku=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-container",{staticClass:"max-width-800 start-group-page"},[n("group-new-form",{attrs:{group:e.group}})],1)],1)},wu=[],xu={mixins:[Ao],data:function(){return{group:j["a"].groups.build()}},mounted:function(){if(!c["a"].isSignedIn())return this.openAuthModal()}},Cu=xu,Ou=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"group-form"},[n("v-overlay",{attrs:{value:e.uploading}},[n("v-progress-circular",{attrs:{size:"64",value:e.progress}})],1),n("v-card-title",[n("v-layout",{staticStyle:{"align-items":"center"},attrs:{"justify-space-between":""}},[n("div",{staticClass:"group-form__group-title"},[e.group.parentId?n("h1",{directives:[{name:"t",rawName:"v-t",value:"group_form.new_subgroup",expression:"'group_form.new_subgroup'"}],staticClass:"headline",attrs:{tabindex:"-1"}}):e._e(),e.group.parentId?e._e():n("h1",{directives:[{name:"t",rawName:"v-t",value:"group_form.new_group",expression:"'group_form.new_group'"}],staticClass:"headline",attrs:{tabindex:"-1"}})]),e.group.parentId?n("dismiss-modal-button",{attrs:{model:e.group}}):e._e()],1)],1),n("div",{staticClass:"px-4"},[e.group.parentId?e._e():n("p",{directives:[{name:"t",rawName:"v-t",value:"group_form.new_group_explainer",expression:"'group_form.new_group_explainer'"}],staticClass:"text--secondary"}),e.group.parentId?n("p",{directives:[{name:"t",rawName:"v-t",value:"group_form.new_subgroup_explainer",expression:"'group_form.new_subgroup_explainer'"}],staticClass:"text--secondary"}):e._e(),e.parentGroups.length>1?n("v-select",{staticClass:"group-form__parent-group",attrs:{items:e.parentGroups,label:e.$t("group_form.parent_group")},model:{value:e.group.parentId,callback:function(t){e.$set(e.group,"parentId",t)},expression:"group.parentId"}}):e._e(),n("v-text-field",{staticClass:"group-form__name",attrs:{id:"group-name",placeholder:e.$t(e.groupNamePlaceholder),rules:[e.rules.required],maxlength:"255",label:e.$t(e.groupNameLabel)},on:{keyup:function(t){return e.suggestHandle()}},model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}}),n("validation-errors",{attrs:{subject:e.group,field:"name"}}),!e.group.parentId||e.group.parentId&&e.group.parent().handle?n("div",[n("v-text-field",{staticClass:"group-form__handle",attrs:{id:"group-handle",loading:e.loadingHandle,hint:e.$t("group_form.group_handle_placeholder",{handle:e.group.handle}),maxlength:"100",label:e.$t("group_form.handle")},model:{value:e.group.handle,callback:function(t){e.$set(e.group,"handle",t)},expression:"group.handle"}}),n("validation-errors",{attrs:{subject:e.group,field:"handle"}})],1):e._e(),e.group.parentId?n("div",[n("div",{staticClass:"group-form__section group-form__privacy"},[n("v-radio-group",{attrs:{label:e.$t("common.privacy.privacy")},model:{value:e.group.groupPrivacy,callback:function(t){e.$set(e.group,"groupPrivacy",t)},expression:"group.groupPrivacy"}},e._l(e.privacyOptions,(function(t){return n("v-radio",{key:t,class:"md-checkbox--with-summary group-form__privacy-"+t,attrs:{value:t,"aria-label":t}},[n("template",{slot:"label"},[n("div",{staticClass:"group-form__privacy-title"},[n("strong",{directives:[{name:"t",rawName:"v-t",value:"common.privacy."+t,expression:"'common.privacy.' + privacy"}]}),n("mid-dot"),n("span",[e._v(e._s(e.privacyStringFor(t)))])],1)])],2)})),1)],1),n("p",{staticClass:"group-form__privacy-statement body-2"},[e._v(e._s(e.privacyStatement))]),e.group.privacyIsOpen()?n("div",{staticClass:"group-form__section group-form__joining lmo-form-group"},[n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"group_form.how_do_people_join",expression:"'group_form.how_do_people_join'"}]}),n("v-radio-group",{model:{value:e.group.membershipGrantedUpon,callback:function(t){e.$set(e.group,"membershipGrantedUpon",t)},expression:"group.membershipGrantedUpon"}},e._l(["request","approval"],(function(e){return n("v-radio",{key:e,class:"group-form__membership-granted-upon-"+e,attrs:{value:e}},[n("template",{slot:"label"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.membership_granted_upon_"+e,expression:"'group_form.membership_granted_upon_' + granted"}]})])],2)})),1)],1):e._e()]):e._e(),e.group.parentId?e._e():n("div",{staticClass:"pt-2"},[n("span",{staticClass:"text--secondary"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.privacy.privacy",expression:"'common.privacy.privacy'"}]}),n("span",[e._v(":")]),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"common.privacy.secret",expression:"'common.privacy.secret'"}]})],1),n("p",{staticClass:"text-caption text--secondary"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.secret_by_default",expression:"'group_form.secret_by_default'"}]})])]),e.askCategory?n("div",[n("v-radio-group",{staticClass:"group-survey__category",attrs:{label:e.$t("group_survey.category_question"),rules:[e.rules.required]},model:{value:e.group.category,callback:function(t){e.$set(e.group,"category",t)},expression:"group.category"}},e._l(e.categories,(function(t){return n("v-radio",{key:t,class:"group-survey__category-"+t,attrs:{value:t,"aria-label":t,label:e.$t("group_survey.categories."+t)}})})),1),"other"==e.group.category?n("v-text-field",{attrs:{label:e.$t("group_survey.describe_other")},model:{value:e.group.otherCategory,callback:function(t){e.$set(e.group,"otherCategory",t)},expression:"group.otherCategory"}}):e._e()],1):e._e()],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"group-form__submit-button",attrs:{loading:e.group.processing,color:"primary"},on:{click:function(t){return e.submit()}}},[e.group.isParent()?n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.submit_start_group",expression:"'group_form.submit_start_group'"}]}):e._e(),e.group.isParent()?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.submit_start_subgroup",expression:"'group_form.submit_start_subgroup'"}]})])],1)],1)},ju=[],Su={props:{group:Object},data:function(){return{rules:{required:function(e){return!!e||"Required."}},uploading:!1,progress:0,categories:["board","party","coop","union","nonprofit","professional","government","community","other"],parentGroups:[],loadingHandle:!1}},created:function(){var e=this;return this.watchRecords({collections:["groups","memberships"],query:function(t){return e.parentGroups=[{value:null,text:e.$t("common.none")}],e.parentGroups=e.parentGroups.concat(c["a"].user().parentGroups().filter((function(e){return I["a"].canCreateSubgroups(e)})).map((function(e){return{value:e.id,text:e.name}})))}}),this.suggestHandle=h()((function(){var e,t=this;if(this.group.isNew()||vt()(this.group.handle))return this.loadingHandle=!0,e=this.group.parentId?this.group.parent().handle:null,j["a"].groups.getHandle({name:this.group.name,parentHandle:e}).then((function(e){return t.group.handle=e.handle,t.loadingHandle=!1}))}),250)},mounted:function(){return this.suggestHandle()},watch:{"group.parentId":function(){return this.group.handle="",this.group.name=""}},methods:{submit:function(){var e,t=this;return e=this.group.allowPublicThreads,this.group.discussionPrivacyOptions=function(){switch(this.group.groupPrivacy){case"open":return"public_only";case"closed":return e?"public_or_private":"private_only";case"secret":return"private_only"}}.call(this),this.group.parentMembersCanSeeDiscussions=function(){switch(this.group.groupPrivacy){case"open":return!0;case"closed":return this.group.parentMembersCanSeeDiscussions;case"secret":return!1}}.call(this),this.group.save().then((function(e){var n;return n=e.groups[0].key,_e["a"].success("group_form.messages.group_".concat(t.actionName)),j["a"].groups.findOrFetchById(n,{},!0).then((function(e){return!e.parentId&&a["a"].features.app.group_survey&&j["a"].remote.post("group_surveys",{group_id:e.id,category:"other"===t.group.category&&t.group.otherCategory||t.group.category}),S["a"].$emit("closeModal"),t.$router.push("/g/".concat(n))}))})).catch(Object(ir["a"])(this.group))},privacyStringFor:function(e){return this.$t(Object(gi["d"])(this.group,e),{parent:this.group.parentName()})}},computed:{askCategory:function(){return!this.group.parentId&&a["a"].features.app.group_survey},actionName:function(){return this.group.isNew()?"created":"updated"},titleLabel:function(){return this.group.isParent()?"group_form.group_name":"group_form.subgroup_name"},privacyOptions:function(){return this.group.parentId&&"secret"===this.group.parent().groupPrivacy?["closed","secret"]:["open","closed","secret"]},privacyStatement:function(){return this.$t(Object(gi["e"])(this.group),{parent:this.group.parentName()})},groupNamePlaceholder:function(){return this.group.parentId?"group_form.subgroup_name_placeholder":"group_form.organization_name_placeholder"},groupNameLabel:function(){return this.group.parentId?"group_form.subgroup_name":"group_form.group_name"}}},Iu=Su,Pu=n("a797"),Tu=n("67b6"),Au=n("43a6"),Ru=Object(L["a"])(Iu,Ou,ju,!1,null,null,null),Vu=Ru.exports;q()(Ru,{DismissModalButton:er,MidDot:Ne["a"],Space:jt["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardTitle:un["d"],VLayout:Q["a"],VOverlay:Pu["a"],VProgressCircular:Z["a"],VRadio:Tu["a"],VRadioGroup:Au["a"],VSelect:Rn["a"],VSpacer:Oo["a"],VSubheader:Qt["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var $u=Object(L["a"])(Cu,ku,wu,!1,null,null,null),Nu=$u.exports;q()($u,{GroupNewForm:Vu,VContainer:Wt["a"],VMain:Yt["a"]});var Eu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-container",{staticClass:"contact-page"},[n("v-card",{directives:[{name:"show",rawName:"v-show",value:!e.submitted,expression:"!submitted"}],staticClass:"contact-form"},[n("submit-overlay",{attrs:{value:e.message.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"contact_message_form.title",expression:"'contact_message_form.title'"}],staticClass:"headline",attrs:{tabindex:"-1"}})]),n("v-card-text",[n("p",{domProps:{innerHTML:e._s(e.$t("contact_message_form.read_the_manual",{link:e.helpLink}))}}),n("p"),e.isLoggedIn?e._e():n("div",[n("label",{directives:[{name:"t",rawName:"v-t"}]}),n("v-text-field",{attrs:{label:e.$t("contact_message_form.name_label"),placeholder:e.$t("contact_message_form.name_placeholder")},model:{value:e.message.name,callback:function(t){e.$set(e.message,"name",t)},expression:"message.name"}}),n("validation-errors",{attrs:{subject:e.message,field:"name"}})],1),e.isLoggedIn?e._e():n("div",[n("v-text-field",{attrs:{label:e.$t("contact_message_form.email_label"),placeholder:e.$t("contact_message_form.email_placeholder")},model:{value:e.message.email,callback:function(t){e.$set(e.message,"email",t)},expression:"message.email"}}),n("validation-errors",{attrs:{subject:e.message,field:"email"}})],1),n("v-text-field",{attrs:{label:e.$t("contact_message_form.subject_label"),placeholder:e.$t("contact_message_form.subject_placeholder")},model:{value:e.message.subject,callback:function(t){e.$set(e.message,"subject",t)},expression:"message.subject"}}),n("validation-errors",{attrs:{subject:e.message,field:"subject"}}),n("v-textarea",{attrs:{label:e.$t("contact_message_form.message_label"),placeholder:e.$t("contact_message_form.message_placeholder")},model:{value:e.message.message,callback:function(t){e.$set(e.message,"message",t)},expression:"message.message"}}),n("validation-errors",{attrs:{subject:e.message,field:"message"}}),n("p",{staticClass:"text--secondary",domProps:{innerHTML:e._s(e.$t("contact_message_form.contact_us_email",{email:e.contactEmail}))}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"contact_message_form.send_message",expression:"'contact_message_form.send_message'"}],attrs:{color:"primary"},on:{click:e.submit}})],1)],1)],1),n("v-card",{directives:[{name:"show",rawName:"v-show",value:e.submitted,expression:"submitted"}],staticClass:"contact-form__success"},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:e.$t("contact_message_form.success",{name:e.message.name}),expression:"$t('contact_message_form.success', { name: message.name })"}],staticClass:"headline",attrs:{tabindex:"-1"}})])],1)],1)],1)},Mu=[];function Du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lu(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fu(e,t,n){return t&&Lu(e.prototype,t),n&&Lu(e,n),e}var qu=new(function(){function e(){Du(this,e)}return Fu(e,[{key:"helpLocale",value:function(){return"en"}},{key:"helpLink",value:function(){return"https://help.loomio.org/".concat(this.helpLocale(),"/")}}]),e}()),Uu={data:function(){return{submitted:!1,message:j["a"].contactMessages.build(),isDisabled:!1,helpLink:qu.helpLink(),contactEmail:a["a"].contactEmail}},mounted:function(){return S["a"].$emit("currentComponent",{titleKey:"contact_message_form.contact_us",page:"inboxPage"})},created:function(){if(this.isLoggedIn)return this.message.name=c["a"].user().name,this.message.email=c["a"].user().email,this.message.userId=c["a"].user().id},methods:{submit:function(){var e=this;return this.message.save().then((function(){return _e["a"].success("contact_message_form.new_contact_message"),e.submitted=!0})).catch(Object(ir["a"])(this.message))}},computed:{isLoggedIn:function(){return c["a"].isSignedIn()}}},Bu=Uu,zu=n("a844"),Hu=Object(L["a"])(Bu,Eu,Mu,!1,null,null,null),Gu=Hu.exports;q()(Hu,{SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VContainer:Wt["a"],VMain:Yt["a"],VSpacer:Oo["a"],VTextField:Zt["a"],VTextarea:zu["a"],ValidationErrors:ms["a"]});var Ku=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[e.user?n("v-container",{staticClass:"email-settings-page max-width-1024"},[e.user.deactivatedAt?n("v-card",{staticClass:"mb-4"},[n("v-card-text",[n("p",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.account_deactivated",expression:"'email_settings_page.account_deactivated'"}]})])],1):e._e(),e.user.deactivatedAt?e._e():n("v-card",{staticClass:"mb-4"},[n("v-card-text",[n("div",{staticClass:"email-settings-page__email-settings"},[n("div",{staticClass:"email-settings-page__global-settings"},[n("form",[n("div",{staticClass:"email-settings-page__global-settings"},[n("v-checkbox",{staticClass:"md-checkbox--with-summary email-settings-page__mentioned",attrs:{id:"mentioned-email"},model:{value:e.user.emailWhenMentioned,callback:function(t){e.$set(e.user,"emailWhenMentioned",t)},expression:"user.emailWhenMentioned"}},[n("div",{attrs:{slot:"label"},slot:"label"},[n("strong",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.mentioned_label",expression:"'email_settings_page.mentioned_label'"}]}),n("div",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.mentioned_description",expression:"'email_settings_page.mentioned_description'"}],staticClass:"email-settings-page__input-description"})])]),n("v-checkbox",{staticClass:"md-checkbox--with-summary email-settings-page__on-participation",attrs:{id:"on-participation-email"},model:{value:e.user.emailOnParticipation,callback:function(t){e.$set(e.user,"emailOnParticipation",t)},expression:"user.emailOnParticipation"}},[n("div",{attrs:{slot:"label"},slot:"label"},[n("strong",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.on_participation_label",expression:"'email_settings_page.on_participation_label'"}]}),n("div",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.on_participation_description",expression:"'email_settings_page.on_participation_description'"}],staticClass:"email-settings-page__input-description"})])]),n("div",{staticClass:"text-subtitle-1"},[n("strong",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.email_catch_up_day",expression:"'email_settings_page.email_catch_up_day'"}]})]),n("p",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.daily_summary_description",expression:"'email_settings_page.daily_summary_description'"}]}),n("v-select",{attrs:{id:"email-catch-up-day",solo:"","max-width":"100px",items:e.emailDays,label:e.$t("email_settings_page.email_catch_up_day")},model:{value:e.user.emailCatchUpDay,callback:function(t){e.$set(e.user,"emailCatchUpDay",t)},expression:"user.emailCatchUpDay"}})],1)])])])]),n("v-card-actions",[n("a",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.learn_more",expression:"'email_settings_page.learn_more'"}],staticClass:"email-settings-page__learn-more-link",attrs:{href:"https://help.loomio.org/en/user_manual/users/email_settings/",target:"_blank"}}),n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.update_settings",expression:"'email_settings_page.update_settings'"}],staticClass:"email-settings-page__update-button",attrs:{color:"primary"},on:{click:function(t){return e.submit()}}})],1)],1),n("change-volume-form",{staticClass:"mb-4",attrs:{model:e.user,"show-close":!1}}),n("v-card",[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.deactivate_header",expression:"'email_settings_page.deactivate_header'"}],staticClass:"headline",attrs:{tabindex:"-1"}})]),n("v-card-text",[n("p",{directives:[{name:"t",rawName:"v-t",value:"email_settings_page.deactivate_description",expression:"'email_settings_page.deactivate_description'"}]}),n("v-list",e._l(e.actions,(function(t,o){return t.canPerform()?n("v-list-item",{key:o,on:{click:function(e){return t.perform()}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:t.name,expression:"action.name"}]})],1):e._e()})),1)],1)],1)],1):e._e()],1)},Wu=[],Yu={methods:{openChangeVolumeModal:function(e){return S["a"].$emit("openModal",{component:"ChangeVolumeForm",props:{model:e}})}}},Qu={mixins:[Yu],data:function(){return{newsletterEnabled:a["a"].newsletterEnabled,user:null,groups:[]}},created:function(){var e=this;return this.init(),S["a"].$on("signedIn",this.init),this.watchRecords({collections:["groups","memberships"],query:function(t){var n;return n=c["a"].user().groups(),c["a"].user(),e.groups=on()(n,"fullName")}})},beforeDestroy:function(){return S["a"].$off("signedIn",this.init)},mounted:function(){return S["a"].$emit("currentComponent",{titleKey:"email_settings_page.header",page:"emailSettingsPage"})},methods:{submit:function(){return j["a"].users.updateProfile(this.user).then((function(){return _e["a"].success("email_settings_page.messages.updated")})).catch(Object(ir["a"])(this.user))},init:function(){if(c["a"].isSignedIn()||null!=c["a"].user().restricted)return c["a"].user().attributeNames.push("unsubscribeToken"),this.originalUser=c["a"].user(),this.user=c["a"].user().clone()},groupVolume:function(e){return e.membershipFor(c["a"].user()).volume},changeDefaultMembershipVolume:function(){return this.openChangeVolumeModal(c["a"].user())},editSpecificGroupVolume:function(e){return this.openChangeVolumeModal(c["a"].user())}},computed:{emailDays:function(){return[{value:null,text:this.$t("email_settings_page.never")},{value:7,text:this.$t("email_settings_page.every_day")},{value:8,text:this.$t("email_settings_page.every_second_day")},{value:1,text:this.$t("email_settings_page.monday")},{value:2,text:this.$t("email_settings_page.tuesday")},{value:3,text:this.$t("email_settings_page.wednesday")},{value:4,text:this.$t("email_settings_page.thursday")},{value:5,text:this.$t("email_settings_page.friday")},{value:6,text:this.$t("email_settings_page.saturday")},{value:0,text:this.$t("email_settings_page.sunday")}]},actions:function(){return r()(ss.actions(c["a"].user(),this),["reactivate_user","deactivate_user"])},defaultSettingsDescription:function(){return"email_settings_page.default_settings.".concat(c["a"].user().defaultMembershipVolume,"_description")}}},Zu=Qu,Ju=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"change-volume-form"},[n("form",[n("submit-overlay",{attrs:{value:e.model.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:{path:e.translateKey()+".title",args:{title:e.title}},expression:"{ path: translateKey() + '.title', args: { title: title } }"}],staticClass:"headline change-volume-form__title"}),n("v-spacer"),e.showClose?n("dismiss-modal-button"):e._e()],1),n("v-card-text",[n("p",{directives:[{name:"t",rawName:"v-t",value:"change_volume_form.simple.question",expression:"'change_volume_form.simple.question'"}]}),n("v-radio-group",{staticClass:"text-lowercase mb-4",attrs:{"hide-details":""},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}},[n("v-radio",{staticClass:"volume-loud",attrs:{value:"loud",label:e.labelFor("loud")}}),n("v-radio",{staticClass:"volume-normal",attrs:{value:"normal",label:e.labelFor("normal")}}),n("v-radio",{staticClass:"volume-quiet",attrs:{value:"quiet",label:e.labelFor("quiet")}})],1),e.model.isA("discussion")?n("v-alert",{attrs:{dense:"",text:"",type:"info"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"change_volume_form.explain_scope.thread",expression:"'change_volume_form.explain_scope.thread'"}]})]):e._e(),e.model.isA("membership")?n("v-alert",{directives:[{name:"t",rawName:"v-t",value:"change_volume_form.explain_scope.group",expression:"'change_volume_form.explain_scope.group'"}],attrs:{dense:"",text:"",type:"info"}}):e._e(),e.model.isA("membership")&&e.model.group().parentOrSelf().hasSubgroups()?n("div",[e.model.isA("membership")?n("v-checkbox",{staticClass:"mb-4",attrs:{id:"apply-to-all",label:e.$t("change_volume_form.membership.apply_to_organization",{organization:e.model.group().parentOrSelf().name}),"hide-details":""},model:{value:e.applyToAll,callback:function(t){e.applyToAll=t},expression:"applyToAll"}}):e._e()],1):e._e(),e.model.isA("discussion")?n("p",{staticClass:"mt-4"},[n("a",{directives:[{name:"t",rawName:"v-t",value:"change_volume_form.discussion.group",expression:"'change_volume_form.discussion.group'"}],on:{click:function(t){return e.openGroupVolumeModal()}}})]):e._e(),e.model.isA("membership")?n("p",{staticClass:"mt-4"},[n("a",{directives:[{name:"t",rawName:"v-t",value:"change_volume_form.discussion.user",expression:"'change_volume_form.discussion.user'"}],on:{click:function(t){return e.openUserPreferences()}}})]):e._e()],1),n("v-card-actions",{attrs:{"align-center":""}},[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.update",expression:"'common.action.update'"}],staticClass:"change-volume-form__submit",attrs:{type:"button",disabled:!e.formChanged,color:"primary"},on:{click:function(t){return e.submit()}}})],1)],1)])},Xu=[],ed={mixins:[Yu],props:{model:Object,close:Function,showClose:{default:!0,type:Boolean}},data:function(){return{includeInCatchUp:!0,volumeLevels:["loud","normal","quiet"],isDisabled:!1,applyToAll:this.defaultApplyToAll(),volume:this.defaultVolume()}},computed:{formChanged:function(){return this.volume!==this.defaultVolume()||this.applyToAll!==this.defaultApplyToAll()},title:function(){switch(this.model.constructor.singular){case"discussion":return this.model.title;case"membership":return this.model.group().name;case"user":return this.model.name}}},methods:{submit:function(){var e=this;return this.model.saveVolume(this.volume,this.applyToAll).then((function(){return _e["a"].success("change_volume_form.saved"),e.closeModal()})).catch(Object(ir["a"])(this.model))},defaultApplyToAll:function(){return!!this.model.isA("user")},defaultVolume:function(){switch(this.model.constructor.singular){case"discussion":return this.model.volume();case"membership":return this.model.volume;case"user":return this.model.defaultMembershipVolume}},labelFor:function(e){return this.$t("change_volume_form.simple.".concat(e,"_explain"))+" ("+this.$t("change_volume_form.simple.".concat(e))+")"},translateKey:function(e){return this.model.isA("user")?"change_volume_form.all_groups":"change_volume_form.".concat(e||this.model.constructor.singular)},groupName:function(){return this.model.groupName?this.model.groupName():""},openGroupVolumeModal:function(){var e=this;return this.closeModal(),setTimeout((function(){return cu.actions(e.model.group(),e).change_volume.perform()}))},openUserPreferences:function(){return this.closeModal(),this.$router.push("/email_preferences")}}},td=ed,nd=Object(L["a"])(td,Ju,Xu,!1,null,null,null),od=nd.exports;q()(nd,{DismissModalButton:er,SubmitOverlay:lr["a"],VAlert:Lo["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VCheckbox:Ea["a"],VRadio:Tu["a"],VRadioGroup:Au["a"],VSpacer:Oo["a"]});var rd=Object(L["a"])(Zu,Ku,Wu,!1,null,null,null),id=rd.exports;q()(rd,{ChangeVolumeForm:od,VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VCheckbox:Ea["a"],VContainer:Wt["a"],VIcon:Tt["a"],VList:Mt["a"],VListItem:At["a"],VListItemIcon:ps["a"],VListItemTitle:$t["c"],VMain:Yt["a"],VSelect:Rn["a"],VSpacer:Oo["a"]});var ad=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-container",{staticClass:"start-discussion-page max-width-800"},[n("v-card",[e.discussion?n("discussion-form",{key:e.discussion.id,attrs:{discussion:e.discussion,"is-page":"",user:e.user}}):e._e()],1)],1)],1)},sd=[],cd={data:function(){return{discussion:null,isDisabled:!1,group:null,user:null}},mounted:function(){return this.init()},watch:{"$route.query.group_id":"init","$route.params.key":"init"},methods:{init:function(){var e,t=this;if(e=this.$route.params.key?"discussion_form.edit_discussion_title":"discussion_form.new_discussion_title",S["a"].$emit("currentComponent",{page:"startDiscussionPage",titleKey:e}),c["a"].isSignedIn())return this.$route.params.key?j["a"].discussions.findOrFetchById(this.$route.params.key).then((function(e){return t.discussion=e.clone()})):parseInt(this.$route.query.group_id)?j["a"].groups.findOrFetchById(parseInt(this.$route.query.group_id)).then((function(){return t.discussion=j["a"].discussions.build({title:t.$route.query.title,groupId:parseInt(t.$route.query.group_id)})})):parseInt(this.$route.query.user_id)?j["a"].users.findOrFetchById(parseInt(this.$route.query.user_id)).then((function(e){return t.user=e,t.discussion=j["a"].discussions.build({title:t.$route.query.title,groupId:null})})):this.discussion=j["a"].discussions.build({title:this.$route.query.title})}}},ld=cd,ud=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discussion-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null}}},[n("submit-overlay",{attrs:{value:e.discussion.processing}}),n("v-card-title",[n("h1",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.titleVisible},expression:"{callback: titleVisible}"}],staticClass:"headline"},[e.isMovingItems?n("span",{directives:[{name:"t",rawName:"v-t",value:"discussion_form.moving_items_title",expression:"'discussion_form.moving_items_title'"}]}):[e.discussion.id?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"discussion_form.new_discussion_title",expression:"'discussion_form.new_discussion_title'"}]}),e.discussion.id?n("span",{directives:[{name:"t",rawName:"v-t",value:"discussion_form.edit_discussion_title",expression:"'discussion_form.edit_discussion_title'"}]}):e._e()]],2),n("v-spacer"),e.isPage?e._e():n("dismiss-modal-button",{attrs:{"aria-hidden":"true",model:e.discussion}}),e.isPage&&e.discussion.id?n("v-btn",{attrs:{icon:"","aria-hidden":"true",to:e.urlFor(e.discussion)}},[n("v-icon",[e._v("mdi-close")])],1):e._e()],1),n("div",{staticClass:"pa-4"},[e.discussion.id?e._e():n("v-select",{attrs:{items:e.groupItems,label:e.$t("common.group")},model:{value:e.discussion.groupId,callback:function(t){e.$set(e.discussion,"groupId",t)},expression:"discussion.groupId"}}),n("p",{staticClass:"text--secondary caption"},[e.discussion.groupId?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.form.visible_to_guests",expression:"'announcement.form.visible_to_guests'"}]}),e.discussion.groupId?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"announcement.form.visible_to_group",args:{group:e.discussion.group().name}},expression:"{path: 'announcement.form.visible_to_group', args: {group: discussion.group().name}}"}]}):e._e()]),e.showUpgradeMessage?n("div",[e.maxThreadsReached?n("p",{domProps:{innerHTML:e._s(e.$t("discussion.max_threads_reached",{upgradeUrl:e.upgradeUrl,maxThreads:e.maxThreads}))}}):e._e(),e.subscriptionActive?e._e():n("p",{domProps:{innerHTML:e._s(e.$t("discussion.subscription_canceled",{upgradeUrl:e.upgradeUrl}))}})]):e._e(),e.showUpgradeMessage?e._e():n("div",{staticClass:"discussion-form__group-selected"},[n("v-text-field",{staticClass:"discussion-form__title-input lmo-primary-form-input",attrs:{id:"discussion-title",label:e.$t("discussion_form.title_label"),placeholder:e.$t("discussion_form.title_placeholder"),maxlength:"255",required:""},model:{value:e.discussion.title,callback:function(t){e.$set(e.discussion,"title",t)},expression:"discussion.title"}}),n("validation-errors",{attrs:{subject:e.discussion,field:"title"}}),e.discussion.id?e._e():n("recipients-autocomplete",{attrs:{label:e.$t(e.discussion.groupId?"action_dock.notify":"common.action.invite"),placeholder:e.$t("announcement.form.discussion_announced."+(e.discussion.groupId?"notify_helptext":"helptext")),"initial-recipients":e.initialRecipients,hint:e.$t("announcement.form.placeholder"),model:e.discussion,reset:e.reset}}),n("tags-field",{attrs:{model:e.discussion}}),n("lmo-textarea",{attrs:{model:e.discussion,field:"description",label:e.$t("discussion_form.context_label"),placeholder:e.$t("discussion_form.context_placeholder")}}),n("common-notify-fields",{attrs:{model:e.discussion}}),n("v-card-actions",[n("v-spacer"),e.discussion.id?e._e():n("v-btn",{staticClass:"discussion-form__submit",attrs:{color:"primary",disabled:e.submitIsDisabled,loading:e.discussion.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"discussion_form.start_thread",expression:"'discussion_form.start_thread'"}]})]),e.discussion.id?n("v-btn",{staticClass:"discussion-form__submit",attrs:{color:"primary",disabled:e.submitIsDisabled,loading:e.discussion.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}]})]):e._e()],1)],1)],1)],1)},dd=[],pd=n("0998"),md={components:{RecipientsAutocomplete:pd["a"]},props:{discussion:Object,isPage:Boolean,user:Object},data:function(){return{upgradeUrl:a["a"].baseUrl+"upgrade",submitIsDisabled:!1,searchResults:[],subscription:this.discussion.group().parentOrSelf().subscription,groupItems:[],initialRecipients:[]}},mounted:function(){var e=this;return j["a"].users.fetchGroups(),this.watchRecords({collections:["groups","memberships"],query:function(t){return e.updateGroupItems()}})},watch:{"discussion.groupId":{immediate:!0,handler:function(e){var t;return this.subscription=this.discussion.group().parentOrSelf().subscription,t=Mr()([this.user]).map((function(e){return{id:e.id,type:"user",name:e.nameOrEmail(),user:e}})),this.initialRecipients=[],this.initialRecipients=this.initialRecipients.concat(t),this.reset=!this.reset}}},methods:{submit:function(){var e,t=this;return e=this.discussion.id?"updated":"created",this.discussion.save().then((function(n){var o;return o=n.discussions[0].key,S["a"].$emit("closeModal"),j["a"].discussions.findOrFetchById(o,{},!0).then((function(n){return _e["a"].success("discussion_form.messages.".concat(e)),t.$router.push(t.urlFor(n))}))})).catch(Object(ir["a"])(this.discussion))},updateGroupItems:function(){return this.groupItems=[{text:this.$t("discussion_form.none_invite_only_thread"),value:null}].concat(c["a"].user().groups().map((function(e){return{text:e.fullName,value:e.id}})))},updatePrivacy:function(){return this.discussion.private=this.discussion.privateDefaultValue()},updateCount:function(){var e=this;return j["a"].announcements.fetchNotificationsCount(this.model).then((function(t){return e.notificationsCount=t.count}))}},computed:{maxThreads:function(){return this.subscription.max_threads},threadCount:function(){return this.discussion.group().parentOrSelf().orgDiscussionsCount},maxThreadsReached:function(){return this.maxThreads&&this.threadCount>=this.maxThreads},subscriptionActive:function(){return this.subscription.active},canStartThread:function(){return this.subscriptionActive&&!this.maxThreadsReached},showUpgradeMessage:function(){return!this.discussion.id&&!this.canStartThread},isMovingItems:function(){return this.discussion.forkedEventIds.length}}},fd=md,hd=n("1039"),_d=n("78ab"),vd=Object(L["a"])(fd,ud,dd,!1,null,null,null),bd=vd.exports;q()(vd,{CommonNotifyFields:hd["a"],DismissModalButton:er,LmoTextarea:us["a"],SubmitOverlay:lr["a"],TagsField:_d["a"],VBtn:Pn["a"],VCardActions:un["a"],VCardTitle:un["d"],VIcon:Tt["a"],VSelect:Rn["a"],VSpacer:Oo["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var gd=Object(L["a"])(ld,ad,sd,!1,null,null,null),yd=gd.exports;q()(gd,{DiscussionForm:bd,VCard:Kt["a"],VContainer:Wt["a"],VMain:Yt["a"]});var kd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",{staticClass:"user-page__profile"},[n("v-container",{staticClass:"user-page max-width-800 mt-4"},[e.isEmptyUser?n("loading"):n("div",{staticClass:"user-page__content"},[n("v-card",[n("v-card-title",[n("v-layout",{staticClass:"align-center justify-center"},[n("h1",{staticClass:"headline"},[e._v(e._s(e.user.name))])])],1),n("v-card-text",[n("v-layout",{staticClass:"user-page__info mb-5 align-center justify-center",attrs:{column:""}},[e.user.hasProfilePhoto()?n("user-avatar",{staticClass:"mb-5",attrs:{user:e.user,size:"featured","no-link":!0}}):e._e(),n("div",{staticClass:"text--secondary"},[e._v("@"+e._s(e.user.username))]),e.user?n("formatted-text",{attrs:{model:e.user,column:"shortBio"}}):e._e(),e.user.localeName()?n("div",{directives:[{name:"t",rawName:"v-t",value:{path:"user_page.locale_field",args:{value:e.user.localeName()}},expression:"{ path: 'user_page.locale_field', args: { value: user.localeName() } }"}]}):e._e(),n("span",[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.time_zone",expression:"'common.time_zone'"}]}),n("span",[e._v(": "+e._s(e.user.timeZone))])]),e.user.location?n("div",{directives:[{name:"t",rawName:"v-t",value:{path:"user_page.location_field",args:{value:e.user.location}},expression:"{ path: 'user_page.location_field', args: { value: user.location } }"}]}):e._e(),e.user.lastSeenAt?n("div",{directives:[{name:"t",rawName:"v-t",value:{path:"user_page.online_field",args:{value:e.approximate(e.user.lastSeenAt)}},expression:"{ path: 'user_page.online_field', args: { value: approximate(user.lastSeenAt) } }"}]}):e._e(),e.canContactUser?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:{path:"user_page.message_user",args:{name:e.user.firstName()}},expression:"{ path: 'user_page.message_user', args: { name: user.firstName() } }"}],staticClass:"my-4 user-page__contact-user",attrs:{color:"accent",outlined:"",to:"/d/new?user_id="+e.user.id}}):e._e()],1)],1)],1),n("v-card",{staticClass:"mt-4 user-page__groups"},[n("v-card-text",[n("h3",{staticClass:"lmo-h3 user-page__groups-title"},[n("span",[e._v(e._s(e.user.firstName()))]),n("span",[e._v("'s")]),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"common.groups",expression:"'common.groups'"}]})],1),n("v-list",{attrs:{dense:""}},e._l(e.groups,(function(t){return n("v-list-item",{key:t.id,staticClass:"user-page__group",attrs:{to:e.urlFor(t)}},[n("v-list-item-avatar",[n("v-avatar",{staticClass:"mr-2",attrs:{tile:"",size:"48"}},[n("img",{attrs:{src:t.logoUrl()}})])],1),n("v-list-item-title",[e._v(e._s(t.fullName))])],1)})),1),e.loadingGroupsForExecuting?n("loading"):e._e()],1)],1)],1)],1)],1)},wd=[],xd={methods:{openContactRequestModal:function(e){return S["a"].$emit("openModal",{component:"ContactRequestForm",props:{user:e}})}}},Cd={mixins:[xd],data:function(){return{user:{},isMembershipsFetchingDone:!1,groups:[],canContactUser:!1,loadingGroupsForExecuting:!1}},created:function(){return this.init(),S["a"].$emit("currentComponent",{page:"userPage"}),j["a"].users.findOrFetchById(this.$route.params.key).then(this.init,(function(e){return S["a"].$emit("pageError",e)}))},methods:{approximate:Te["a"],init:function(){var e=this;if(this.user=(j["a"].users.find(this.$route.params.key)||j["a"].users.find({username:this.$route.params.key}))[0])return S["a"].$emit("currentComponent",{title:this.user.name,page:"userPage"}),this.loadGroupsFor(this.user),this.watchRecords({key:this.user.id,collections:["groups","memberships"],query:function(t){return e.groups=e.user.groups(),e.canContactUser=I["a"].canContactUser(e.user)}})},loadGroupsFor:function(e){var t=this;return this.loadingGroupsForExecuting=!0,j["a"].memberships.fetchByUser(e).then((function(){return t.loadingGroupsForExecuting=!1}))}},computed:{isEmptyUser:function(){return vt()(this.user)}}},Od=Cd,jd=Object(L["a"])(Od,kd,wd,!1,null,null,null),Sd=jd.exports;q()(jd,{FormattedText:yo["a"],Loading:X,Space:jt["a"],UserAvatar:It["a"],VAvatar:ln["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardText:un["c"],VCardTitle:un["d"],VContainer:Wt["a"],VLayout:Q["a"],VList:Mt["a"],VListItem:At["a"],VListItemAvatar:Vt["a"],VListItemTitle:$t["c"],VMain:Yt["a"]});var Id=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-container",{staticClass:"threads-page max-width-1024"},[n("h1",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.titleVisible},expression:"{callback: titleVisible}"},{name:"t",rawName:"v-t",value:"sidebar.invite_only_threads",expression:"'sidebar.invite_only_threads'"}],staticClass:"display-1 my-4",attrs:{tabindex:"-1"}}),n("v-layout",{staticClass:"mb-3"}),e.loaded?e._e():n("v-card",{staticClass:"mb-3 dashboard-page__loading",attrs:{"aria-hidden":"true"}},[n("v-list",{attrs:{"two-line":""}},e._l([1,2,3],(function(e,t){return n("loading-content",{key:t,attrs:{lineCount:2}})})),1)],1),e.loaded?n("div",[n("section",{staticClass:"threads-page__loaded"},[0==e.threads.length?n("div",{staticClass:"threads-page__empty"},[n("p",{directives:[{name:"t",rawName:"v-t",value:"threads_page.no_invite_only_threads",expression:"'threads_page.no_invite_only_threads'"}]})]):n("div",{staticClass:"threads-page__collections"},[n("v-card",{staticClass:"mb-3 thread-preview-collection__container"},[n("thread-preview-collection",{staticClass:"thread-previews-container",attrs:{threads:e.threads}})],1)],1)])]):e._e()],1)],1)},Pd=[],Td={data:function(){return{threads:[],loaded:!1}},created:function(){return S["a"].$on("signedIn",this.init)},beforeDestroy:function(){return S["a"].$off("signedIn",this.init)},mounted:function(){return S["a"].$emit("content-title-visible",!1),S["a"].$emit("currentComponent",{titleKey:this.titleKey,page:"threadsPage",search:{placeholder:this.$t("navbar.search_all_threads")}}),this.init()},watch:{"$route.query":"refresh"},methods:{init:function(){var e=this;return j["a"].discussions.fetch({path:"direct"}).then((function(){return e.loaded=!0})),this.watchRecords({key:"dashboard",collections:["discussions","searchResults"],query:function(){return e.threads=j["a"].discussions.find({groupId:null})}})}}},Ad=Td,Rd=(n("be8c"),Object(L["a"])(Ad,Id,Pd,!1,null,null,null)),Vd=Rd.exports;q()(Rd,{LoadingContent:ie,ThreadPreviewCollection:Lt,VCard:Kt["a"],VContainer:Wt["a"],VLayout:Q["a"],VList:Mt["a"],VMain:Yt["a"]});var $d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-container",{staticClass:"dashboard-page max-width-1024"},[n("h1",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.titleVisible},expression:"{callback: titleVisible}"},{name:"t",rawName:"v-t",value:"tasks.your_tasks",expression:"'tasks.your_tasks'"}],staticClass:"display-1 my-4",attrs:{tabindex:"-1"}}),0==Object.keys(e.records).length?n("loading"):e._e(),e._l(e.tasksByRecordKey,(function(t,o){return[n("v-card",{staticClass:"mb-3"},[n("v-card-title",[n("router-link",{attrs:{to:e.urlFor(e.records[o])}},[e._v(e._s(e.records[o].discussion().title))])],1),n("v-list",{attrs:{subheader:""}},e._l(t,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-action",[n("v-btn",{attrs:{color:"accent",icon:""},on:{click:function(n){return e.toggleDone(t)}}},[t.done?n("v-icon",[e._v("mdi-checkbox-marked")]):n("v-icon",[e._v("mdi-checkbox-blank-outline")])],1)],1),n("v-list-item-title",[e._v(e._s(t.name))])],1)})),1)],1)]}))],2)],1)},Nd=[],Ed=n("6edf"),Md=n.n(Ed),Dd={data:function(){return{records:{},tasksByRecordKey:{}}},mounted:function(){var e=this;return j["a"].tasks.remote.fetch("/").then((function(t){var n,o;return n=t["tasks"].map((function(e){return e.id})),o=j["a"].tasks.find(n),o.forEach((function(t){var n;if(n=t.recordType+t.recordId,null==e.records[n])return e.records[n]=t.record()})),e.tasksByRecordKey=Md()(o,(function(e){return e.recordType+e.recordId}))}))},methods:{toggleDone:function(e){return e.toggleDone()}}},Ld=Dd,Fd=Object(L["a"])(Ld,$d,Nd,!1,null,null,null),qd=Fd.exports;q()(Fd,{Loading:X,VBtn:Pn["a"],VCard:Kt["a"],VCardTitle:un["d"],VContainer:Wt["a"],VIcon:Tt["a"],VList:Mt["a"],VListItem:At["a"],VListItemAction:Rt["a"],VListItemTitle:$t["c"],VMain:Yt["a"]});var Ud=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.discussion?n("v-navigation-drawer",{staticClass:"lmo-no-print disable-select thread-sidebar",attrs:{permanent:e.$vuetify.breakpoint.mdAndUp,width:"230px",app:"",fixed:"",right:"",clipped:"",color:"background",floating:""},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("a",{directives:[{name:"t",rawName:"v-t",value:"activity_card.context",expression:"'activity_card.context'"}],staticClass:"thread-nav__date",attrs:{to:e.urlFor(e.discussion)},on:{click:function(t){return e.scrollTo("#context")}}}),n("router-link",{staticClass:"thread-nav__date",attrs:{to:{query:{p:e.topPosition},params:{sequence_id:null}}}},[e._v(e._s(e.approximateDate(e.topDate)))]),n("div",{staticClass:"thread-nav",style:{height:e.trackHeight+"px"}},[n("div",{ref:"slider",staticClass:"thread-nav__track",style:{height:e.trackHeight+"px"},on:{click:e.onTrackClicked}},[n("div",{staticClass:"thread-nav__track-line"})]),n("div",{staticClass:"thread-nav__presets"},e._l(e.presets,(function(t){return n("router-link",{key:t.id,staticClass:"thread-nav__preset",style:{top:e.offsetFor(t.position)+"px"},attrs:{to:e.urlFor(t)}},[n("div",{staticClass:"thread-nav__preset--line"}),n("div",{staticClass:"thread-nav__preset--title"},[e._v(e._s(t.pinnedTitle||t.suggestedTitle()))])])})),1),n("div",{directives:[{name:"touch",rawName:"v-touch:start",value:e.onTouchStart,expression:"onTouchStart",arg:"start"},{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.setKnobVisible},expression:"{callback: setKnobVisible}"}],ref:"knob",staticClass:"thread-nav__knob",style:{top:e.knobOffset+"px",height:e.knobHeight+"px"},on:{mousedown:e.onMouseDown}})]),n("router-link",{staticClass:"thread-nav__date",attrs:{to:{query:{p:e.bottomPosition},params:{sequence_id:null}}}},[e._v(e._s(e.approximateDate(e.bottomDate)))])],1):e._e()},Bd=[],zd={data:function(){return{topDate:Date,bottomDate:Date,discussion:null,open:null,knobOffset:0,knobHeight:32,trackHeight:400,position:1,minUnitHeight:24,presets:[],knobVisible:!1}},mounted:function(){var e=this;return S["a"].$on("toggleThreadNav",(function(){return e.open=!e.open})),S["a"].$on("scrollThreadNav",(function(){if(!e.knobVisible&&document.querySelector(".thread-sidebar .v-navigation-drawer__content"))return e.$vuetify.goTo(".thread-nav__knob",{container:".thread-sidebar .v-navigation-drawer__content",offset:100})})),S["a"].$on("currentComponent",(function(t){if(e.discussion=t.discussion,e.discussion)return e.watchRecords({key:"thread-nav"+e.discussion.id,collections:["events","discussions"],query:function(){if(e.discussion&&e.discussion.createdEvent())return e.presets=j["a"].events.collection.chain().find({pinned:!0,discussionId:e.discussion.id}).simplesort("position").data(),e.setHeight(),e.discussion.newestFirst?(e.topPosition=e.childCount,e.topDate=e.discussion.lastActivityAt,e.bottomPosition=1,e.bottomDate=e.discussion.createdAt):(e.topPosition=1,e.topDate=e.discussion.createdAt,e.bottomDate=e.discussion.lastActivityAt,e.bottomPosition=e.childCount)}}),j["a"].events.fetch({params:{exclude_types:"group discussion",discussion_id:e.discussion.id,pinned:!0,per:200}})})),S["a"].$on("visibleSlots",(function(t){if(0!==t.length)return e.discussion&&e.discussion.newestFirst?e.position=Dn()(t)||1:e.position=ao()(t)||1,e.knobOffset=e.offsetFor(e.position),e.knobHeight=e.unitHeight*(Dn()(t)-ao()(t)+1)}))},methods:{setKnobVisible:function(e){return this.knobVisible=e},setHeight:function(){var e;this.trackHeight=400,e=[];while((this.minOffset()||this.minUnitHeight)<this.minUnitHeight&&this.trackHeight<1e5)e.push(this.trackHeight=1.25*this.trackHeight);return e},minOffset:function(){var e,t=this;return e=function(){for(var e=[],t=2,n=this.presets.length;2<=n?t<=n:t>=n;2<=n?t++:t--)e.push(t);return e}.apply(this).map((function(e){if(t.presets[e]&&t.presets[e-1])return parseInt(t.presets[e].position*t.unitHeight-t.presets[e-1].position*t.unitHeight)})),za()(Mr()(e))},onTrackClicked:function(e){return this.moveKnob(e),this.goToPosition(this.position)},moveKnob:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.knobHeight<64?32:parseInt(this.knobHeight/2),this.knobOffset=this.getEventOffset(e),this.position=this.positionFor(this.getEventOffset(e))},getEventOffset:function(e){var t,n;return t=e.touches?e.touches[0].clientY:e.clientY,n=t-this.$refs.slider.getBoundingClientRect().top,n<0?0:n>this.trackHeight?this.trackHeight:n},onMouseDown:function(){var e,t,n=this;return e=this.moveKnob,t=function(){return document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),n.goToPosition(n.position)},document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)},onTouchStart:function(){var e,t,n=this;return t=this.moveKnob,e=function(){return document.removeEventListener("touchmove",t),document.removeEventListener("touchend",e),n.goToPosition(n.position)},document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",e)},goToPosition:function(e){if(!this.$route.query||this.$route.query.p!==e)return this.$router.replace({query:{p:e},params:{sequence_id:null,comment_id:null}}).catch((function(e){return{}}))},offsetFor:function(e){return this.discussion&&this.discussion.newestFirst?this.trackHeight-e*this.unitHeight:(e-1)*this.unitHeight},positionFor:function(e){var t;return this.discussion?(t=parseInt(e/this.unitHeight)+1,t=t<1?1:t>this.childCount?this.childCount:t,this.discussion.newestFirst?this.childCount-t+1:t):1}},watch:{"discussion.newestFirst":{immediate:!0,handler:function(){this.discussion}}},computed:{unitHeight:function(){return this.trackHeight/this.childCount},childCount:function(){return this.discussion&&this.discussion.createdEvent()?this.discussion.createdEvent().childCount:10}}},Hd=zd,Gd=(n("40e7"),Object(L["a"])(Hd,Ud,Bd,!1,null,null,null)),Kd=Gd.exports;q()(Gd,{VNavigationDrawer:Wa["a"]}),Tr()(Gd,{Touch:Ya["a"]});var Wd,Yd,Qd,Zd,Jd=n("8c4f"),Xd=Jd["a"].prototype.push;Jd["a"].prototype.push=function(e,t,n){return t||n?Xd.call(this,e,t,n):Xd.call(this,e).catch((function(e){return e}))},i["a"].use(Jd["a"]),Wd=[{path:"tags/:tag?",component:yl,meta:{noScroll:!0}},{path:"polls",component:Kc,meta:{noScroll:!0}},{path:"members",component:fl,meta:{noScroll:!0}},{path:"membership_requests",component:tu,meta:{noScroll:!0}},{path:"members/requests",redirect:"membership_requests",meta:{noScroll:!0}},{path:"subgroups",component:Rl,meta:{noScroll:!0}},{path:"files",component:Bl,meta:{noScroll:!0}},{path:"settings",component:yu,meta:{noScroll:!0}},{path:":stub?",component:Nc,meta:{noScroll:!0}}],Zd=[{path:"comment/:comment_id",components:{nav:Kd}},{path:":stub?/:sequence_id?",components:{nav:Kd}},{path:"",components:{nav:Kd}}],Qd=[{path:"comment/:comment_id"},{path:":stub?/:sequence_id?"},{path:""}],Yd=new Jd["a"]({mode:"history",scrollBehavior:function(e,t,n){return n||(e.meta.noScroll&&t.meta.noScroll?window.scrollHeight:{x:0,y:0})},routes:[{path:"/tasks",component:qd},{path:"/dashboard",component:Xt},{path:"/dashboard/:filter",component:Xt},{path:"/threads/direct",component:Vd},{path:"/inbox",component:mn},{path:"/explore",component:$n},{path:"/profile",component:hs},{path:"/contact",component:Gu},{path:"/email_preferences",component:id},{path:"/p/:key/edit",component:Gs},{path:"/p/:key/:stub?",component:Fs},{path:"/u/:key/:stub?",component:Sd},{path:"/d/new",component:yd},{path:"/d/:key/edit",component:yd},{path:"/d/:key",name:"discussion",component:Vr,children:Zd,beforeEnter:function(e,t,n){return c["a"].user().experiences["betaFeatures"]?n({name:"strand",params:e.params,query:e.query}):n()}},{path:"/s/:key",name:"strand",component:Xa,children:Qd},{path:"/g/new",component:Nu},{path:"/g/:key",component:kc,children:Wd,name:"groupKey"},{path:"/:key",component:kc,children:Wd},{path:"/",redirect:"/dashboard"}]}),Yd.beforeEach((function(e,t,n){return Qo["a"].okToLeave()?n():n(!1)})),Yd.afterEach((function(){return Qo["a"].clear()}));var ep=Yd,tp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"app-is-booted"},[n("system-notice"),n("navbar"),n("sidebar"),e.pageError?e._e():n("router-view"),e.pageError?n("common-error",{attrs:{error:e.pageError}}):e._e(),n("v-spacer"),n("common-footer"),n("modal-launcher"),n("common-flash")],1)},np=[],op=n("4472"),rp=n.n(op),ip=n("a59b"),ap=n.n(ip);function sp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function lp(e,t,n){return t&&cp(e.prototype,t),n&&cp(e,n),e}var up,dp,pp=new(function(){function e(){sp(this,e)}return lp(e,[{key:"emailStatus",value:function(e){var t,n=this;return t=(a["a"].pendingIdentity||{}).token,j["a"].users.emailStatus(e.email,t).then((function(t){return n.applyEmailStatus(e,ap()(t.users))}))}},{key:"applyEmailStatus",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=["name","email","avatar_kind","avatar_initials","email_hash","avatar_url","has_password","email_status","email_verified","legal_accepted_at","auth_form"],e.update(kn()(rp()(r()(n,t),(function(e,t){return vn()(t)})),(function(e){return!!e}))),e.update({hasToken:n.has_token}),e}},{key:"authSuccess",value:function(e){var t;if(t=c["a"].apply(e),S["a"].$emit("closeModal"),_e["a"].success("auth_form.signed_in"),t&&!t.hasProfilePhoto()&&!t.hasExperienced("changePicture"))return S["a"].$emit("openModal",{component:"ChangePictureForm"})}},{key:"signIn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return j["a"].sessions.build(r()(t,["email","name","password","code"])).save().then((function(t){return e.authSuccess(t),n(t),t}),(function(e){var n;return n=t.hasToken?{token:[ru["a"].t("auth_form.invalid_token")]}:{password:[ru["a"].t("auth_form.invalid_password")]},t.update({errors:n})}))}},{key:"signUp",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return j["a"].registrations.build(r()(e,["email","name","recaptcha","legalAccepted","emailNewsletter"])).save().then((function(o){return e.hasToken||o.signed_in?(t.authSuccess(o),n(o)):e.update({authForm:"complete",sentLoginLink:!0}),o}),(function(t){return t.json().then((function(t){return e.errors=t.errors}))}))}},{key:"reactivate",value:function(e){return j["a"].users.reactivate(e).then((function(){return e.update({sentLoginLink:!0})}))}},{key:"sendLoginLink",value:function(e){return j["a"].loginTokens.fetchToken(e.email).then((function(){return e.update({authForm:"complete",sentLoginLink:!0})}))}},{key:"validSignup",value:function(e,t){return t.errors={},e.name||(t.errors.name=[ru["a"].t("auth_form.name_required")]),a["a"].theme.terms_url&&!e.legalAccepted&&(t.errors.legalAccepted=[ru["a"].t("auth_form.terms_required")]),k()(t.errors)&&(t.name=e.name,t.legalAccepted=e.legalAccepted,t.emailNewsletter=e.emailNewsletter),0===k()(t.errors).length}}]),e}()),mp=n("8055"),fp=n.n(mp);dp={},up=null;var hp,_p,vp=function(){var e;return e=[a["a"].theme.channels_uri,"records"].join("/"),up=fp()(e,{query:{channel_token:a["a"].channel_token}}),up.on("update",(function(e){return e.notice?S["a"].$emit("systemNotice",e):(dp[e.room]=e.score,j["a"].import(e.records))})),up.on("reconnect",(function(e){return console.log("socket.io reconnect",{roomScores:dp}),up.emit("catchup",dp,(function(e){return console.log("catchup reply",e),e.forEach((function(e){return j["a"].import(e)}))}))})),up.on("disconnect",(function(e){return console.log("socket.io disconnect")})),up.on("connect",(function(e){return console.log("socket.io connect")}))},bp=function(){return up.close()},gp=(n("3d52"),{}),yp=Object(L["a"])(gp,hp,_p,!1,null,null,null),kp=yp.exports,wp={components:{CustomCss:kp},mixins:[Ao],data:function(){return{pageError:null}},created:function(){var e=this;return this.$route.query.locale&&c["a"].updateLocale(this.$route.query.locale),this.$vuetify.theme.dark=c["a"].user().experiences["darkMode"],A()(a["a"].theme.vuetify,(function(t,n){return t&&(e.$vuetify.theme.themes.light[n]=t),!0}))},mounted:function(){var e=this;if(vp(),!c["a"].isSignedIn()&&this.shouldForceSignIn()&&this.openAuthModal(!0),S["a"].$on("currentComponent",this.setCurrentComponent),S["a"].$on("openAuthModal",(function(){return e.openAuthModal()})),S["a"].$on("pageError",(function(t){return e.pageError=t})),S["a"].$on("signedIn",(function(){return e.pageError=null})),a["a"].flash.notice)return _e["a"].success(a["a"].flash.notice)},destroyed:function(){return bp()},watch:{$route:function(){return this.pageError=null}},methods:{setCurrentComponent:function(e){var t;return this.pageError=null,t=Cn()(e.title||this.$t(e.titleKey),{length:300}),document.querySelector("title").text=Mr()([t,a["a"].theme.site_name]).join(" | "),a["a"].currentGroup=e.group,a["a"].currentDiscussion=e.discussion,a["a"].currentPoll=e.poll},shouldForceSignIn:function(){if(this.$route.query.sign_in)return!0;if(null!=(a["a"].pendingIdentity||{}).identity_type)return!0;if(c["a"].isSignedIn())return!1;switch(this.$route.path){case"/email_preferences":return null==c["a"].user().restricted;case"/dashboard":case"/inbox":case"/profile":case"/polls":case"/p/new":case"/g/new":return!0}}}},xp=wp,Cp=(n("d0d1"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",{staticClass:"pb-12"},[n("v-container",[n("div",{staticClass:"error-page text-center"},[403==e.error.status?n("div",{directives:[{name:"t",rawName:"v-t",value:"error_page.forbidden",expression:"'error_page.forbidden'"}],staticClass:"error-page__forbidden"}):e._e(),404==e.error.status?n("div",{directives:[{name:"t",rawName:"v-t",value:"error_page.page_not_found",expression:"'error_page.page_not_found'"}],staticClass:"error-page__page-not-found"}):e._e(),500==e.error.status?n("div",{directives:[{name:"t",rawName:"v-t",value:"error_page.internal_server_error",expression:"'error_page.internal_server_error'"}],staticClass:"error-page__internal-server-error"}):e._e()])])],1)}),Op=[],jp={props:["error"]},Sp=jp,Ip=Object(L["a"])(Sp,Cp,Op,!1,null,null,null),Pp=Ip.exports;q()(Ip,{VContainer:Wt["a"],VMain:Yt["a"]});var Tp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-snackbar",{staticClass:"flash-root",attrs:{timeout:e.timeout,top:""},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:e.flash.message,args:e.flash.options},expression:"{path: flash.message, args: flash.options}"}],staticClass:"flash-root__message",attrs:{role:"status","aria-live":"assertive"}}),e.flash.actionFn?n("div",{staticClass:"flash-root__action"},[n("a",{directives:[{name:"t",rawName:"v-t",value:e.flash.action,expression:"flash.action"}],on:{click:function(t){return e.flash.actionFn()}}})]):e._e()])},Ap=[],Rp={data:function(){return{flash:{},isOpen:!1,timeout:6e3,message:"",options:{}}},created:function(){var e=this;return S["a"].$on("flashMessage",(function(t){return e.flash=t,e.isOpen=!0}))}},Vp=Rp,$p=n("2db4"),Np=Object(L["a"])(Vp,Tp,Ap,!1,null,null,null),Ep=Np.exports;q()(Np,{VSnackbar:$p["a"]});var Mp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-footer",[n("v-layout",{attrs:{"justify-space-around":""}},[n("div",{staticClass:"powered-by caption"},[n("a",{directives:[{name:"t",rawName:"v-t",value:"powered_by.powered_by_loomio",expression:"'powered_by.powered_by_loomio'"}],attrs:{href:"https://www.loomio.org/?frontpage",target:"_blank"}}),e.privacyUrl?n("span",[e._v(""),n("mid-dot"),e._v(""),n("a",{directives:[{name:"t",rawName:"v-t",value:"powered_by.privacy_policy",expression:"'powered_by.privacy_policy'"}],attrs:{href:e.privacyUrl,target:"_blank"}})],1):e._e(),e.termsUrl?n("span",[e._v(""),n("mid-dot"),e._v(""),n("a",{directives:[{name:"t",rawName:"v-t",value:"powered_by.terms_of_service",expression:"'powered_by.terms_of_service'"}],attrs:{href:e.termsUrl,target:"_blank"}})],1):e._e(),e.helpUrl?n("span",[e._v(""),n("mid-dot"),e._v(""),n("a",{directives:[{name:"t",rawName:"v-t",value:"common.help",expression:"'common.help'"}],attrs:{href:e.helpUrl,target:"_blank"}})],1):e._e()])])],1)},Dp=[],Lp={data:function(){return{privacyUrl:a["a"].theme.privacy_url,helpUrl:a["a"].theme.help_url,termsUrl:a["a"].theme.terms_url,frontPageUrl:a["a"].baseUrl+"?frontpage",showFrontPage:"https://www.loomio.org/"!==a["a"].baseUrl}}},Fp=Lp,qp=n("553a"),Up=Object(L["a"])(Fp,Mp,Dp,!1,null,null,null),Bp=Up.exports;q()(Up,{MidDot:Ne["a"],VFooter:qp["a"],VLayout:Q["a"]});var zp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{ref:"modalLauncher",staticClass:"modal-launcher",attrs:{"max-width":e.maxWidth,persistent:"",fullscreen:e.$vuetify.breakpoint.xs},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[e.isOpen?n("v-card",[n(e.componentName,e._b({key:e.componentKey,tag:"component",attrs:{close:e.closeModal}},"component",e.componentProps,!1))],1):e._e()],1)},Hp=[],Gp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"group-form"},[n("v-overlay",{attrs:{value:e.uploading}},[n("v-progress-circular",{attrs:{size:"64",value:e.progress}})],1),n("submit-overlay",{attrs:{value:e.group.processing}}),n("v-card-title",[n("v-layout",{staticStyle:{"align-items":"center"},attrs:{"justify-space-between":""}},[n("div",{staticClass:"group-form__group-title"},[e.group.parentId?n("h1",{directives:[{name:"t",rawName:"v-t",value:"group_form.subgroup_settings",expression:"'group_form.subgroup_settings'"}],staticClass:"headline",attrs:{tabindex:"-1"}}):e._e(),e.group.parentId?e._e():n("h1",{directives:[{name:"t",rawName:"v-t",value:"group_form.group_settings",expression:"'group_form.group_settings'"}],staticClass:"headline",attrs:{tabindex:"-1"}})]),n("dismiss-modal-button",{attrs:{model:e.group}})],1)],1),n("v-tabs",{attrs:{"fixed-tabs":""}},[n("v-tab",{directives:[{name:"t",rawName:"v-t",value:"group_form.profile",expression:"'group_form.profile'"}]}),n("v-tab",{directives:[{name:"t",rawName:"v-t",value:"group_form.privacy",expression:"'group_form.privacy'"}],staticClass:"group-form__privacy-tab"}),n("v-tab",{directives:[{name:"t",rawName:"v-t",value:"group_form.permissions",expression:"'group_form.permissions'"}],staticClass:"group-form__permissions-tab"}),n("v-tab",{directives:[{name:"t",rawName:"v-t",value:"common.threads",expression:"'common.threads'"}],staticClass:"group-form__thread-defaults-tab"}),n("v-tab-item",[n("div",{staticClass:"mt-8 px-4"},[n("div",{staticClass:"v-input"},[n("label",{directives:[{name:"t",rawName:"v-t",value:"group_form.click_to_change_image",expression:"'group_form.click_to_change_image'"}],staticClass:"v-label v-label--active lmo-font-12px"})]),n("v-img",{staticClass:"group_form__file-select",attrs:{src:e.group.coverUrl(),width:"100%"},on:{click:function(t){return e.selectCoverPhoto()}}}),e.group.parentId?e._e():n("group-avatar",{staticClass:"group_form__file-select group_form__logo white",attrs:{group:e.group,size:"72px","on-click":e.selectLogo,elevation:4}}),n("v-text-field",{staticClass:"group-form__name mt-4",attrs:{id:"group-name",placeholder:e.$t(e.groupNamePlaceholder),rules:[e.rules.required],maxlength:"255",label:e.$t(e.groupNameLabel)},model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}}),!e.group.parentId||e.group.parentId&&e.group.parent().handle?n("div",[n("v-text-field",{staticClass:"group-form__handle",attrs:{id:"group-handle",hint:e.$t("group_form.group_handle_placeholder",{handle:e.group.handle}),maxlength:"100",label:e.$t("group_form.handle")},model:{value:e.group.handle,callback:function(t){e.$set(e.group,"handle",t)},expression:"group.handle"}}),n("validation-errors",{attrs:{subject:e.group,field:"handle"}})],1):e._e(),n("v-spacer"),n("input",{ref:"coverPhotoInput",staticClass:"hidden change-picture-form__file-input",attrs:{type:"file"},on:{change:e.uploadCoverPhoto}}),n("input",{ref:"logoInput",staticClass:"hidden change-picture-form__file-input",attrs:{type:"file"},on:{change:e.uploadLogo}}),n("lmo-textarea",{staticClass:"group-form__group-description",attrs:{model:e.group,field:"description",placeholder:e.$t("group_form.description_placeholder"),label:e.$t("group_form.description")}}),n("validation-errors",{attrs:{subject:e.group,field:"name"}})],1)]),n("v-tab-item",[n("div",{staticClass:"mt-8 px-4"},[n("div",{staticClass:"group-form__section group-form__privacy"},[n("v-radio-group",{model:{value:e.group.groupPrivacy,callback:function(t){e.$set(e.group,"groupPrivacy",t)},expression:"group.groupPrivacy"}},e._l(e.privacyOptions,(function(t){return n("v-radio",{key:t,class:"group-form__privacy-"+t,attrs:{value:t,"aria-label":t}},[n("template",{slot:"label"},[n("div",{staticClass:"group-form__privacy-title"},[n("strong",{directives:[{name:"t",rawName:"v-t",value:"common.privacy."+t,expression:"'common.privacy.' + privacy"}]}),n("mid-dot"),n("span",[e._v(e._s(e.privacyStringFor(t)))])],1)])],2)})),1)],1),n("p",{staticClass:"group-form__privacy-statement text--secondary"},[e._v(e._s(e.privacyStatement))]),e.group.privacyIsOpen()?n("div",{staticClass:"group-form__section group-form__joining lmo-form-group"},[n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"group_form.how_do_people_join",expression:"'group_form.how_do_people_join'"}]}),n("v-radio-group",{model:{value:e.group.membershipGrantedUpon,callback:function(t){e.$set(e.group,"membershipGrantedUpon",t)},expression:"group.membershipGrantedUpon"}},e._l(["request","approval"],(function(e){return n("v-radio",{key:e,class:"group-form__membership-granted-upon-"+e,attrs:{value:e}},[n("template",{slot:"label"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.membership_granted_upon_"+e,expression:"'group_form.membership_granted_upon_' + granted"}]})])],2)})),1)],1):e._e()])]),n("v-tab-item",[n("div",{staticClass:"mt-8 px-4 group-form__section group-form__permissions"},[n("p",{directives:[{name:"t",rawName:"v-t",value:"group_form.permissions_explaination",expression:"'group_form.permissions_explaination'"}],staticClass:"group-form__privacy-statement text--secondary"}),e.group.parentId&&e.group.privacyIsClosed()?n("v-checkbox",{staticClass:"group-form__parent-members-can-see-discussions",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"group_form.parent_members_can_see_discussions",args:{parent:e.group.parent().name}},expression:"{path: 'group_form.parent_members_can_see_discussions', args: {parent: group.parent().name}}"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"group_form.parent_members_can_see_discussions_help",args:{parent:e.group.parent().name}},expression:"{path: 'group_form.parent_members_can_see_discussions_help', args: {parent: group.parent().name}}"}],staticClass:"caption"})])]},proxy:!0}],null,!1,1172745820),model:{value:e.group["parentMembersCanSeeDiscussions"],callback:function(t){e.$set(e.group,"parentMembersCanSeeDiscussions",t)},expression:'group["parentMembersCanSeeDiscussions"]'}}):e._e(),n("v-checkbox",{staticClass:"group-form__members-can-add-members",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_add_members",expression:"'group_form.members_can_add_members'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_add_members_help",expression:"'group_form.members_can_add_members_help'"}],staticClass:"caption"})])]},proxy:!0}]),model:{value:e.group["membersCanAddMembers"],callback:function(t){e.$set(e.group,"membersCanAddMembers",t)},expression:'group["membersCanAddMembers"]'}}),n("v-checkbox",{staticClass:"group-form__members-can-add-guests",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_add_guests",expression:"'group_form.members_can_add_guests'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_add_guests_help",expression:"'group_form.members_can_add_guests_help'"}],staticClass:"caption"})])]},proxy:!0}]),model:{value:e.group["membersCanAddGuests"],callback:function(t){e.$set(e.group,"membersCanAddGuests",t)},expression:'group["membersCanAddGuests"]'}}),n("v-checkbox",{staticClass:"group-form__members-can-announce",attrs:{"hide-details":"",label:e.$t("group_form.members_can_announce")},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_announce",expression:"'group_form.members_can_announce'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_announce_help",expression:"'group_form.members_can_announce_help'"}],staticClass:"caption"})])]},proxy:!0}]),model:{value:e.group["membersCanAnnounce"],callback:function(t){e.$set(e.group,"membersCanAnnounce",t)},expression:'group["membersCanAnnounce"]'}}),e.group.isParent()?n("v-checkbox",{staticClass:"group-form__members-can-create-subgroups",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_create_subgroups",expression:"'group_form.members_can_create_subgroups'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_create_subgroups_help",expression:"'group_form.members_can_create_subgroups_help'"}],staticClass:"caption"})])]},proxy:!0}],null,!1,3448620572),model:{value:e.group["membersCanCreateSubgroups"],callback:function(t){e.$set(e.group,"membersCanCreateSubgroups",t)},expression:'group["membersCanCreateSubgroups"]'}}):e._e(),n("v-checkbox",{staticClass:"group-form__members-can-start-discussions",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_start_discussions",expression:"'group_form.members_can_start_discussions'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_start_discussions_help",expression:"'group_form.members_can_start_discussions_help'"}],staticClass:"caption"})])]},proxy:!0}]),model:{value:e.group["membersCanStartDiscussions"],callback:function(t){e.$set(e.group,"membersCanStartDiscussions",t)},expression:'group["membersCanStartDiscussions"]'}}),n("v-checkbox",{staticClass:"group-form__members-can-edit-discussions",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_edit_discussions",expression:"'group_form.members_can_edit_discussions'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_edit_discussions_help",expression:"'group_form.members_can_edit_discussions_help'"}],staticClass:"caption"})])]},proxy:!0}]),model:{value:e.group["membersCanEditDiscussions"],callback:function(t){e.$set(e.group,"membersCanEditDiscussions",t)},expression:'group["membersCanEditDiscussions"]'}}),n("v-checkbox",{staticClass:"group-form__members-can-edit-comments",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_edit_comments",expression:"'group_form.members_can_edit_comments'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_edit_comments_help",expression:"'group_form.members_can_edit_comments_help'"}],staticClass:"caption"})])]},proxy:!0}]),model:{value:e.group["membersCanEditComments"],callback:function(t){e.$set(e.group,"membersCanEditComments",t)},expression:'group["membersCanEditComments"]'}}),n("v-checkbox",{staticClass:"group-form__members-can-delete-comments",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_delete_comments",expression:"'group_form.members_can_delete_comments'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_delete_comments_help",expression:"'group_form.members_can_delete_comments_help'"}],staticClass:"caption"})])]},proxy:!0}]),model:{value:e.group["membersCanDeleteComments"],callback:function(t){e.$set(e.group,"membersCanDeleteComments",t)},expression:'group["membersCanDeleteComments"]'}}),n("v-checkbox",{staticClass:"group-form__members-can-raise-motions",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_raise_motions",expression:"'group_form.members_can_raise_motions'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.members_can_raise_motions_help",expression:"'group_form.members_can_raise_motions_help'"}],staticClass:"caption"})])]},proxy:!0}]),model:{value:e.group["membersCanRaiseMotions"],callback:function(t){e.$set(e.group,"membersCanRaiseMotions",t)},expression:'group["membersCanRaiseMotions"]'}}),n("v-checkbox",{staticClass:"group-form__admins-can-edit-user-content",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.admins_can_edit_user_content",expression:"'group_form.admins_can_edit_user_content'"}]}),n("br"),n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.admins_can_edit_user_content_help",expression:"'group_form.admins_can_edit_user_content_help'"}],staticClass:"caption"})])]},proxy:!0}]),model:{value:e.group["adminsCanEditUserContent"],callback:function(t){e.$set(e.group,"adminsCanEditUserContent",t)},expression:'group["adminsCanEditUserContent"]'}})],1)]),n("v-tab-item",[n("div",{staticClass:"mt-8 px-4"},[n("div",{staticClass:"group-form__section group-form__defaults"},[n("p",{directives:[{name:"t",rawName:"v-t",value:"group_form.thread_defaults_help",expression:"'group_form.thread_defaults_help'"}],staticClass:"text--secondary"}),n("v-card-subtitle",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.sorting",expression:"'thread_arrangement_form.sorting'"}]}),n("v-radio-group",{model:{value:e.group.newThreadsNewestFirst,callback:function(t){e.$set(e.group,"newThreadsNewestFirst",t)},expression:"group.newThreadsNewestFirst"}},[n("v-radio",{attrs:{value:!1},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.earliest",expression:"'thread_arrangement_form.earliest'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.earliest_description",expression:"'thread_arrangement_form.earliest_description'"}]})]},proxy:!0}])}),n("v-radio",{attrs:{value:!0},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.latest",expression:"'thread_arrangement_form.latest'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.latest_description",expression:"'thread_arrangement_form.latest_description'"}]})]},proxy:!0}])})],1),n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.replies",expression:"'thread_arrangement_form.replies'"}]}),n("v-radio-group",{model:{value:e.group.newThreadsMaxDepth,callback:function(t){e.$set(e.group,"newThreadsMaxDepth",t)},expression:"group.newThreadsMaxDepth"}},[n("v-radio",{attrs:{value:1},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.linear",expression:"'thread_arrangement_form.linear'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.linear_description",expression:"'thread_arrangement_form.linear_description'"}]})]},proxy:!0}])}),n("v-radio",{attrs:{value:2},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.nested_once",expression:"'thread_arrangement_form.nested_once'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.nested_once_description",expression:"'thread_arrangement_form.nested_once_description'"}]})]},proxy:!0}])}),n("v-radio",{attrs:{value:3},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.nested_twice",expression:"'thread_arrangement_form.nested_twice'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.nested_twice_description",expression:"'thread_arrangement_form.nested_twice_description'"}]})]},proxy:!0}])})],1)],1)])])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"group-form__submit-button",attrs:{color:"primary"},on:{click:function(t){return e.submit()}}},[e.group.isNew()&&e.group.isParent()?n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.submit_start_group",expression:"'group_form.submit_start_group'"}]}):e._e(),e.group.isNew()&&!e.group.isParent()?n("span",{directives:[{name:"t",rawName:"v-t",value:"group_form.submit_start_subgroup",expression:"'group_form.submit_start_subgroup'"}]}):e._e(),e.group.isNew()?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.update_settings",expression:"'common.action.update_settings'"}]})])],1)],1)},Kp=[],Wp={props:{group:Object},data:function(){return{isDisabled:!1,rules:{required:function(e){return!!e||"Required."}},uploading:!1,progress:0}},mounted:function(){return this.featureNames=a["a"].features.group,this.suggestHandle()},created:function(){return this.suggestHandle=h()((function(){var e,t=this;if(this.group.isNew()||vt()(this.group.handle))return e=this.group.parentId?this.group.parent().handle:null,j["a"].groups.getHandle({name:this.group.name,parentHandle:e}).then((function(e){return t.group.handle=e.handle}))}),500)},methods:{submit:function(){var e,t=this;return e=this.group.allowPublicThreads,this.group.discussionPrivacyOptions=function(){switch(this.group.groupPrivacy){case"open":return"public_only";case"closed":return e?"public_or_private":"private_only";case"secret":return"private_only"}}.call(this),this.group.parentMembersCanSeeDiscussions=function(){switch(this.group.groupPrivacy){case"open":return!0;case"closed":return this.group.parentMembersCanSeeDiscussions;case"secret":return!1}}.call(this),this.group.save().then((function(e){var n;return t.isExpanded=!1,n=e.groups[0].key,_e["a"].success("group_form.messages.group_".concat(t.actionName)),S["a"].$emit("closeModal"),t.$router.push("/g/".concat(n))})).catch(Object(ir["a"])(this.group))},expandForm:function(){return this.isExpanded=!0},privacyStringFor:function(e){return this.$t(Object(gi["d"])(this.group,e),{parent:this.group.parentName()})},selectCoverPhoto:function(){return this.$refs.coverPhotoInput.click()},selectLogo:function(){return this.$refs.logoInput.click()},uploadCoverPhoto:function(){var e=this;return this.uploading=!0,j["a"].groups.remote.onUploadSuccess=function(t){return j["a"].import(t),e.uploading=!1},j["a"].groups.remote.upload("".concat(this.group.id,"/upload_photo/cover_photo"),this.$refs.coverPhotoInput.files[0],{},(function(t){return e.progress=t.loaded/t.total*100}))},uploadLogo:function(){var e=this;return this.uploading=!0,j["a"].groups.remote.onUploadSuccess=function(t){return j["a"].import(t),e.uploading=!1},j["a"].groups.remote.upload("".concat(this.group.id,"/upload_photo/logo"),this.$refs.logoInput.files[0],{},(function(t){return e.progress=t.loaded/t.total*100}))}},computed:{actionName:function(){return this.group.isNew()?"created":"updated"},titleLabel:function(){return this.group.isParent()?"group_form.group_name":"group_form.subgroup_name"},privacyOptions:function(){return this.group.parentId&&"secret"===this.group.parent().groupPrivacy?["closed","secret"]:["open","closed","secret"]},privacyStatement:function(){return this.$t(Object(gi["e"])(this.group),{parent:this.group.parentName()})},groupNamePlaceholder:function(){return this.group.parentId?"group_form.group_name_placeholder":"group_form.organization_name_placeholder"},groupNameLabel:function(){return this.group.parentId?"group_form.group_name":"group_form.organization_name"}}},Yp=Wp,Qp=(n("2b2a"),Object(L["a"])(Yp,Gp,Kp,!1,null,null,null)),Zp=Qp.exports;q()(Qp,{DismissModalButton:er,GroupAvatar:Tl,LmoTextarea:us["a"],MidDot:Ne["a"],Space:jt["a"],SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardSubtitle:un["b"],VCardTitle:un["d"],VCheckbox:Ea["a"],VImg:dn["a"],VLayout:Q["a"],VOverlay:Pu["a"],VProgressCircular:Z["a"],VRadio:Tu["a"],VRadioGroup:Au["a"],VSpacer:Oo["a"],VSubheader:Qt["a"],VTab:pr["a"],VTabItem:mr["a"],VTabs:fr["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var Jp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"thread-arrangement-form"},[n("submit-overlay",{attrs:{value:e.discussion.processing}}),n("v-card-title",[n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.title",expression:"'thread_arrangement_form.title'"}]}),n("v-spacer"),n("dismiss-modal-button",{attrs:{"aria-hidden":"true",close:e.close}})],1),n("div",{staticClass:"px-4"},[n("v-alert",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.for_everyone",expression:"'thread_arrangement_form.for_everyone'"}],attrs:{dense:"",text:"",type:"info"}}),n("v-card-subtitle",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.sorting",expression:"'thread_arrangement_form.sorting'"}]}),n("v-radio-group",{model:{value:e.clone.newestFirst,callback:function(t){e.$set(e.clone,"newestFirst",t)},expression:"clone.newestFirst"}},[n("v-radio",{attrs:{value:!1},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.earliest",expression:"'thread_arrangement_form.earliest'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.earliest_description",expression:"'thread_arrangement_form.earliest_description'"}]})]},proxy:!0}])}),n("v-radio",{attrs:{value:!0},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.latest",expression:"'thread_arrangement_form.latest'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.latest_description",expression:"'thread_arrangement_form.latest_description'"}]})]},proxy:!0}])})],1),n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.replies",expression:"'thread_arrangement_form.replies'"}]}),n("v-radio-group",{model:{value:e.clone.maxDepth,callback:function(t){e.$set(e.clone,"maxDepth",t)},expression:"clone.maxDepth"}},[n("v-radio",{attrs:{value:1},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.linear",expression:"'thread_arrangement_form.linear'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.linear_description",expression:"'thread_arrangement_form.linear_description'"}]})]},proxy:!0}])}),n("v-radio",{attrs:{value:2},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.nested_once",expression:"'thread_arrangement_form.nested_once'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.nested_once_description",expression:"'thread_arrangement_form.nested_once_description'"}]})]},proxy:!0}])}),n("v-radio",{attrs:{value:3},scopedSlots:e._u([{key:"label",fn:function(){return[n("strong",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.nested_twice",expression:"'thread_arrangement_form.nested_twice'"}]}),n("space"),e._v("-"),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.nested_twice_description",expression:"'thread_arrangement_form.nested_twice_description'"}]})]},proxy:!0}])})],1),e.clone.maxDepth!=e.discussion.maxDepth?n("v-alert",{directives:[{name:"t",rawName:"v-t",value:"thread_arrangement_form.changing_nesting_is_slow",expression:"'thread_arrangement_form.changing_nesting_is_slow'"}],attrs:{type:"warning"}}):e._e()],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}],attrs:{color:"primary"},on:{click:function(t){return e.submit()}}})],1)],1)},Xp=[],em={props:{discussion:Object,close:Function},data:function(){return{clone:this.discussion.clone()}},methods:{submit:function(){var e=this;return this.clone.save().then((function(){return e.close(),_e["a"].success("discussion_form.messages.updated")})).catch(Object(ir["a"])(this.clone))}}},tm=em,nm=Object(L["a"])(tm,Jp,Xp,!1,null,null,null),om=nm.exports;q()(nm,{DismissModalButton:er,Space:jt["a"],SubmitOverlay:lr["a"],VAlert:Lo["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardSubtitle:un["b"],VCardTitle:un["d"],VRadio:Tu["a"],VRadioGroup:Au["a"],VSpacer:Oo["a"],VSubheader:Qt["a"]});var rm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"edit-comment-form"},[n("submit-overlay",{attrs:{value:e.comment.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"comment_form.edit_comment",expression:"'comment_form.edit_comment'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{model:e.comment}})],1),n("comment-form",{staticClass:"mx-4",attrs:{comment:e.comment,autofocus:""},on:{"comment-submitted":function(t){return e.close()}}})],1)},im=[],am={props:{comment:Object,close:Function},data:function(){return{isDisabled:!1}}},sm=am,cm=Object(L["a"])(sm,rm,im,!1,null,null,null),lm=cm.exports;q()(cm,{CommentForm:$o["a"],DismissModalButton:er,SubmitOverlay:lr["a"],VCard:Kt["a"],VCardTitle:un["d"],VSpacer:Oo["a"]});var um=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"confirm-modal"},[n("submit-overlay",{attrs:{value:e.isDisabled}}),n("v-card-title",[e.confirm.text.raw_title||e.confirm.text.title?n("h1",{staticClass:"headline",attrs:{tabindex:"-1"},domProps:{innerHTML:e._s(e.confirm.text.raw_title||e.$t(e.confirm.text.title))}}):e._e(),n("v-spacer"),e.confirm.forceSubmit?e._e():n("dismiss-modal-button")],1),n("v-card-text",[e.confirm.text.raw_helptext||e.confirm.text.helptext?n("p",{domProps:{innerHTML:e._s(e.confirm.text.raw_helptext||e.$t(e.confirm.text.helptext))}}):e._e(),e.confirm.text.confirm_text?n("div",[n("p",{staticClass:"font-weight-bold"},[e._v(e._s(e.confirm.text.raw_confirm_text_placeholder))]),n("v-text-field",{staticClass:"confirm-text-field",on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.canProceed&&e.submit()}},model:{value:e.confirmText,callback:function(t){e.confirmText=t},expression:"confirmText"}})],1):e._e()]),n("v-card-actions",[e.confirm.forceSubmit?e._e():n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.cancel",expression:"'common.action.cancel'"}],attrs:{text:""},on:{click:function(t){return e.close()}}}),n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:e.confirm.text.submit||"common.action.ok",expression:"confirm.text.submit || 'common.action.ok'"}],staticClass:"confirm-modal__submit",attrs:{disabled:!e.canProceed,color:"primary"},on:{click:function(t){e.confirm.submit&&e.submit()||e.close()}}})],1)],1)},dm=[],pm={props:{close:{type:Function,default:function(){return console.log("closing time"),S["a"].$emit("closeModal")}},confirm:Object},data:function(){return{isDisabled:!1,confirmText:""}},methods:{submit:function(){var e=this;return this.isDisabled=!0,this.confirm.submit().then((function(){if(e.close(),null!=e.confirm.redirect&&e.$router.push("".concat(e.confirm.redirect)),"function"===typeof e.confirm.successCallback&&e.confirm.successCallback(),e.confirm.text.flash)return _e["a"].success(e.confirm.text.flash)})).finally((function(){return e.isDisabled=!1}))}},computed:{canProceed:function(){return!this.confirm.text.confirm_text||this.confirmText.trim()===this.confirm.text.confirm_text.trim()}}},mm=pm,fm=Object(L["a"])(mm,um,dm,!1,null,null,null),hm=fm.exports;q()(fm,{DismissModalButton:er,SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"],VTextField:Zt["a"]});var _m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"poll-common-modal",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null}}},[n("submit-overlay",{attrs:{value:e.poll.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:e.title_key,expression:"title_key"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{model:e.poll}})],1),n("div",{staticClass:"px-4"},[n("poll-common-directive",{attrs:{poll:e.poll,name:"form",modal:!0}})],1),n("v-card-actions",{staticClass:"poll-common-form-actions"},[n("v-spacer"),n("v-btn",{staticClass:"poll-common-form__submit",attrs:{color:"primary",loading:e.poll.processing},on:{click:function(t){return e.submit()}}},[e.poll.isNew()?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.save_changes",expression:"'common.action.save_changes'"}]}),e.poll.closingAt&&e.poll.isNew()?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_form.start_poll_type",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_form.start_poll_type', args: {poll_type: poll.translatedPollType()}}"}]}):e._e(),!e.poll.closingAt&&e.poll.isNew()?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_form.share_poll_type",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_form.share_poll_type', args: {poll_type: poll.translatedPollType()}}"}]}):e._e()])],1)],1)},vm=[],bm={props:{poll:Object},computed:{title_key:function(){var e;return e=this.poll.isNew()?"start":"edit","poll_"+this.poll.pollType+"_form."+e+"_header"},isEditing:function(){return this.poll.closingAt&&!this.poll.isNew()}},methods:{submit:function(){var e,t=this;return e=this.poll.isNew()?"created":"updated","meeting"===this.poll.pollType&&(this.poll.customFields.can_respond_maybe=this.poll.canRespondMaybe),this.poll.setErrors({}),this.poll.save().then((function(n){var o;return o=n.polls[0].key,j["a"].polls.findOrFetchById(o,{},!0).then((function(n){if(t.poll.discussionId||t.$router.replace(t.urlFor(n)).catch((function(e){return{}})),_e["a"].success("poll_".concat(n.pollType,"_form.").concat(n.pollType,"_").concat(e)),S["a"].$emit("closeModal"),"updated"!==e)return S["a"].$emit("openModal",{component:"PollMembers",props:{poll:n}})}))})).catch(Object(ir["a"])(this.poll))}}},gm=bm,ym=Object(L["a"])(gm,_m,vm,!1,null,null,null),km=ym.exports;q()(ym,{DismissModalButton:er,PollCommonDirective:cr["default"],SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardTitle:un["d"],VSpacer:Oo["a"]});var wm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"poll-common-edit-vote-modal"},[n("submit-overlay",{attrs:{value:e.stance.processing}}),n("v-card-title",[n("h1",{staticClass:"headline"},[e.stance.castAt?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common.have_your_say",expression:"'poll_common.have_your_say'"}]}),e.stance.castAt?n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common.change_your_response",expression:"'poll_common.change_your_response'"}]}):e._e()]),n("v-spacer"),n("dismiss-modal-button",{attrs:{model:e.stance}})],1),n("v-sheet",{staticClass:"pa-4"},[n("poll-common-directive",{attrs:{name:"vote-form",stance:e.stance}})],1)],1)},xm=[],Cm={props:{stance:Object},components:{PollCommonDirective:cr["default"]},methods:{submit:function(){var e,t=this;return e=this.stance.castAt?"updated":"created",this.stance.save().then((function(){return t.stance.poll().clearStaleStances(),_e["a"].success("poll_".concat(t.stance.poll().pollType,"_vote_form.stance_").concat(e)),t.close()})).catch(Object(ir["a"])(this.stance))}},computed:{icon:function(){return Object(De["b"])(this.stance.poll())},orderedStanceChoices:function(){return on()(this.stance.stanceChoices(),"rank")}}},Om=Cm,jm=Object(L["a"])(Om,wm,xm,!1,null,null,null),Sm=jm.exports;q()(jm,{DismissModalButton:er,PollCommonDirective:cr["default"],SubmitOverlay:lr["a"],VCard:Kt["a"],VCardTitle:un["d"],VSheet:Vc["a"],VSpacer:Oo["a"]});var Im=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"contact-user-modal"},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:{path:"contact_request_form.modal_title",args:{name:e.user.name}},expression:"{ path: 'contact_request_form.modal_title', args: { name: user.name }}"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button")],1),n("v-card-text",{staticClass:"contact-user-form"},[n("v-textarea",{staticClass:"contact-request-form__message",attrs:{maxlength:"500",label:e.$t("contact_request_form.message_placeholder")},model:{value:e.contactRequest.message,callback:function(t){e.$set(e.contactRequest,"message",t)},expression:"contactRequest.message"}}),n("validation-errors",{attrs:{subject:e.contactRequest,field:"message"}}),n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"contact_request_form.helptext",args:{name:e.user.firstName()}},expression:"{ path: 'contact_request_form.helptext', args: { name: user.firstName() }}"}]})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.send",expression:"'common.action.send'"}],staticClass:"contact-request-form__submit",attrs:{color:"primary"},on:{click:function(t){return e.submit()}}})],1)],1)},Pm=[],Tm={props:{user:Object},data:function(){return{contactRequest:j["a"].contactRequests.build({recipientId:this.user.id})}},methods:{submit:function(){var e=this;return this.contactRequest.save().then((function(){return _e["a"].success("contact_request_form.email_sent",{name:e.user.name}),e.close()})).catch(Object(ir["a"])(this.contactRequest))}}},Am=Tm,Rm=Object(L["a"])(Am,Im,Pm,!1,null,null,null),Vm=Rm.exports;q()(Rm,{DismissModalButton:er,VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"],VTextarea:zu["a"],ValidationErrors:ms["a"]});var $m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth-modal"},[e.user.authForm?e._e():n("auth-form",{attrs:{user:e.user,"prevent-close":e.preventClose}}),"signIn"==e.user.authForm?n("auth-signin-form",{attrs:{user:e.user}}):e._e(),"signUp"==e.user.authForm?n("auth-signup-form",{attrs:{user:e.user}}):e._e(),"identity"==e.user.authForm?n("auth-identity-form",{attrs:{user:e.user,identity:e.pendingProviderIdentity}}):e._e(),"complete"==e.user.authForm?n("auth-complete",{attrs:{user:e.user}}):e._e(),"inactive"==e.user.authForm?n("auth-inactive",{attrs:{user:e.user}}):e._e()],1)},Nm=[],Em=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"auth-inactive text-center"},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"profile_page.messages.deactivated",expression:"'profile_page.messages.deactivated'"}],staticClass:"headline",attrs:{tabindex:"-1",role:"status","aria-live":"assertive"}}),n("v-spacer"),n("v-btn",{staticClass:"back-button",attrs:{icon:"",title:e.$t("common.action.back")},on:{click:function(t){e.user.authForm=null}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-sheet",{staticClass:"mx-4 pb-4"},[n("p",{staticClass:"title"},[e._v(e._s(e.user.email))]),n("p",{directives:[{name:"t",rawName:"v-t",value:"devise.failure.inactive",expression:"'devise.failure.inactive'"}]}),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:{path:"user_dropdown.contact_site_name",args:{site_name:e.siteName}},expression:"{path: 'user_dropdown.contact_site_name', args: {site_name: siteName}}"}],attrs:{to:"/contact"}})],1)],1)},Mm=[],Dm={mixins:[Ao],props:{user:Object},data:function(){return{siteName:a["a"].theme.site_name}}},Lm=Dm,Fm=Object(L["a"])(Lm,Em,Mm,!1,null,null,null),qm=Fm.exports;q()(Fm,{VBtn:Pn["a"],VCard:Kt["a"],VCardTitle:un["d"],VIcon:Tt["a"],VSheet:Vc["a"],VSpacer:Oo["a"]});var Um={components:{AuthInactive:qm},props:{preventClose:Boolean,close:Function},data:function(){return{siteName:a["a"].theme.site_name,titleKey:"auth_form.sign_in_to_loomio",user:j["a"].users.build({createAccount:!1}),isDisabled:!1,pendingProviderIdentity:c["a"].providerIdentity()}},mounted:function(){return pp.applyEmailStatus(this.user,a["a"].pendingIdentity)},methods:{back:function(){return this.user.emailStatus=null}},computed:{showBackButton:function(){return this.user.emailStatus&&!this.user.sentLoginLink&&!this.user.sentPasswordLink}}},Bm=Um,zm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"auth-complete text-center",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}}},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"auth_form.check_your_email",expression:"'auth_form.check_your_email'"}],staticClass:"headline",attrs:{tabindex:"-1",role:"status","aria-live":"assertive"}}),n("v-spacer"),n("v-btn",{staticClass:"back-button",attrs:{icon:"",title:e.$t("common.action.back")},on:{click:function(t){e.user.authForm=null}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-sheet",{staticClass:"mx-4"},[n("submit-overlay",{attrs:{value:e.loading}}),e.user.sentLoginLink?n("p",{staticClass:"mb-4"},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.login_link_sent",args:{email:e.user.email}},expression:"{ path: 'auth_form.login_link_sent', args: { email: user.email }}"}]}),n("br"),e.attempts<3?n("span",{directives:[{name:"t",rawName:"v-t",value:"auth_form.instructions",expression:"'auth_form.instructions'"}]}):e._e()]):e._e(),e.attempts>=3?n("div",{directives:[{name:"t",rawName:"v-t",value:"auth_form.too_many_attempts",expression:"'auth_form.too_many_attempts'"}],staticClass:"lmo-validation-error"}):e._e(),e.user.sentPasswordLink?n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.password_link_sent",args:{email:e.user.email}},expression:"{ path: 'auth_form.password_link_sent', args: { email: user.email }}"}],staticClass:"mb-4"}):e._e(),e.user.sentLoginLink&&e.attempts<3?n("div",{staticClass:"auth-complete__code-input mb-4"},[n("div",{staticClass:"auth-complete__code mx-auto",staticStyle:{"max-width":"256px"}},[n("v-text-field",{staticClass:"headline lmo-primary-form-input",attrs:{outlined:"",label:"Code",placeholder:e.$t("auth_form.code"),type:"integer",maxlength:"6"},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}})],1),n("span",{directives:[{name:"t",rawName:"v-t",value:"auth_form.check_spam_folder",expression:"'auth_form.check_spam_folder'"}]})]):e._e()],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"auth_form.sign_in",expression:"'auth_form.sign_in'"}],attrs:{color:"primary",loading:e.loading,disabled:!e.user.code||e.loading},on:{click:function(t){return e.submit()}}})],1)],1)},Hm=[],Gm={mixins:[Ao],props:{user:Object},data:function(){return{attempts:0,loading:!1}},methods:{submit:function(){var e=this;return this.loading=!0,pp.signIn(this.user).finally((function(){return e.attempts+=1,e.loading=!1}))}}},Km=Gm,Wm=(n("de89"),Object(L["a"])(Km,zm,Hm,!1,null,null,null)),Ym=Wm.exports;q()(Wm,{SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardTitle:un["d"],VIcon:Tt["a"],VSheet:Vc["a"],VSpacer:Oo["a"],VTextField:Zt["a"]});var Qm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"auth-form"},[n("v-card-title",[n("h1",{staticClass:"headline",attrs:{tabindex:"-1",role:"status","aria-live":"polite"}},[e.$te("auth_form.sign_up_or_log_in",{locale:e.userLocale})?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.sign_up_or_log_in",args:{site_name:e.siteName}},expression:"{ path: 'auth_form.sign_up_or_log_in', args: { site_name: siteName } }"}]}):n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.sign_in_to_loomio",args:{site_name:e.siteName}},expression:"{ path: 'auth_form.sign_in_to_loomio', args: { site_name: siteName } }"}]})]),n("v-spacer"),e.preventClose?e._e():n("dismiss-modal-button")],1),n("v-sheet",{staticClass:"py-4 pb-4"},[e.pendingGroup?n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.youre_invited",args:{group_name:e.pendingGroup.name}},expression:"{path: 'auth_form.youre_invited', args: {group_name: pendingGroup.name}}"}],staticClass:"headline text-center"}):e._e(),e.pendingDiscussion?n("p",{directives:[{name:"t",rawName:"v-t",value:"auth_form.youre_invited_discussion",expression:"'auth_form.youre_invited_discussion'"}],staticClass:"headline text-center"}):e._e(),e.pendingPoll?n("p",{directives:[{name:"t",rawName:"v-t",value:"auth_form.youre_invited_poll",expression:"'auth_form.youre_invited_poll'"}],staticClass:"headline text-center"}):e._e(),e.isInvitedNewUser?n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.existing_account_can_sign_in",args:{site_name:e.siteName}},expression:"{path: 'auth_form.existing_account_can_sign_in', args: { site_name: siteName } }"}],staticClass:"text-center caption"}):e._e(),n("auth-provider-form",{attrs:{user:e.user}}),e.emailLogin?n("auth-email-form",{attrs:{user:e.user}}):e._e(),n("div",{staticClass:"text-center caption mt-4"},[n("a",{directives:[{name:"t",rawName:"v-t",value:"auth_form.sign_in_help",expression:"'auth_form.sign_in_help'"}],staticClass:"auth-form__sign-in-help",attrs:{href:"https://help.loomio.org/en/user_manual/users/sign_in/",target:"_blank"}})]),e.privacyUrl?n("div",{staticClass:"auth-form__privacy-notice caption text-center mt-4",domProps:{innerHTML:e._s(e.$t("auth_form.privacy_notice",{siteName:e.siteName,privacyUrl:e.privacyUrl}))}}):e._e()],1)],1)},Zm=[],Jm={props:{user:Object,preventClose:Boolean},data:function(){return{emailLogin:a["a"].features.app.email_login,siteName:a["a"].theme.site_name,privacyUrl:a["a"].theme.privacy_url,isDisabled:!1,pendingGroup:null}},created:function(){var e=this;return this.watchRecords({key:"authForm",collections:["groups"],query:function(t){return e.pendingGroup=t.groups.find(e.pendingIdentity.group_id)}})},computed:{userLocale:function(){return c["a"].user().locale},isInvitedNewUser:function(){return!1===a["a"].pending_identity.email_verified},loginComplete:function(){return this.user.sentLoginLink||this.user.sentPasswordLink},pendingDiscussion:function(){return"discussion_reader"===this.pendingIdentity.identity_type},pendingPoll:function(){return"stance"===this.pendingIdentity.identity_type},pendingIdentity:function(){return a["a"].pending_identity||{}}}},Xm=Jm,ef=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth-email-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}}},[n("div",{staticClass:"auth-email-form__email"},[n("v-text-field",{staticClass:"lmo-primary-form-input",attrs:{id:"email",outlined:"",name:"email",type:"email",placeholder:e.$t("auth_form.email_placeholder"),label:e.$t("common.email_address"),autocomplete:"username email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("validation-errors",{attrs:{subject:e.user,field:"email"}}),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"auth_form.continue_with_email",expression:"'auth_form.continue_with_email'"}],staticClass:"auth-email-form__submit",attrs:{color:"primary",disabled:!e.email,loading:e.loading},on:{click:function(t){return e.submit()}}})],1)])},tf=[],nf={props:{user:Object},data:function(){return{email:this.user.email,loading:!1}},watch:{"user.email":function(){return this.email=this.user.email}},methods:{submit:function(){var e=this;if(this.validateEmail())return this.user.email=this.email,this.loading=!0,pp.emailStatus(this.user).finally((function(){return e.loading=!1}))},validateEmail:function(){return this.user.errors={},this.email?this.email.match(/[^\s,;<>]+?@[^\s,;<>]+\.[^\s,;<>]+/g)||(this.user.errors.email=[this.$t("auth_form.invalid_email")]):this.user.errors.email=[this.$t("auth_form.email_not_present")],null==this.user.errors.email}}},of=nf,rf=(n("571d"),Object(L["a"])(of,ef,tf,!1,null,null,null)),af=rf.exports;q()(rf,{VBtn:Pn["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var sf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.providers.length?n("div",{staticClass:"auth-provider-form"},[n("v-layout",{staticClass:"auth-provider-form__providers",attrs:{column:""}},[e._l(e.providers,(function(t){return n("v-btn",{key:t.id,staticClass:"auth-provider-form__provider my-2",attrs:{outlined:"",color:e.providerColor(t.name)},on:{click:function(n){return e.select(t)}}},[n("v-icon",[e._v(e._s(e.iconClass(t.name)))]),n("space"),n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.continue_with_provider",args:{provider:e.capitalize(t.name)}},expression:"{ path: 'auth_form.continue_with_provider', args: { provider: capitalize(provider.name) } }"}]})],1)})),e.emailLogin?n("p",{directives:[{name:"t",rawName:"v-t",value:"auth_form.or_enter_your_email",expression:"'auth_form.or_enter_your_email'"}],staticClass:"my-2 text-center auth-email-form__or-enter-email"}):e._e()],2)],1):e._e()},cf=[],lf={props:{user:Object},methods:{capitalize:O.a,select:function(e){return window.location="".concat(e.href,"?back_to=").concat(window.location.href)},iconClass:function(e){return"mdi-"+("saml"===e?"key-variant":e)},providerColor:function(e){switch(e){case"facebook":return"#3b5998";case"google":return"#dd4b39";case"slack":return"#e9a820";case"saml":return this.$vuetify.theme.themes.light.primary}}},computed:{emailLogin:function(){return a["a"].features.app.email_login},providers:function(){return a["a"].identityProviders.filter((function(e){return"slack"!==e.name}))}}},uf=lf,df=(n("0bb5"),Object(L["a"])(uf,sf,cf,!1,null,null,null)),pf=df.exports;q()(df,{Space:jt["a"],VBtn:Pn["a"],VIcon:Tt["a"],VLayout:Q["a"]});var mf=Object(L["a"])(Xm,Qm,Zm,!1,null,null,null),ff=mf.exports;q()(mf,{AuthEmailForm:af,AuthProviderForm:pf,DismissModalButton:er,VCard:Kt["a"],VCardTitle:un["d"],VSheet:Vc["a"],VSpacer:Oo["a"]});var hf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"auth-identity-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}}},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.hello",args:{name:e.user.name||e.user.email}},expression:"{ path: 'auth_form.hello', args: { name: user.name || user.email } }"}],staticClass:"headline",attrs:{tabindex:"-1",role:"status","aria-live":"polite"}}),n("v-spacer"),n("v-btn",{staticClass:"back-button",attrs:{icon:"",title:e.$t("common.action.back")},on:{click:function(t){e.user.authForm=null}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-sheet",{staticClass:"mx-4 pb-4"},[n("div",{staticClass:"mb-4 text-center"},[n("v-layout",{attrs:{"justify-center":""}},[n("auth-avatar",{attrs:{user:e.user}})],1)],1),n("div",{staticClass:"mb-4 text-center"}),n("div",{staticClass:"auth-identity-form__options"},[n("div",{staticClass:"auth-identity-form__new-account mb-8"},[n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.new_to_loomio",args:{site_name:e.siteName}},expression:"{ path: 'auth_form.new_to_loomio', args: { site_name: siteName } }"}],staticClass:"text-center"}),n("v-layout",{attrs:{"justify-center":""}},[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"auth_form.create_account",expression:"'auth_form.create_account'"}],attrs:{color:"primary",disabled:e.email.length>0},on:{click:function(t){return e.createAccount()}}})],1)],1),n("div",{staticClass:"auth-identity-form__existing-account"},[n("div",{staticClass:"auth-email-form__email"},[n("p",{directives:[{name:"t",rawName:"v-t",value:"auth_form.already_a_user",expression:"'auth_form.already_a_user'"}],staticClass:"text-center"}),n("v-text-field",{staticClass:"lmo-primary-form-input",attrs:{id:"email",name:"email",type:"text",placeholder:e.$t("auth_form.email_address_of_existing_account")},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("validation-errors",{attrs:{subject:e.user,field:e.email}})],1),n("v-layout",{attrs:{"justify-center":""}},[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"auth_form.link_accounts",expression:"'auth_form.link_accounts'"}],attrs:{color:"primary",loading:e.loading,disabled:0==e.email.length},on:{click:function(t){return e.submit()}}})],1)],1)])])],1)},_f=[],vf={props:{user:Object,identity:Object},data:function(){return{loading:!1,email:""}},methods:{submit:function(){var e=this;return this.loading=!0,this.user.email=this.email,pp.sendLoginLink(this.user).then((function(){}),(function(){return e.user.errors={email:[e.$t("auth_form.email_not_found")]}})).finally((function(){return e.loading=!1}))},createAccount:function(){return this.user.createAccount=!0,this.user.authForm="signUp"}},computed:{siteName:function(){return a["a"].theme.site_name}}},bf=vf,gf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth-avatar"},[n("user-avatar",{staticClass:"auth-avatar__avatar",attrs:{user:e.avatarUser,size:"large","no-link":!0}})],1)},yf=[],kf={props:{user:Object},data:function(){return{avatarUser:{}}},mounted:function(){return this.user||(this.user={avatarKind:"initials`"}),["initials","mdi-email-outline"].includes(this.user.avatarKind)?this.avatarUser=j["a"].users.build({avatarKind:"uploaded",avatarUrl:{small:"/img/mascot.png",medium:"/img/mascot.png",large:"/img/mascot.png"}}):this.avatarUser=this.user}},wf=kf,xf=Object(L["a"])(wf,gf,yf,!1,null,null,null),Cf=xf.exports;q()(xf,{UserAvatar:It["a"]});var Of=Object(L["a"])(bf,hf,_f,!1,null,null,null),jf=Of.exports;q()(Of,{AuthAvatar:Cf,VBtn:Pn["a"],VCard:Kt["a"],VCardTitle:un["d"],VIcon:Tt["a"],VLayout:Q["a"],VSheet:Vc["a"],VSpacer:Oo["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var Sf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"auth-signin-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}}},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.welcome_back",args:{name:e.user.name}},expression:"{ path: 'auth_form.welcome_back', args: { name: user.name } }"}],staticClass:"headline",attrs:{tabindex:"-1",role:"status","aria-live":"assertive"}}),n("v-spacer"),n("v-btn",{staticClass:"back-button",attrs:{icon:"",title:e.$t("common.action.back")},on:{click:function(t){e.user.authForm=null}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-sheet",{staticClass:"mx-4 pb-4"},[n("submit-overlay",{attrs:{value:e.loading}}),n("v-layout",{attrs:{"justify-center":""}},[n("auth-avatar",{attrs:{user:e.user}})],1),e.user.hasToken?n("div",{staticClass:"auth-signin-form__token text-center"},[n("validation-errors",{attrs:{subject:e.user,field:"token"}}),e.user.errors.token?e._e():n("v-btn",{staticClass:"my-4 auth-signin-form__submit",attrs:{color:"primary",loading:e.loading},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.sign_in_as",args:{name:e.user.name}},expression:"{ path: 'auth_form.sign_in_as', args: {name: user.name}}"}]})]),e.user.errors.token?n("v-btn",{staticClass:"my-4 auth-signin-form__submit",attrs:{color:"primary",loading:e.loading},on:{click:function(t){return e.sendLoginLink()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"auth_form.login_link",expression:"'auth_form.login_link'"}]})]):e._e(),n("p",[n("span",{directives:[{name:"t",rawName:"v-t",value:"auth_form.set_password_helptext",expression:"'auth_form.set_password_helptext'"}],staticClass:"mr-1"}),n("a",{directives:[{name:"t",rawName:"v-t",value:"auth_form.set_password",expression:"'auth_form.set_password'"}],staticClass:"lmo-pointer",on:{click:function(t){return e.signInAndSetPassword()}}})])],1):e._e(),e.user.hasToken?e._e():n("div",{staticClass:"auth-signin-form__no-token"},[e.user.hasPassword?n("div",{staticClass:"auth-signin-form__password"},[n("p",{directives:[{name:"t",rawName:"v-t",value:"auth_form.enter_your_password",expression:"'auth_form.enter_your_password'"}],staticClass:"text-center my-2"}),n("v-text-field",{attrs:{id:"password",label:e.$t("auth_form.password"),name:"password",type:"password",outlined:"",autofocus:"",required:"",autocomplete:"current-password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("validation-errors",{attrs:{subject:e.user,field:"password"}}),n("v-card-actions",[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:e.user.hasPassword?"auth_form.forgot_password":"auth_form.login_link",expression:"user.hasPassword ? 'auth_form.forgot_password' : 'auth_form.login_link'"}],staticClass:"auth-signin-form__login-link",attrs:{color:e.user.hasPassword?"":"primary",loading:!e.user.password&&e.loading},on:{click:function(t){return e.sendLoginLink()}}}),n("v-spacer"),e.user.hasPassword?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"auth_form.sign_in",expression:"'auth_form.sign_in'"}],staticClass:"auth-signin-form__submit",attrs:{color:e.user.hasPassword?"primary":"",disabled:!e.user.password,loading:e.user.password&&e.loading},on:{click:function(t){return e.submit()}}}):e._e()],1)],1):e._e(),e.user.hasPassword?e._e():n("div",{staticClass:"auth-signin-form__no-password"},[n("v-card-actions",{staticClass:"justify-space-around"},[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"auth_form.sign_in_via_email",expression:"'auth_form.sign_in_via_email'"}],staticClass:"auth-signin-form__submit",attrs:{color:"primary",loading:e.loading},on:{click:function(t){return e.sendLoginLink()}}})],1)],1)])],1)],1)},If=[],Pf={mixins:[Ao],props:{user:Object},data:function(){return{siteName:a["a"].theme.site_name,vars:{},loading:!1}},methods:{signIn:function(){var e=this;return null!=this.vars.name&&(this.user.name=this.vars.name),this.loading=!0,pp.signIn(this.user).finally((function(){return e.loading=!1}))},signInAndSetPassword:function(){var e=this;return this.loading=!0,this.signIn().then((function(){return e.loading=!1,S["a"].$emit("openModal",{component:"ChangePasswordForm",props:{user:c["a"].user()}})}))},sendLoginLink:function(){var e=this;return this.loading=!0,pp.sendLoginLink(this.user).finally((function(){return e.loading=!1}))},submit:function(){return this.user.hasPassword||this.user.hasToken?this.signIn():this.sendLoginLink()}}},Tf=Pf,Af=(n("aba1"),Object(L["a"])(Tf,Sf,If,!1,null,null,null)),Rf=Af.exports;q()(Af,{AuthAvatar:Cf,SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardTitle:un["d"],VIcon:Tt["a"],VLayout:Q["a"],VSheet:Vc["a"],VSpacer:Oo["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var Vf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"auth-signup-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}}},[e.allow?[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.welcome",args:{siteName:e.siteName}},expression:"{ path: 'auth_form.welcome', args: { siteName: siteName } }"}],staticClass:"headline",attrs:{tabindex:"-1",role:"status","aria-live":"assertive"}}),n("v-spacer"),n("v-btn",{staticClass:"back-button",attrs:{icon:"",title:e.$t("common.action.back")},on:{click:function(t){e.user.authForm=null}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-sheet",{staticClass:"mx-4"},[n("submit-overlay",{attrs:{value:e.loading}}),n("div",{staticClass:"auth-signup-form__welcome text-center my-2"},[n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"auth_form.sign_up_as",args:{email:e.user.email}},expression:"{path: 'auth_form.sign_up_as', args: {email: user.email}}"}]})]),n("div",{staticClass:"auth-signup-form__name"},[n("v-text-field",{attrs:{type:"text",label:e.$t("auth_form.name_placeholder"),placeholder:e.$t("auth_form.enter_your_name"),outlined:"",required:"true"},model:{value:e.vars.name,callback:function(t){e.$set(e.vars,"name",t)},expression:"vars.name"}}),n("validation-errors",{attrs:{subject:e.user,field:"legalAccepted"}}),n("validation-errors",{attrs:{subject:e.user,field:"email"}}),n("validation-errors",{attrs:{subject:e.user,field:"recaptcha"}})],1),e.termsUrl?n("div",{staticClass:"auth-signup-form__consent"},[n("v-checkbox",{staticClass:"auth-signup-form__legal-accepted",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{domProps:{innerHTML:e._s(e.$t("auth_form.i_accept",{termsUrl:e.termsUrl,privacyUrl:e.privacyUrl}))}})]},proxy:!0}],null,!1,819565350),model:{value:e.vars.legalAccepted,callback:function(t){e.$set(e.vars,"legalAccepted",t)},expression:"vars.legalAccepted"}})],1):e._e(),e.newsletterEnabled?n("div",{staticClass:"auth-signup-form__newsletter"},[n("v-checkbox",{staticClass:"auth-signup-form__newsletter-accepted",attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{domProps:{innerHTML:e._s(e.$t("auth_form.newsletter_label"))}})]},proxy:!0}],null,!1,3118214110),model:{value:e.vars.emailNewsletter,callback:function(t){e.$set(e.vars,"emailNewsletter",t)},expression:"vars.emailNewsletter"}})],1):e._e()],1),n("v-card-actions",{staticClass:"mt-8"},[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"auth_form.create_account",expression:"'auth_form.create_account'"}],staticClass:"auth-signup-form__submit",attrs:{color:"primary",loading:e.loading,disabled:!e.vars.name||e.termsUrl&&!e.vars.legalAccepted},on:{click:function(t){return e.submit()}}})],1),e.useRecaptcha?n("vue-recaptcha",{ref:"invisibleRecaptcha",attrs:{sitekey:e.recaptchaKey,loadRecaptchaScript:!0,size:"invisible"},on:{verify:e.submitForm}}):e._e()]:[e.allow?e._e():n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"auth_form.invitation_required",expression:"'auth_form.invitation_required'"}],staticClass:"headline",attrs:{tabindex:"-1",role:"status","aria-live":"assertive"}}),n("v-spacer"),n("v-btn",{staticClass:"back-button",attrs:{icon:"",title:e.$t("common.action.back")},on:{click:function(t){e.user.authForm=null}}},[n("v-icon",[e._v("mdi-close")])],1)],1)]],2)},$f=[],Nf=n("e096"),Ef={components:{VueRecaptcha:Nf["a"]},mixins:[Ao],props:{user:Object},mounted:function(){return S["a"].$emit("set-auth-modal-title","auth_form.create_account")},data:function(){return{siteName:a["a"].theme.site_name,vars:{name:this.user.name,site_name:a["a"].theme.site_name},loading:!1}},methods:{submit:function(){return this.useRecaptcha?this.$refs.invisibleRecaptcha.execute():this.submitForm()},submitForm:function(e){var t=this;if(this.user.recaptcha=e,pp.validSignup(this.vars,this.user))return this.loading=!0,pp.signUp(this.user).finally((function(){return t.loading=!1}))}},computed:{recaptchaKey:function(){return a["a"].recaptchaKey},termsUrl:function(){return a["a"].theme.terms_url},privacyUrl:function(){return a["a"].theme.privacy_url},newsletterEnabled:function(){return a["a"].newsletterEnabled},allow:function(){return a["a"].features.app.create_user||null!=a["a"].pendingIdentity.identity_type},useRecaptcha:function(){return this.recaptchaKey}}},Mf=Ef,Df=Object(L["a"])(Mf,Vf,$f,!1,null,null,null),Lf=Df.exports;q()(Df,{SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardTitle:un["d"],VCheckbox:Ea["a"],VIcon:Tt["a"],VSheet:Vc["a"],VSpacer:Oo["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var Ff=Object(L["a"])(Bm,$m,Nm,!1,null,null,null),qf=Ff.exports;q()(Ff,{AuthComplete:Ym,AuthForm:ff,AuthIdentityForm:jf,AuthSigninForm:Rf,AuthSignupForm:Lf});var Uf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"membership-request-form"},[n("submit-overlay",{attrs:{value:e.membershipRequest.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"membership_request_form.heading",expression:"'membership_request_form.heading'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{close:e.close}})],1),n("v-card-text",[e.isSignedIn?e._e():n("div",{staticClass:"membership-request-form__visitor"},[n("v-text-field",{staticClass:"membership-request-form__name",attrs:{required:!0,label:e.$t("membership_request_form.name_label")},model:{value:e.membershipRequest.name,callback:function(t){e.$set(e.membershipRequest,"name",t)},expression:"membershipRequest.name"}}),n("v-text-field",{staticClass:"membership-request-form__email",attrs:{required:!0,label:e.$t("membership_request_form.email_label")},model:{value:e.membershipRequest.email,callback:function(t){e.$set(e.membershipRequest,"email",t)},expression:"membershipRequest.email"}}),n("validation-errors",{attrs:{subject:e.membershipRequest,field:"email"}})],1),n("div",{staticClass:"membership-request-form__reason"},[n("v-textarea",{staticClass:"membership-request-form__introduction",attrs:{required:!1,maxlength:"250",label:e.$t("membership_request_form.introduction_label")},model:{value:e.membershipRequest.introduction,callback:function(t){e.$set(e.membershipRequest,"introduction",t)},expression:"membershipRequest.introduction"}})],1)]),n("v-card-actions",[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.cancel",expression:"'common.action.cancel'"}],staticClass:"membership-request-form__cancel-btn",on:{click:function(t){return e.close()}}}),n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"membership_request_form.submit_button",expression:"'membership_request_form.submit_button'"}],staticClass:"membership-request-form__submit-btn",attrs:{color:"primary"},on:{click:function(t){return e.submit()}}})],1)],1)},Bf=[],zf={props:{group:Object,close:Function},methods:{submit:function(){var e=this;return this.membershipRequest.save().then((function(){return _e["a"].success("membership_request_form.messages.membership_requested",{group:e.group.fullName}),e.close()})).catch(Object(ir["a"])(this.membershipRequest))}},data:function(){return{membershipRequest:j["a"].membershipRequests.build({groupId:this.group.id,name:c["a"].user().name,email:c["a"].user().email,introduction:null})}},computed:{isSignedIn:function(){return c["a"].isSignedIn()}}},Hf=zf,Gf=Object(L["a"])(Hf,Uf,Bf,!1,null,null,null),Kf=Gf.exports;q()(Gf,{DismissModalButton:er,SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"],VTextField:Zt["a"],VTextarea:zu["a"],ValidationErrors:ms["a"]});var Wf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"membership-modal"},[n("submit-overlay",{attrs:{value:e.membership.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"membership_form.modal_title.group",expression:"'membership_form.modal_title.group'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button")],1),n("v-card-text",{staticClass:"membership-form"},[n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"membership_form.title_helptext.group",args:{name:e.membership.user().name}},expression:"{ path: 'membership_form.title_helptext.group', args: { name: membership.user().name } }"}],staticClass:"text--secondary membership-form__helptext"}),n("label",{directives:[{name:"t",rawName:"v-t",value:"membership_form.title_label",expression:"'membership_form.title_label'"}],attrs:{for:"membership-title"}}),n("v-text-field",{staticClass:"membership-form__title-input lmo-primary-form-input",attrs:{id:"membership-title",autofocus:"",placeholder:e.$t("membership_form.title_placeholder"),maxlength:"255"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.membership.title,callback:function(t){e.$set(e.membership,"title",t)},expression:"membership.title"}}),n("validation-errors",{attrs:{subject:e.membership,field:"title"}})],1),n("v-card-actions",{staticClass:"membership-form-actions"},[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}],staticClass:"membership-form__submit",attrs:{color:"primary"},on:{click:function(t){return e.submit()}}})],1)],1)},Yf=[],Qf={props:{membership:Object},data:function(){return{isDisabled:!1}},methods:{submit:function(){var e=this;return this.membership.save().then((function(){return _e["a"].success("membership_form.updated"),e.closeModal()})).catch(Object(ir["a"])(this.membership))}}},Zf=Qf,Jf=Object(L["a"])(Zf,Wf,Yf,!1,null,null,null),Xf=Jf.exports;q()(Jf,{DismissModalButton:er,SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var eh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"change-password-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.processing,expression:"processing"}],staticClass:"lmo-disabled-form"}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"change_password_form.set_password_title",expression:"'change_password_form.set_password_title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{close:e.close}})],1),n("v-card-text",[n("p",{directives:[{name:"t",rawName:"v-t",value:"change_password_form.set_password_helptext",expression:"'change_password_form.set_password_helptext'"}],staticClass:"text--secondary"}),n("div",{staticClass:"change-password-form__password-container"},[n("v-text-field",{staticClass:"change-password-form__password",attrs:{label:e.$t("sign_up_form.password_label"),required:"",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("validation-errors",{attrs:{subject:e.user,field:"password"}})],1),n("div",{staticClass:"change-password-form__password-confirmation-container"},[n("v-text-field",{staticClass:"change-password-form__password-confirmation",attrs:{label:e.$t("sign_up_form.password_confirmation_label"),required:"true",type:"password",autocomplete:"new-password"},model:{value:e.user.passwordConfirmation,callback:function(t){e.$set(e.user,"passwordConfirmation",t)},expression:"user.passwordConfirmation"}}),n("validation-errors",{attrs:{subject:e.user,field:"passwordConfirmation"}})],1)]),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"change_password_form.set_password",expression:"'change_password_form.set_password'"}],staticClass:"change-password-form__submit",attrs:{color:"primary"},on:{click:function(t){return e.submit()}}})],1)],1)},th=[],nh={props:{user:Object,close:Function},data:function(){return{processing:!1}},created:function(){return this.user.password="",this.user.passwordConfirmation=""},methods:{submit:function(){var e=this;return j["a"].users.updateProfile(this.user).then((function(){return _e["a"].success("change_password_form.password_changed"),e.close()})).catch(Object(ir["a"])(this.user))}}},oh=nh,rh=Object(L["a"])(oh,eh,th,!1,null,null,null),ih=rh.exports;q()(rh,{DismissModalButton:er,VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var ah=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"poll-common-outcome-modal",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null}}},[n("submit-overlay",{attrs:{value:e.outcome.processing}}),n("v-card-title",[n("h1",{staticClass:"headline"},[e.outcome.isNew()?n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_outcome_form.new_title",expression:"'poll_common_outcome_form.new_title'"}]}):e._e(),e.outcome.isNew()?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_outcome_form.update_title",expression:"'poll_common_outcome_form.update_title'"}]})]),n("v-spacer"),n("dismiss-modal-button",{attrs:{model:e.outcome}})],1),n("div",{staticClass:"poll-common-outcome-form px-4"},[n("p",{directives:[{name:"t",rawName:"v-t",value:"announcement.form.outcome_announced.helptext",expression:"'announcement.form.outcome_announced.helptext'"}]}),n("recipients-autocomplete",{attrs:{label:e.$t("action_dock.notify"),placeholder:e.$t("poll_common_outcome_form.who_to_notify"),"include-actor":e.outcome.calendarInvite,model:e.outcome}}),e.datesAsOptions()?n("div",{staticClass:"poll-common-calendar-invite"},[n("div",{staticClass:"poll-common-calendar-invite__checkbox poll-common-checkbox-option"},[n("v-checkbox",{attrs:{label:e.$t("poll_common_calendar_invite.calendar_invite")},model:{value:e.outcome.calendarInvite,callback:function(t){e.$set(e.outcome,"calendarInvite",t)},expression:"outcome.calendarInvite"}})],1),e.outcome.calendarInvite?n("div",{staticClass:"poll-common-calendar-invite__form"},[n("div",{staticClass:"poll-common-calendar-invite--pad-top"},[n("v-select",{staticClass:"lmo-flex__grow",attrs:{items:e.options,"item-value":"id","item-text":"value",label:e.$t("poll_common_calendar_invite.poll_option_id")},model:{value:e.outcome.pollOptionId,callback:function(t){e.$set(e.outcome,"pollOptionId",t)},expression:"outcome.pollOptionId"}})],1),n("div",{staticClass:"poll-common-calendar-invite--pad-top"},[n("v-text-field",{staticClass:"poll-common-calendar-invite__summary",attrs:{type:"text",placeholder:e.$t("poll_common_calendar_invite.event_summary_placeholder"),label:e.$t("poll_common_calendar_invite.event_summary")},model:{value:e.outcome.customFields.event_summary,callback:function(t){e.$set(e.outcome.customFields,"event_summary",t)},expression:"outcome.customFields.event_summary"}}),n("validation-errors",{attrs:{subject:e.outcome,field:"event_summary"}}),n("v-text-field",{staticClass:"poll-common-calendar-invite__location",attrs:{type:"text",placeholder:e.$t("poll_common_calendar_invite.location_placeholder"),label:e.$t("poll_common_calendar_invite.location")},model:{value:e.outcome.customFields.event_location,callback:function(t){e.$set(e.outcome.customFields,"event_location",t)},expression:"outcome.customFields.event_location"}})],1)]):e._e()]):e._e(),n("div",{staticClass:"outcome-review-on"},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{clearable:"",label:"Review date",placeholder:"2000-12-30","prepend-icon":"mdi-calendar"},model:{value:e.outcome.reviewOn,callback:function(t){e.$set(e.outcome,"reviewOn",t)},expression:"outcome.reviewOn"}},"v-text-field",r,!1),o))]}}]),model:{value:e.isShowingDatePicker,callback:function(t){e.isShowingDatePicker=t},expression:"isShowingDatePicker"}},[n("v-date-picker",{staticClass:"outcome-review-on__datepicker",attrs:{min:e.dateToday,"no-title":""},on:{input:function(t){e.isShowingDatePicker=!1}},model:{value:e.outcome.reviewOn,callback:function(t){e.$set(e.outcome,"reviewOn",t)},expression:"outcome.reviewOn"}})],1),e.outcome.reviewOn?n("p",{directives:[{name:"t",rawName:"v-t",value:e.$t("poll_common_outcome_form.you_will_be_notified"),expression:"$t('poll_common_outcome_form.you_will_be_notified')"}]}):e._e()],1),n("lmo-textarea",{staticClass:"poll-common-outcome-form__statement lmo-primary-form-input",attrs:{model:e.outcome,field:"statement",label:e.$t("poll_common.statement"),placeholder:e.$t("poll_common_outcome_form.statement_placeholder")},scopedSlots:e._u([{key:"actions",fn:function(){return[n("v-btn",{staticClass:"poll-common-outcome-form__submit",attrs:{color:"primary",loading:e.outcome.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}]})])]},proxy:!0}])}),n("validation-errors",{attrs:{subject:e.outcome,field:"statement"}})],1)],1)},sh=[],ch={components:{RecipientsAutocomplete:pd["a"]},props:{outcome:Object,close:Function},data:function(){return{options:[],bestOption:null,isDisabled:!1,review:!1,isShowingDatePicker:!1,dateToday:Object(hc["a"])(new Date,"yyyy-MM-dd")}},created:function(){if(this.datesAsOptions())return this.options=ze()(this.outcome.poll().pollOptions(),(function(e){return{id:e.id,value:Object(Te["b"])(Object(fc["a"])(e.name)),attendees:e.stances().length}})),this.bestOption=ap()(on()(this.options,(function(e){return-1*e.attendees}))),i["a"].set(this.outcome,"calendarInvite",!0),this.outcome.pollOptionId=this.outcome.pollOptionId||this.bestOption.id,this.outcome.customFields.event_summary=this.outcome.customFields.event_summary||this.outcome.poll().title},methods:{submit:function(){var e,t=this;return this.outcome.customFields.should_send_calendar_invite=this.outcome.calendarInvite,this.datesAsOptions()&&(this.outcome.customFields.event_description=this.outcome.statement),this.outcome.calendarInvite&&(this.outcome.includeActor=1),e=this.outcome.isNew()?"created":"updated",this.outcome.save().then((function(n){return _e["a"].success("poll_common_outcome_form.outcome_".concat(e)),t.closeModal()})).catch(Object(ir["a"])(this.outcome))},datesAsOptions:function(){return Object(De["a"])(this.outcome.poll().pollType,"dates_as_options")},newRecipients:function(e){return this.recipients=e,this.outcome.recipientAudience=(e.find((function(e){return"audience"===e.type}))||{}).id,this.outcome.recipientUserIds=ze()(Sc()(e,(function(e){return"user"===e.type})),"id"),this.outcome.recipientEmails=ze()(Sc()(e,(function(e){return"email"===e.type})),"name")}}},lh=ch,uh=n("2e4b"),dh=Object(L["a"])(lh,ah,sh,!1,null,null,null),ph=dh.exports;q()(dh,{DismissModalButton:er,LmoTextarea:us["a"],SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardTitle:un["d"],VCheckbox:Ea["a"],VDatePicker:uh["a"],VMenu:Rc["a"],VSelect:Rn["a"],VSpacer:Oo["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var mh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"poll-common-reopen-modal"},[n("submit-overlay",{attrs:{value:e.poll.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_reopen_form.title",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_reopen_form.title', args: {poll_type: poll.translatedPollType()}}"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button")],1),n("v-card-text",{staticClass:"poll-common-reopen-form"},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_reopen_form.helptext",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_reopen_form.helptext', args: {poll_type: poll.translatedPollType()}}"}],staticClass:"text--secondary"}),n("poll-common-closing-at-field",{attrs:{poll:e.poll}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"poll-common-reopen-form__submit",attrs:{color:"primary",loading:e.poll.processing},on:{click:e.submit}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.reopen",expression:"'common.action.reopen'"}]})])],1)],1)},fh=[],hh={props:{poll:Object,close:Function},created:function(){return this.poll.closingAt=Object(N["a"])(new Date,7)},methods:{submit:function(){var e=this;return this.poll.reopen().then((function(){return e.poll.processing=!1,_e["a"].success("poll_common_reopen_form.success",{poll_type:e.poll.translatedPollType()}),e.close()})).catch(Object(ir["a"])(this.poll))}},data:function(){return{isDisabled:!1}}},_h=hh,vh=n("6609"),bh=Object(L["a"])(_h,mh,fh,!1,null,null,null),gh=bh.exports;q()(bh,{DismissModalButton:er,PollCommonClosingAtField:vh["a"],SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"]});var yh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"move-thread-form"},[n("submit-overlay",{attrs:{value:e.discussion.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"move_thread_form.title",expression:"'move_thread_form.title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button")],1),n("v-card-text",[n("v-select",{staticClass:"move-thread-form__group-dropdown",attrs:{id:"group-dropdown",required:!0,items:e.availableGroups,"item-value":"id","item-text":"fullName",label:e.$t("move_thread_form.body")},on:{change:function(t){return e.updateTarget()}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("v-list-item-content",{staticClass:"group-dropdown-item"},[n("v-list-item-title",{staticClass:"group-dropdown-item-group-name"},[n("span",[e._v(e._s(t.item.fullName))])])],1)]}}]),model:{value:e.discussion.groupId,callback:function(t){e.$set(e.discussion,"groupId",t)},expression:"discussion.groupId"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"move_thread_form.confirm",expression:"'move_thread_form.confirm'"}],staticClass:"move-thread-form__submit",attrs:{color:"primary",type:"button"},on:{click:function(t){return e.moveThread()}}})],1)],1)},kh=[],wh={props:{discussion:Object},data:function(){return{targetGroup:null,availableGroups:[]}},created:function(){var e=this;return this.updateTarget(),this.watchRecords({collections:["groups","memberships"],query:function(t){return e.availableGroups=Sc()(c["a"].user().groups(),(function(t){return t.id!==e.discussion.groupId}))}})},methods:{submit:function(){var e=this;return this.discussion.move().then((function(t){var n;return _e["a"].success("move_thread_form.messages.success",{name:e.discussion.group().name}),n=t.discussions[0].key,j["a"].discussions.findOrFetchById(n,{},!0).then((function(t){return e.close(),e.$router.push("/d/".concat(n))}))})).catch(Object(ir["a"])(this.discussion))},updateTarget:function(){return this.targetGroup=j["a"].groups.find(this.discussion.groupId)},moveThread:function(){return this.discussion.private&&this.targetGroup.privacyIsOpen()?confirm(ru["a"].t("move_thread_form.confirm_change_to_private_thread",{groupName:this.targetGroup.name}))?this.submit():void 0:this.submit()}}},xh=wh,Ch=Object(L["a"])(xh,yh,kh,!1,null,null,null),Oh=Ch.exports;q()(Ch,{DismissModalButton:er,SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VListItemContent:$t["a"],VListItemTitle:$t["c"],VSelect:Rn["a"],VSpacer:Oo["a"]});var jh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"poll-common-move-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null}}},[n("submit-overlay",{attrs:{value:e.poll.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_move_form.title",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_move_form.title', args: {poll_type: poll.translatedPollType() }}"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button")],1),n("v-card-text",[e.groups.length?e._e():n("loading"),e.groups.length?n("v-select",{attrs:{items:e.groups,label:e.$t("move_thread_form.body")},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}}):e._e()],1),n("v-card-actions",{staticClass:"poll-common-form-actions"},[n("v-spacer"),n("v-btn",{staticClass:"poll-common-form__submit",attrs:{color:"primary",loading:e.poll.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.move",expression:"'common.action.move'"}]})])],1)],1)},Sh=[],Ih={props:{poll:Object,close:Function},data:function(){return{groupId:this.poll.groupId,groups:[]}},mounted:function(){var e,t=this;return e=this.poll.group().parentOrSelf(),j["a"].groups.fetchByParent(e).then((function(){var n;return n=[e].concat(j["a"].groups.find({parentId:e.id})).filter((function(e){return e.adminsInclude(c["a"].user())})),v()(n,"fullName"),t.groups=ze()(n,(function(e){return{text:e.fullName,value:e.id,disabled:e.id===t.poll.groupId}}))}))},methods:{submit:function(){var e=this;return this.poll.setErrors({}),this.poll.groupId=this.groupId,this.poll.save().then((function(t){var n;return n=j["a"].groups.find(e.groupId),_e["a"].success("poll_common_move_form.success",{poll_type:e.poll.translatedPollType(),group:n.name}),e.close()})).catch(Object(ir["a"])(this.poll))}}},Ph=Ih,Th=Object(L["a"])(Ph,jh,Sh,!1,null,null,null),Ah=Th.exports;q()(Th,{DismissModalButton:er,Loading:X,SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSelect:Rn["a"],VSpacer:Oo["a"]});var Rh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"poll-common-add-option-modal"},[n("submit-overlay",{attrs:{value:e.poll.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"poll_common_add_option.modal.title",expression:"'poll_common_add_option.modal.title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{close:e.close}})],1),n("v-card-text",["meeting"!=e.poll.pollType?n("poll-common-form-options-field",{attrs:{poll:e.poll,"add-options-only":""}}):e._e(),"meeting"==e.poll.pollType?n("poll-meeting-form-options-field",{attrs:{poll:e.poll,"add-options-only":""}}):e._e()],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"poll-add-option__submit",attrs:{color:"primary",disabled:e.poll.pollOptionNames.length==e.originalLength,loading:e.poll.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_add_option.form.add_options",expression:"'poll_common_add_option.form.add_options'"}]})])],1)],1)},Vh=[],$h={props:{poll:Object,close:Function},data:function(){return{originalLength:this.poll.pollOptionNames.length,isDisabled:!1}},methods:{submit:function(){var e=this;return setTimeout((function(){return e.poll.addOptions().then((function(){return e.poll.removeOrphanOptions(),_e["a"].success("poll_common_add_option.form.options_added"),e.close()})).catch(Object(ir["a"])(e.poll))}))}}},Nh=$h,Eh=n("2232"),Mh=n("7539"),Dh=Object(L["a"])(Nh,Rh,Vh,!1,null,null,null),Lh=Dh.exports;q()(Dh,{DismissModalButton:er,PollCommonFormOptionsField:Eh["a"],PollMeetingFormOptionsField:Mh["a"],SubmitOverlay:lr["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"]});var Fh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"revision-history-modal"},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"revision_history_modal."+e.model.constructor.singular+"_header",expression:"'revision_history_modal.' + model.constructor.singular + '_header'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{close:e.close}})],1),n("div",{staticClass:"revision-history-modal__body pa-4"},[n("v-layout",{attrs:{"align-center":"","justify-space-between":""}},[n("v-btn",{staticClass:"revision-history-nav--previous",attrs:{icon:"",disabled:e.isOldest},on:{click:function(t){return e.getPrevious()}}},[n("v-icon",[e._v("mdi-arrow-left")])],1),e.version?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"revision_history_modal.edit_by",args:{name:e.version.authorName(),date:e.versionDate}},expression:"{path: 'revision_history_modal.edit_by', args: {name: version.authorName(), date: versionDate}}"}]}):e._e(),n("v-btn",{staticClass:"revision-history-nav--next",attrs:{icon:"",disabled:e.isNewest},on:{click:function(t){return e.getNext()}}},[n("v-icon",[e._v("mdi-arrow-right")])],1)],1),n("v-divider",{staticClass:"mb-3"}),e.version?n("revision-history-content",{attrs:{model:e.model,version:e.version}}):e._e()],1)],1)},qh=[],Uh={props:{model:Object,close:Function},created:function(){return this.getVersion(this.model.versionsCount-1)},data:function(){return{index:1,version:null}},methods:{getVersion:function(e){var t=this;return this.index=e,this.version=null,j["a"].versions.fetchVersion(this.model,e).then((function(e){return t.version=j["a"].versions.find(e.versions[0].id)}))},getNext:function(){if(!this.isNewest)return this.getVersion(this.index+1)},getPrevious:function(){if(!this.isOldest)return this.getVersion(this.index-1)}},computed:{versionDate:function(){return Object(Te["b"])(this.version.createdAt)},isOldest:function(){return 0===this.index},isNewest:function(){return this.index===this.model.versionsCount-1}}},Bh=Uh,zh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"revision-history-content"},[e.titleChanges?n("div",{staticClass:"mb-3"},[n("v-label",{directives:[{name:"t",rawName:"v-t",value:"discussion_form.title_label",expression:"'discussion_form.title_label'"}]}),n("html-diff",{staticClass:"headline",attrs:{before:e.titleChanges[0],after:e.titleChanges[1]}})],1):e._e(),e.otherFields.length?n("div",{staticClass:"mb-3"},[n("v-simple-table",{attrs:{dense:""}},[n("tr",[n("th",{directives:[{name:"t",rawName:"v-t",value:"revision_history_modal.field",expression:"'revision_history_modal.field'"}]}),n("th",{directives:[{name:"t",rawName:"v-t",value:"revision_history_modal.before",expression:"'revision_history_modal.before'"}]}),n("th",{directives:[{name:"t",rawName:"v-t",value:"revision_history_modal.after",expression:"'revision_history_modal.after'"}]})]),e._l(e.otherFields,(function(t){return n("tr",[n("td",[e._v(e._s(t.key))]),n("td",[e._v(e._s(t.was))]),n("td",[e._v(e._s(t.now))])])}))],2)],1):e._e(),e.bodyChanges?n("div",{staticClass:"mb-3"},[n("v-label",{directives:[{name:"t",rawName:"v-t",value:e.bodyLabel,expression:"bodyLabel"}]}),n("html-diff",{staticClass:"lmo-markdown-wrapper",attrs:{before:e.bodyChanges[0],after:e.bodyChanges[1]}})],1):e._e()])},Hh=[],Gh=n("1d32"),Kh=n.n(Gh);jn.a.setOptions(Object.assign({renderer:Object(Ha["a"])()},Ha["b"]));var Wh,Yh,Qh,Zh,Jh,Xh,e_,t_,n_,o_,r_,i_,a_,s_,c_,l_,u_,d_={props:{model:Object,version:Object},methods:{exact:Te["b"]},computed:{modelKind:function(){return this.model.constructor.singular},bodyField:function(){switch(this.model.constructor.singular){case"comment":return"body";case"stance":return"reason";case"discussion":return"description";case"poll":return"details";case"outcome":return"statement"}},bodyChanges:function(){return this.version&&this.version.objectChanges&&this.version.objectChanges[this.bodyField]?"md"===this.model[this.bodyField+"Format"]?this.version.objectChanges[this.bodyField].map((function(e){return jn()(e||"")})):this.version.objectChanges[this.bodyField]:""},titleChanges:function(){return(this.version.objectChanges||{}).title},bodyLabel:function(){switch(this.model.constructor.singular){case"comment":return"activity_card.comment";case"stance":return"poll_common.reason";case"discussion":return"discussion_form.context_label";case"poll":return"poll_common.details";case"outcome":return"poll_common.statement"}},objectKeys:function(){var e;return e=function(){switch(this.model.constructor.singular){case"comment":return["body","body_format"];case"stance":return["reason","reason_format"];case"discussion":return["title","description","description_format"];case"poll":return["title","details","details_format"];case"outcome":return["statement","statement_format"]}}.call(this),Kh()(Object.keys(this.version.objectChanges||{}),(function(t){return e.includes(t)}))},otherFields:function(){var e=this;return console.log("otherFields",this.objectKeys),this.objectKeys.map((function(t){var n;return n=e.version.objectChanges[t].map((function(n){return n?t.match(/_at$/)&&Object(Te["b"])(Object(fc["a"])(n))||n:e.$t("common.empty")})),{key:t,was:n[0],now:n[1]}}))},labelFor:function(e){return e}}},p_=d_,m_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"html-diff",domProps:{innerHTML:e._s(e.diff())}})},f_=[];function h_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n_=function(e){return">"===e},o_=function(e){return"<"===e},i_=function(e){return/^\s+$/.test(e)},r_=function(e){return/^\s*<[^>]+>\s*$/.test(e)},a_=function(e){return!r_(e)},Wh=function e(t,n,o){h_(this,e),this.start_in_before=t,this.start_in_after=n,this.length=o,this.end_in_before=this.start_in_before+this.length-1,this.end_in_after=this.start_in_after+this.length-1},t_=function(e){var t,n,o,r,i,a;for(i="char",n="",a=[],o=0,r=e.length;o<r;o++)switch(t=e[o],i){case"tag":n_(t)?(n+=">",a.push(n),n="",i=i_(t)?"whitespace":"char"):n+=t;break;case"char":o_(t)?(n&&a.push(n),n="<",i="tag"):/\s/.test(t)?(n&&a.push(n),n=t,i="whitespace"):/[\w\#@]+/i.test(t)?n+=t:(n&&a.push(n),n=t);break;case"whitespace":o_(t)?(n&&a.push(n),n="<",i="tag"):i_(t)?n+=t:(n&&a.push(n),n=t,i="char");break;default:throw new Error("Unknown mode ".concat(i))}return n&&a.push(n),a},Xh=function(e,t,n,o,r,i,a){var s,c,l,u,d,p,m,f,h,_,v,b,g,y,k,w;for(c=o,s=i,l=0,b={},p=u=k=o,w=r;k<=w?u<w:u>w;p=k<=w?++u:--u){for(y={},_=e[p],h=n[_],m=0,f=h.length;m<f;m++)if(d=h[m],!(d<i)){if(d>=a)break;null==b[d-1]&&(b[d-1]=0),g=b[d-1]+1,y[d]=g,g>l&&(c=p-g+1,s=d-g+1,l=g)}b=y}return 0!==l&&(v=new Wh(c,s,l)),v},c_=function(e,t,n,o,r,i,a,s){var c;return c=Xh(e,t,n,o,r,i,a),null!=c&&(o<c.start_in_before&&i<c.start_in_after&&c_(e,t,n,o,c.start_in_before,i,c.start_in_after,s),s.push(c),c.end_in_before<=r&&c.end_in_after<=a&&c_(e,t,n,c.end_in_before+1,r,c.end_in_after+1,a,s)),s},Zh=function(e){var t,n,o,r,i,a;if(null==e.find_these)throw new Error("params must have find_these key");if(null==e.in_these)throw new Error("params must have in_these key");for(o={},i=e.find_these,t=0,r=i.length;t<r;t++){a=i[t],o[a]=[],n=e.in_these.indexOf(a);while(-1!==n)o[a].push(n),n=e.in_these.indexOf(a,n+1)}return o},e_=function(e,t){var n,o;return o=[],n=Zh({find_these:e,in_these:t}),c_(e,t,n,0,e.length,0,t.length,o)},Yh=function(e,t){var n,o,r,i,a,s,c,l,u,d,p,m,f,h,_,v,b,g;if(null==e)throw new Error("before_tokens?");if(null==t)throw new Error("after_tokens?");for(b=v=0,_=[],n={"false,false":"replace","true,false":"insert","false,true":"delete","true,true":"none"},f=e_(e,t),f.push(new Wh(e.length,t.length,0)),i=r=0,l=f.length;r<l;i=++r)d=f[i],m=b===d.start_in_before,p=v===d.start_in_after,o=n[[m,p].toString()],"none"!==o&&_.push({action:o,start_in_before:b,end_in_before:"insert"!==o?d.start_in_before-1:void 0,start_in_after:v,end_in_after:"delete"!==o?d.start_in_after-1:void 0}),0!==d.length&&_.push({action:"equal",start_in_before:d.start_in_before,end_in_before:d.end_in_before,start_in_after:d.start_in_after,end_in_after:d.end_in_after}),b=d.end_in_before+1,v=d.end_in_after+1;for(g=[],c={action:"none"},a=function(t){return"equal"===t.action&&(t.end_in_before-t.start_in_before===0&&/^\s$/.test(e.slice(t.start_in_before,+t.end_in_before+1||9e9)))},s=0,u=_.length;s<u;s++)h=_[s],a(h)&&"replace"===c.action||"replace"===h.action&&"replace"===c.action?(c.end_in_before=h.end_in_before,c.end_in_after=h.end_in_after):(g.push(h),c=h);return g},Qh=function(e,t,n){var o,r,i,a,s,c;for(t=t.slice(e,+t.length+1||9e9),a=void 0,i=r=0,s=t.length;r<s;i=++r)if(c=t[i],o=n(c),!0===o&&(a=i),!1===o)break;return null!=a?t.slice(0,+a+1||9e9):[]},u_=function(e,t){var n,o,r,i,a;i="",r=0,n=t.length;while(1){if(r>=n)break;if(o=Qh(r,t,a_),r+=o.length,0!==o.length&&(i+="<".concat(e,">").concat(o.join(""),"</").concat(e,">")),r>=n)break;a=Qh(r,t,r_),r+=a.length,i+=a.join("")}return i},s_={equal:function(e,t,n){return t.slice(e.start_in_before,+e.end_in_before+1||9e9).join("")},insert:function(e,t,n){var o;return o=n.slice(e.start_in_after,+e.end_in_after+1||9e9),u_("ins",o)},delete:function(e,t,n){var o;return o=t.slice(e.start_in_before,+e.end_in_before+1||9e9),u_("del",o)}},s_.replace=function(e,t,n){return s_.delete(e,t,n)+s_.insert(e,t,n)},l_=function(e,t,n){var o,r,i,a;for(a="",o=0,r=n.length;o<r;o++)i=n[o],a+=s_[i.action](i,e,t);return a},Jh=function(e,t){var n;return e===t?e:(e=t_(e),t=t_(t),n=Yh(e,t),l_(e,t,n))},Jh.html_to_tokens=t_,Jh.find_matching_blocks=e_,e_.find_match=Xh,e_.create_index=Zh,Jh.calculate_operations=Yh,Jh.render_operations=l_;var __=Jh,v_={props:{before:String,after:String},methods:{diff:function(){return __(this.before||"",this.after)}}},b_=v_,g_=(n("a329"),Object(L["a"])(b_,m_,f_,!1,null,null,null)),y_=g_.exports,k_=n("24c9"),w_=Object(L["a"])(p_,zh,Hh,!1,null,null,null),x_=w_.exports;q()(w_,{HtmlDiff:y_,VLabel:k_["a"],VSimpleTable:ql["a"]});var C_=Object(L["a"])(Bh,Fh,qh,!1,null,null,null),O_=C_.exports;q()(C_,{DismissModalButton:er,RevisionHistoryContent:x_,VBtn:Pn["a"],VCard:Kt["a"],VCardTitle:un["d"],VDivider:Co["a"],VIcon:Tt["a"],VLayout:Q["a"],VSpacer:Oo["a"]});var j_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"tags-modal"},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"loomio_tags.card_title",expression:"'loomio_tags.card_title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{close:e.close}})],1),n("div",{staticClass:"px-4 pb-2"},[n("p",{staticClass:"text--secondary"},[e.canAdminTags?n("span",{directives:[{name:"t",rawName:"v-t",value:"loomio_tags.helptext",expression:"'loomio_tags.helptext'"}]}):n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"loomio_tags.only_admins_can_edit_tags",args:{group:e.model.group().parentOrSelf().name}},expression:"{path: 'loomio_tags.only_admins_can_edit_tags', args: {group: model.group().parentOrSelf().name}}"}]})])]),e.canAdminTags?n("div",[0==e.allTags.length?n("div",{staticClass:"pa-4"},[n("p",{directives:[{name:"t",rawName:"v-t",value:"loomio_tags.no_tags_in_group",expression:"'loomio_tags.no_tags_in_group'"}],staticClass:"text--secondary"})]):e._e(),n("sortable-list",{attrs:{useDragHandle:!0},on:{"sort-end":e.sortEnded},model:{value:e.allTags,callback:function(t){e.allTags=t},expression:"allTags"}},e._l(e.allTags,(function(t,o){return n("sortable-item",{key:t.id,attrs:{index:o}},[n("div",{directives:[{name:"handle",rawName:"v-handle"}],staticClass:"handle"},[n("v-icon",[e._v("mdi-drag-vertical")])],1),n("v-chip",{attrs:{outlined:"",color:t.color}},[e._v(e._s(t.name))]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.openEditTagModal(t)}}},[n("v-icon",{staticClass:"text--secondary"},[e._v("mdi-pencil")])],1)],1)})),1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"loomio_tags.new_tag",expression:"'loomio_tags.new_tag'"}],staticClass:"tag-form_new-tag",attrs:{color:"primary"},on:{click:e.openNewTagModal}})],1)],1):e._e()],1)},S_=[],I_=n("11b0"),P_={props:{model:{type:Object,required:!0},close:Function},directives:{handle:I_["HandleDirective"]},data:function(){return{allTags:this.model.group().parentOrSelf().tags()}},mounted:function(){var e=this;return this.watchRecords({key:"tags"+this.model.id,collections:["tags"],query:function(){return e.allTags=e.model.group().parentOrSelf().tags()}})},computed:{canAdminTags:function(){return this.model.group().parentOrSelf().adminsInclude(c["a"].user())}},methods:{openNewTagModal:function(){var e=this;return S["a"].$emit("openModal",{component:"TagsModal",props:{tag:j["a"].tags.build({groupId:this.model.group().parentOrSelf().id}),close:function(){return S["a"].$emit("openModal",{component:"TagsSelect",props:{model:e.model}})}}})},openEditTagModal:function(e){var t=this;return S["a"].$emit("openModal",{component:"TagsModal",props:{tag:e.clone(),close:function(){return S["a"].$emit("openModal",{component:"TagsSelect",props:{model:t.model}})}}})},submit:function(){return S["a"].$emit("closeModal")},sortEnded:function(){var e=this;return setTimeout((function(){return j["a"].remote.post("tags/priority",{group_id:e.model.groupId,ids:e.allTags.map((function(e){return e.id}))})}))}}},T_=P_,A_=n("3804"),R_=n("9e2e"),V_=Object(L["a"])(T_,j_,S_,!1,null,null,null),$_=V_.exports;q()(V_,{DismissModalButton:er,SortableItem:A_["a"],SortableList:R_["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardTitle:un["d"],VChip:Pt["a"],VIcon:Tt["a"],VSpacer:Oo["a"]});var N_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"tags-modal"},[n("v-card-title",[e.tag.id?n("h1",{directives:[{name:"t",rawName:"v-t",value:"loomio_tags.modal_edit_title",expression:"'loomio_tags.modal_edit_title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}):e._e(),e.tag.id?e._e():n("h1",{directives:[{name:"t",rawName:"v-t",value:"loomio_tags.modal_title",expression:"'loomio_tags.modal_title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{close:e.close}})],1),n("v-card-text",[n("v-text-field",{attrs:{label:e.$t("loomio_tags.name_label"),autofocus:""},model:{value:e.tag.name,callback:function(t){e.$set(e.tag,"name",t)},expression:"tag.name"}}),n("validation-errors",{attrs:{subject:e.tag,field:"name"}}),n("label",{directives:[{name:"t",rawName:"v-t",value:"loomio_tags.color_label",expression:"'loomio_tags.color_label'"}],staticClass:"v-label caption",attrs:{for:"input-708"}},[e._v("Color")]),n("div",{staticClass:"tag-colors d-flex"},e._l(e.tag.constructor.colors,(function(t){return n("span",{key:t,staticClass:"color-swatch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.tag.color,expression:"tag.color"}],attrs:{id:t,type:"radio"},domProps:{value:t,checked:e._q(e.tag.color,t)},on:{change:function(n){return e.$set(e.tag,"color",t)}}}),n("label",{style:{"background-color":t,color:t},attrs:{for:t}},[e._v(e._s(t))])])})),0)],1),n("v-card-actions",[e.tag.id?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.delete",expression:"'common.action.delete'"}],attrs:{disabled:e.loading},on:{click:e.deleteTag}}):e._e(),n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}],staticClass:"tag-form__submit",attrs:{color:"primary",loading:e.loading},on:{click:e.submit}})],1)],1)},E_=[],M_={props:{tag:{type:Object,required:!0},close:Function},data:function(){return{loading:!1,destroying:!1}},methods:{deleteTag:function(){return S["a"].$emit("openModal",{component:"ConfirmModal",props:{confirm:{submit:this.tag.destroy,text:{title:"loomio_tags.destroy_tag",helptext:"loomio_tags.destroy_helptext",submit:"common.action.delete",flash:"loomio_tags.tag_destroyed"}}}})},submit:function(){var e=this;return this.loading=!0,this.tag.save().then((function(){return e.close()})).finally((function(){return e.loading=!1}))}}},D_=M_,L_=(n("0831"),Object(L["a"])(D_,N_,E_,!1,null,null,null)),F_=L_.exports;q()(L_,{DismissModalButton:er,VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var q_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"webhook-form"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:e.webhook.id?"webhook.edit_integration":"webhook.add_integration",expression:"!webhook.id ? 'webhook.add_integration' : 'webhook.edit_integration'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{close:e.close}})],1),n("v-card-text",{staticClass:"install-webhook-form"},[n("v-text-field",{staticClass:"webhook-form__name",attrs:{required:"",label:e.$t("webhook.name_label"),placeholder:e.$t("webhook.name_placeholder")},model:{value:e.webhook.name,callback:function(t){e.$set(e.webhook,"name",t)},expression:"webhook.name"}}),n("validation-errors",{attrs:{subject:e.webhook,field:"name"}}),n("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{directives:[{name:"t",rawName:"v-t",value:"webhook.webhook",expression:"'webhook.webhook'"}],key:"webhook"}),n("v-tab",{directives:[{name:"t",rawName:"v-t",value:"webhook.api",expression:"'webhook.api'"}],key:"api"})],1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{key:"webhook"},[n("p",{staticClass:"pt-4 text--secondary",domProps:{innerHTML:e._s(e.$t("webhook.we_have_guides",{url:"https://help.loomio.org/en/user_manual/groups/integrations/"}))}}),n("v-text-field",{staticClass:"webhook-form__url",attrs:{type:"url",label:e.$t("webhook.url_label"),placeholder:e.$t("webhook.url_placeholder")},model:{value:e.webhook.url,callback:function(t){e.$set(e.webhook,"url",t)},expression:"webhook.url"}}),n("validation-errors",{attrs:{subject:e.webhook,field:"url"}}),n("v-select",{attrs:{items:e.formats,label:e.$t("webhook.format")},model:{value:e.webhook.format,callback:function(t){e.$set(e.webhook,"format",t)},expression:"webhook.format"}}),n("validation-errors",{attrs:{subject:e.webhook,field:"name"}}),n("v-checkbox",{staticClass:"webhook-form__include-body",attrs:{label:e.$t("webhook.include_body_label"),"hide-details":""},model:{value:e.webhook.includeBody,callback:function(t){e.$set(e.webhook,"includeBody",t)},expression:"webhook.includeBody"}}),n("p",{directives:[{name:"t",rawName:"v-t",value:"webhook.event_kind_helptext",expression:"'webhook.event_kind_helptext'"}],staticClass:"mt-4 text--secondary"}),e._l(e.kinds,(function(t){return n("v-checkbox",{key:t,staticClass:"webhook-form__event-kind",attrs:{"hide-details":"",label:e.$t("webhook.event_kinds."+t),value:t},model:{value:e.webhook.eventKinds,callback:function(t){e.$set(e.webhook,"eventKinds",t)},expression:"webhook.eventKinds"}})}))],2),n("v-tab-item",{key:"api"},[n("a",{directives:[{name:"t",rawName:"v-t",value:"webhook.show_docs",expression:"'webhook.show_docs'"}],attrs:{href:e.docsUrl(e.webhook.token),target:"_blank"}}),n("p",{directives:[{name:"t",rawName:"v-t",value:"webhook.permissions_explaination",expression:"'webhook.permissions_explaination'"}],staticClass:"pt-4 text--secondary"}),e._l(e.permissions,(function(t){return n("v-checkbox",{key:t,staticClass:"webhook-form__permission",attrs:{"hide-details":"",label:e.$t("webhook.permissions."+t),value:t},model:{value:e.webhook.permissions,callback:function(t){e.$set(e.webhook,"permissions",t)},expression:"webhook.permissions"}})}))],2)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}],attrs:{color:"primary",type:"submit",loading:e.webhook.processing}})],1)],1)])},U_=[],B_={props:{close:Function,webhook:Object},data:function(){return{tab:"webhook",kinds:a["a"].webhookEventKinds,permissions:["show_discussion","create_discussion","show_poll","create_poll","read_memberships"],formats:[{text:this.$t("webhook.formats.markdown"),value:"markdown"},{text:this.$t("webhook.formats.microsoft"),value:"microsoft"},{text:this.$t("webhook.formats.slack"),value:"slack"},{text:this.$t("webhook.formats.discord"),value:"discord"}]}},methods:{docsUrl:function(e){return a["a"].baseUrl+"help/api?api_key=".concat(e)},submit:function(){var e=this;return this.webhook.save().then((function(){return _e["a"].success("webhook.success"),e.close()})).catch((function(t){return console.log(e.webhook.errors)}))}}},z_=B_,H_=Object(L["a"])(z_,q_,U_,!1,null,null,null),G_=H_.exports;q()(H_,{DismissModalButton:er,VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VCheckbox:Ea["a"],VSelect:Rn["a"],VSpacer:Oo["a"],VTab:pr["a"],VTabItem:mr["a"],VTabs:fr["a"],VTabsItems:hr["a"],VTextField:Zt["a"],ValidationErrors:ms["a"]});var K_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"webhook-list"},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"webhook.integrations",expression:"'webhook.integrations'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{close:e.close}})],1),n("v-card-text",[n("p",{directives:[{name:"t",rawName:"v-t",value:"webhook.subtitle",expression:"'webhook.subtitle'"}],staticClass:"text--secondary"}),e.loading?n("loading"):e._e(),e.loading?e._e():n("v-list",e._l(e.webhooks,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.name))])],1),n("v-list-item-action",[n("action-menu",{attrs:{actions:e.webhookActions(t)}})],1)],1)})),1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:e.addAction(e.group).name,expression:"addAction(group).name"}],attrs:{color:"primary"},on:{click:function(t){e.addAction(e.group).perform()}}})],1)],1)},W_=[];function Y_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q_(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Z_(e,t,n){return t&&Q_(e.prototype,t),n&&Q_(e,n),e}var J_=new(function(){function e(){Y_(this,e)}return Z_(e,[{key:"addAction",value:function(e){return{name:"webhook.add_integration",icon:"mdi-plus",canPerform:function(){return!0},perform:function(){return S["a"].$emit("openModal",{component:"WebhookForm",props:{webhook:j["a"].webhooks.build({groupId:e.id})}})}}}},{key:"webhookActions",value:function(e){return{showApiDocs:{name:"webhook.show_docs",icon:"mdi-key-variant",canPerform:function(){return e.permissions.length},perform:function(){return window.open(a["a"].baseUrl+"help/api?api_key=".concat(e.token),"_blank")}},editWebhook:{name:"common.action.edit",icon:"mdi-pencil",canPerform:function(){return!0},perform:function(){return S["a"].$emit("openModal",{component:"WebhookForm",props:{webhook:e}})}},destroyWebhook:{name:"common.action.delete",icon:"mdi-delete",canPerform:function(){return!0},perform:function(){return S["a"].$emit("openModal",{component:"ConfirmModal",props:{confirm:{submit:e.destroy,text:{title:"webhook.remove",raw_helptext:ru["a"].t("webhook.confirm_remove",{name:e.name}),flash:"webhook.removed"}}}})}}}}}]),e}()),X_={props:{close:Function,group:Object},data:function(){return{webhooks:[],loading:!0}},mounted:function(){var e=this;return j["a"].webhooks.fetch({params:{group_id:this.group.id}}).then((function(){return e.loading=!1})),this.watchRecords({collections:["webhooks"],query:function(t){return e.webhooks=t.webhooks.find({groupId:e.group.id})}})},methods:{addAction:function(e){return J_.addAction(e)},webhookActions:function(e){return J_.webhookActions(e)}}},ev=X_,tv=Object(L["a"])(ev,K_,W_,!1,null,null,null),nv=tv.exports;q()(tv,{ActionMenu:Se["a"],DismissModalButton:er,Loading:X,VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VList:Mt["a"],VListItem:At["a"],VListItemAction:Rt["a"],VListItemContent:$t["a"],VListItemTitle:$t["c"],VSpacer:Oo["a"]});var ov=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"change-picture-form"},[n("v-overlay",{attrs:{value:e.uploading}},[n("v-progress-circular",{attrs:{size:"64",value:e.progress}})],1),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"change_picture_form.title",expression:"'change_picture_form.title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button")],1),n("v-card-text",[n("p",{staticClass:"text--secondary",domProps:{innerHTML:e._s(e.$t("change_picture_form.helptext"))}}),n("v-list",{staticClass:"change-picture-form__options-list"},[n("v-list-item",{staticClass:"change-picture-form__option",on:{click:function(t){return e.selectFile()}}},[n("v-list-item-avatar",[n("v-icon",[e._v("mdi-camera")])],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"change_picture_form.use_uploaded",expression:"'change_picture_form.use_uploaded'"}]},[n("input",{ref:"fileInput",staticClass:"hidden change-picture-form__file-input",attrs:{type:"file"},on:{change:e.uploadFile}})])],1),e._l(e.providers,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.selectProvider(t)}}},[n("v-list-item-avatar",[n("v-icon",[e._v(e._s(e.iconClass(t.name)))])],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:{path:"change_picture_form.use_provider",args:{provider:e.capitalize(t.name)}},expression:"{ path: 'change_picture_form.use_provider', args: { provider: capitalize(provider.name) } }"}]})],1)})),n("v-list-item",{staticClass:"change-picture-form__option",on:{click:function(t){return e.submit("gravatar")}}},[n("v-list-item-avatar",[n("v-gravatar",{attrs:{hash:e.user.emailHash,alt:e.user.name,size:48}})],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"change_picture_form.use_gravatar",expression:"'change_picture_form.use_gravatar'"}]})],1),n("v-list-item",{staticClass:"change-picture-form__option",on:{click:function(t){return e.submit("initials")}}},[n("v-list-item-avatar",{staticClass:"user-avatar"},[n("v-avatar",{staticClass:"user-avatar__initials--small"},[e._v(e._s(e.user.avatarInitials))])],1),n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"change_picture_form.use_initials",expression:"'change_picture_form.use_initials'"}]})],1)],2)],1)],1)},rv=[],iv=n("e06a"),av=n.n(iv),sv={components:{"v-gravatar":av.a},data:function(){return{user:c["a"].user().clone(),providers:a["a"].identityProviders,uploading:!1,progress:0}},methods:{capitalize:O.a,iconClass:function(e){return"mdi-"+("saml"===e?"key-variant":e)},providerColor:function(e){switch(e){case"facebook":return"#3b5998";case"google":return"#dd4b39";case"slack":return"#e9a820";case"saml":return this.$vuetify.theme.themes.light.primary}},selectProvider:function(e){return window.location="".concat(e.href,"?back_to=").concat(window.location.href)},selectFile:function(){return this.$refs.fileInput.click()},uploadFile:function(){var e=this;return this.uploading=!0,j["a"].users.remote.onUploadSuccess=function(t){return j["a"].import(t),S["a"].$emit("updateProfile"),S["a"].$emit("closeModal"),e.uploading=!1},j["a"].users.remote.upload("upload_avatar",this.$refs.fileInput.files[0],{},(function(t){return e.progress=t.loaded/t.total*100}))},submit:function(e){return this.user.avatarKind=e,j["a"].users.updateProfile(this.user).then((function(){return _e["a"].success("profile_page.messages.picture_changed"),S["a"].$emit("updateProfile"),S["a"].$emit("closeModal")})).catch(Object(ir["a"])(this.user))}},created:function(){return j["a"].users.saveExperience("changePicture")}},cv=sv,lv=Object(L["a"])(cv,ov,rv,!1,null,null,null),uv=lv.exports;q()(lv,{DismissModalButton:er,VAvatar:ln["a"],VCard:Kt["a"],VCardText:un["c"],VCardTitle:un["d"],VIcon:Tt["a"],VList:Mt["a"],VListItem:At["a"],VListItemAvatar:Vt["a"],VListItemTitle:$t["c"],VOverlay:Pu["a"],VProgressCircular:Z["a"],VSpacer:Oo["a"]});var dv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pin-event-form"},[n("v-card-title",[n("span",{directives:[{name:"t",rawName:"v-t",value:"pin_event_form.title",expression:"'pin_event_form.title'"}]}),n("v-spacer"),n("dismiss-modal-button",{attrs:{"aria-hidden":"true"}})],1),n("v-card-text",[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[n("v-text-field",{ref:"focus",attrs:{disabled:e.loading,label:e.$t("pin_event_form.title_label")},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}],attrs:{color:"primary",loading:e.loading},on:{click:function(t){return e.submit()}}})],1)],1)},pv=[],mv={props:{event:Object},data:function(){return{title:null,loading:!1}},mounted:function(){var e=this;return this.title=window.getSelection()&&window.getSelection().toString()||this.event.pinnedTitle||this.event.suggestedTitle(),this.$nextTick((function(){return e.$refs.focus.focus()}))},methods:{submit:function(){return this.loading=!0,this.event.pin(this.title).then((function(){return _e["a"].success("activity_card.event_pinned"),S["a"].$emit("closeModal")})).catch(Object(ir["a"])(this.event))}}},fv=mv,hv=n("4bd4"),_v=Object(L["a"])(fv,dv,pv,!1,null,null,null),vv=_v.exports;q()(_v,{DismissModalButton:er,VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VForm:hv["a"],VSpacer:Oo["a"],VTextField:Zt["a"]});var bv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("submit-overlay",{attrs:{value:e.selectedDiscussion&&e.selectedDiscussion.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"action_dock.move_items",expression:"'action_dock.move_items'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{"aria-hidden":"true"}})],1),n("v-card-text",[n("v-select",{attrs:{items:e.groups,"item-text":"fullName","item-value":"id"},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}}),n("v-autocomplete",{attrs:{"hide-no-data":"","return-object":"","search-input":e.searchFragment,items:e.searchResults,"item-text":"title",placeholder:e.$t("discussion_fork_actions.search_placeholder"),label:e.$t("discussion_fork_actions.move_to_existing_thread"),loading:e.loading},on:{"update:searchInput":function(t){e.searchFragment=t},"update:search-input":function(t){e.searchFragment=t}},model:{value:e.selectedDiscussion,callback:function(t){e.selectedDiscussion=t},expression:"selectedDiscussion"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"accent",loading:e.discussion.processing},on:{click:function(t){return e.startNewThread()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"discussion_fork_actions.start_new_thread",expression:"'discussion_fork_actions.start_new_thread'"}]})]),n("v-btn",{attrs:{color:"primary",disabled:!e.selectedDiscussion,loading:e.discussion.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}]})])],1)],1)},gv=[],yv={data:function(){return{selectedDiscussion:null,searchFragment:"",searchResults:[],groupId:this.discussion.groupId,groups:on()(c["a"].user().groups(),"fullName"),loading:!1}},props:{discussion:Object},mounted:function(){var e=this;return j["a"].discussions.fetch({path:"dashboard",params:{exclude_types:"user group poll",per:50}}).then((function(){return e.getSuggestions()}))},methods:{getSuggestions:function(){return this.searchResults=j["a"].discussions.collection.chain().find({groupId:this.groupId}).where((function(e){return!!I["a"].canStartPoll(e)})).simplesort("id",!0).data()},resetSourceDiscussion:function(){return this.discussion.update({forkedEventIds:[]})},startNewThread:function(){return this.selectedDiscussion=j["a"].discussions.build({groupId:this.groupId}),this.setIsForking(),this.resetSourceDiscussion(),S["a"].$emit("openModal",{component:"DiscussionForm",props:{discussion:this.selectedDiscussion}})},submit:function(){var e=this;return this.loading=!0,this.selectedDiscussion.moveComments().then((function(){return e.loading=!1,e.resetSourceDiscussion(),e.selectedDiscussion.update({forkedEventIds:[]}),S["a"].$emit("closeModal"),_e["a"].success("discussion_fork_actions.moved"),e.$router.push(e.urlFor(e.selectedDiscussion))})).catch(Object(ir["a"])(this.selectedDiscussion))},setIsForking:function(){return this.selectedDiscussion.update({forkedEventIds:this.discussion.forkedEventIds})},fetch:h()((function(){var e=this;if(this.searchFragment)return this.loading=!0,j["a"].discussions.search(this.groupId,this.searchFragment).then((function(t){return e.loading=!1,e.searchResults=j["a"].discussions.collection.chain().find({groupId:e.groupId}).find({id:{$ne:e.discussion.id}}).find({title:{$regex:[e.searchFragment,"i"]}}).where((function(e){return!!I["a"].canAddComment(e)})).simplesort("title").data()}))}),500)},watch:{selectedDiscussion:"setIsForking",searchFragment:"fetch",groupId:"getSuggestions"}},kv=yv,wv=n("c6a6"),xv=Object(L["a"])(kv,bv,gv,!1,null,null,null),Cv=xv.exports;q()(xv,{DismissModalButton:er,SubmitOverlay:lr["a"],VAutocomplete:wv["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSelect:Rn["a"],VSpacer:Oo["a"]});var Ov=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"export_data_modal.title",expression:"'export_data_modal.title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button")],1),n("v-card-text",[n("h4",{directives:[{name:"t",rawName:"v-t",value:"export_data_modal.as_csv",expression:"'export_data_modal.as_csv'"}],staticClass:"my-4"}),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"group_page.options.export_data_as_csv",expression:"'group_page.options.export_data_as_csv'"}],attrs:{href:e.baseUrl+"g/"+e.group.key+"/export.csv?export=1",target:"_blank"}}),n("h4",{directives:[{name:"t",rawName:"v-t",value:"export_data_modal.as_html",expression:"'export_data_modal.as_html'"}],staticClass:"my-4"}),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"group_page.options.export_data_as_html",expression:"'group_page.options.export_data_as_html'"}],attrs:{href:e.baseUrl+"g/"+e.group.key+"/export.html?export=1",target:"_blank"}}),n("h4",{directives:[{name:"t",rawName:"v-t",value:"export_data_modal.as_json",expression:"'export_data_modal.as_json'"}],staticClass:"my-4"}),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"group_page.options.export_data_as_json",expression:"'group_page.options.export_data_as_json'"}],on:{click:e.openConfirmModalForJson}})],1)],1)},jv=[],Sv={props:{group:Object},methods:{openConfirmModalForJson:function(){return Object(be["a"])({component:"ConfirmModal",props:{confirm:{submit:this.group.export,text:{title:"group_export_modal.title",helptext:"group_export_modal.body",submit:"group_export_modal.submit",flash:"group_export_modal.flash"}}}})}},computed:{baseUrl:function(){return a["a"].baseUrl}}},Iv=Sv,Pv=Object(L["a"])(Iv,Ov,jv,!1,null,null,null),Tv=Pv.exports;q()(Pv,{DismissModalButton:er,VBtn:Pn["a"],VCard:Kt["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"]});var Av=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"install-saml-modal"},[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"configure_sso.title",expression:"'configure_sso.title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{close:e.close}})],1),n("loading",{attrs:{until:!e.loading}}),e.samlProviderId?n("div",[n("v-card-text",[n("p",{directives:[{name:"t",rawName:"v-t",value:"configure_sso.enabled",expression:"'configure_sso.enabled'"}]}),n("p",[n("span",{directives:[{name:"t",rawName:"v-t",value:"configure_sso.idp_metadata_url",expression:"'configure_sso.idp_metadata_url'"}]}),n("span",[e._v(":")]),n("space"),n("a",{attrs:{href:e.idpMetadataUrl,target:"_blank"}},[e._v(e._s(e.idpMetadataUrl))])],1),n("p",[n("span",{directives:[{name:"t",rawName:"v-t",value:"configure_sso.sp_metadata_url",expression:"'configure_sso.sp_metadata_url'"}]}),n("span",[e._v(":")]),n("space"),n("a",{attrs:{href:e.spMetadataUrl+".xml",target:"_blank"}},[e._v(e._s(e.spMetadataUrl))])],1)]),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.remove",expression:"'common.action.remove'"}],attrs:{color:"primary"},on:{click:function(t){return e.destroy()}}})],1)],1):n("div",[e.loading?e._e():n("v-card-text",[n("p",{staticClass:"helptext",domProps:{innerHTML:e._s(e.$t("configure_sso.helptext"))}}),n("v-text-field",{attrs:{label:e.$t("configure_sso.idp_metadata_url"),placeholder:e.$t("configure_sso.idp_metadata_url_placeholder")},model:{value:e.idpMetadataUrl,callback:function(t){e.idpMetadataUrl=t},expression:"idpMetadataUrl"}}),n("p",{directives:[{name:"t",rawName:"v-t",value:"configure_sso.warning_helptext",expression:"'configure_sso.warning_helptext'"}]})],1),e.loading?e._e():n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}],attrs:{color:"primary"},on:{click:function(t){return e.submit()}}})],1)],1)],1)},Rv=[],Vv=n("f98e"),$v={props:{close:Function,group:Object},data:function(){return{idpMetadataUrl:"",samlProviderId:null,remote:new Vv["a"]("saml_providers"),loading:!0}},mounted:function(){var e=this;return j["a"].samlProviders.fetch({params:{group_id:this.group.id}}).then((function(t){return e.idpMetadataUrl=t.idp_metadata_url,e.samlProviderId=t.saml_provider_id,e.spMetadataUrl=t.sp_metadata_url})).catch((function(){})).finally((function(){return e.loading=!1}))},methods:{submit:function(){var e=this;return this.loading=!0,this.remote.create({idp_metadata_url:this.idpMetadataUrl,group_id:this.group.id}).then((function(){return _e["a"].success("configure_sso.success"),e.close()})).catch((function(){return _e["a"].error("configure_sso.invalid_idp_metadata_url")})).finally((function(){return e.loading=!1}))},destroy:function(){var e=this;return this.remote.destroy(this.samlProviderId,{group_id:this.group.id}).then((function(){return _e["a"].success("configure_sso.destroyed"),e.close()})).catch((function(){return alert("Something went wrong. Email contact@loomio.org for support.")}))}}},Nv=$v,Ev=Object(L["a"])(Nv,Av,Rv,!1,null,null,null),Mv=Ev.exports;q()(Ev,{DismissModalButton:er,Loading:X,Space:jt["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSpacer:Oo["a"],VTextField:Zt["a"]});var Dv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("submit-overlay",{attrs:{value:e.poll.processing}}),n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"action_dock.add_poll_to_thread",expression:"'action_dock.add_poll_to_thread'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button",{attrs:{"aria-hidden":"true"}})],1),n("v-card-text",[n("v-select",{attrs:{items:e.groups,"item-text":"fullName","item-value":"id"},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}}),n("v-autocomplete",{staticClass:"add-to-thread-modal__search",attrs:{"hide-no-data":"","return-object":"","search-input":e.searchFragment,items:e.searchResults,"item-text":"title",placeholder:e.$t("discussion_fork_actions.search_placeholder"),label:e.$t("discussion_fork_actions.move_to_existing_thread"),loading:e.loading},on:{"update:searchInput":function(t){e.searchFragment=t},"update:search-input":function(t){e.searchFragment=t}},model:{value:e.selectedDiscussion,callback:function(t){e.selectedDiscussion=t},expression:"selectedDiscussion"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"add-to-thread-modal__submit",attrs:{color:"primary",disabled:!e.selectedDiscussion,loading:e.poll.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.save",expression:"'common.action.save'"}]})])],1)],1)},Lv=[],Fv={data:function(){return{selectedDiscussion:null,searchFragment:"",searchResults:[],groupId:this.poll.groupId,groups:on()(c["a"].user().groups(),"fullName"),loading:!1}},props:{poll:Object},mounted:function(){var e=this;return j["a"].discussions.fetch({path:"dashboard",params:{per:50}}).then((function(){return e.getSuggestions()}))},methods:{getSuggestions:function(){return this.searchResults=j["a"].discussions.collection.chain().find({groupId:this.groupId}).where((function(e){return!!I["a"].canStartPoll(e)})).simplesort("id",!0).data()},submit:function(){var e=this;return this.poll.addToThread(this.selectedDiscussion.id).then((function(){return _e["a"].success("add_poll_to_thread_modal.success",{pollType:e.poll.translatedPollType()}),S["a"].$emit("closeModal")})).catch(Object(ir["a"])(this.poll))},fetch:h()((function(){var e=this;if(this.searchFragment)return this.loading=!0,j["a"].discussions.search(this.groupId,this.searchFragment).then((function(t){return e.loading=!1,e.searchResults=j["a"].discussions.collection.chain().find({groupId:e.groupId}).find({title:{$regex:[e.searchFragment,"i"]}}).where((function(e){return!!I["a"].canStartPoll(e)})).simplesort("title").data()}))}),500)},watch:{searchFragment:"fetch",groupId:"getSuggestions"}},qv=Fv,Uv=Object(L["a"])(qv,Dv,Lv,!1,null,null,null),Bv=Uv.exports;q()(Uv,{DismissModalButton:er,SubmitOverlay:lr["a"],VAutocomplete:wv["a"],VBtn:Pn["a"],VCard:Kt["a"],VCardActions:un["a"],VCardText:un["c"],VCardTitle:un["d"],VSelect:Rn["a"],VSpacer:Oo["a"]});var zv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"strand-members-list"},[n("div",{staticClass:"px-4 pt-4"},[n("div",{staticClass:"d-flex justify-space-between"},[n("h1",{directives:[{name:"t",rawName:"v-t",value:"announcement.form.discussion_announced.title",expression:"'announcement.form.discussion_announced.title'"}],staticClass:"headline"}),n("dismiss-modal-button")],1),n("recipients-autocomplete",{attrs:{label:e.$t("announcement.form.discussion_announced.helptext"),placeholder:e.$t("announcement.form.placeholder"),model:e.discussion,"excluded-user-ids":e.excludedUserIds,"excluded-audiences":["discussion_group"],reset:e.reset},on:{"new-query":e.newQuery,"new-recipients":e.newRecipients}}),e.hasRecipients?n("v-textarea",{attrs:{rows:"3",label:e.$t("announcement.form.invitation_message_label"),placeholder:e.$t("announcement.form.invitation_message_placeholder")},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}):e._e(),n("div",{staticClass:"d-flex"},[n("v-spacer"),n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.invite",expression:"'common.action.invite'"}],staticClass:"strand-members-list__submit",attrs:{color:"primary",disabled:!e.recipients.length,loading:e.saving},on:{click:e.inviteRecipients}})],1)],1),n("v-list",{attrs:{"two-line":""}},[n("v-subheader",[n("span",{directives:[{name:"t",rawName:"v-t",value:"membership_card.discussion_members",expression:"'membership_card.discussion_members'"}]}),n("space"),n("span",[e._v("("+e._s(e.discussion.membersCount)+")")])],1),e._l(e.readers,(function(t){return n("v-list-item",{key:t.id,attrs:{user:t.user()}},[n("v-list-item-avatar",[n("user-avatar",{attrs:{user:t.user(),size:24}})],1),n("v-list-item-content",[n("v-list-item-title",[n("span",{staticClass:"mr-2"},[e._v(e._s(t.user().nameWithTitle(e.discussion.group())))]),e.discussion.groupId&&e.isGuest(t)?n("v-chip",{directives:[{name:"t",rawName:"v-t",value:"members_panel.guest",expression:"'members_panel.guest'"}],staticClass:"mr-1",attrs:{outlined:"","x-small":"",label:"",title:e.$t("announcement.inviting_guests_to_thread")}}):e._e(),t.admin?n("v-chip",{directives:[{name:"t",rawName:"v-t",value:"announcement.members_list.thread_admin",expression:"'announcement.members_list.thread_admin'"}],staticClass:"mr-1",attrs:{outlined:"","x-small":"",label:""}}):e._e(),e.isGroupAdmin(t)?n("v-chip",{directives:[{name:"t",rawName:"v-t",value:"announcement.members_list.group_admin",expression:"'announcement.members_list.group_admin'"}],staticClass:"mr-1",attrs:{outlined:"","x-small":"",label:""}}):e._e()],1),n("v-list-item-subtitle",[t.lastReadAt?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"announcement.members_list.last_read_at",args:{time:e.approximateDate(t.lastReadAt)}},expression:"{ path: 'announcement.members_list.last_read_at', args: { time: approximateDate(reader.lastReadAt) } }"}]}):n("span",{directives:[{name:"t",rawName:"v-t",value:"announcement.members_list.has_not_read_thread",expression:"'announcement.members_list.has_not_read_thread'"}]})])],1),n("v-list-item-action",[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"membership-dropdown__button",attrs:{icon:""}},"v-btn",r,!1),o),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[n("v-list",e._l(e.actionNames,(function(o){return e.service[o].canPerform(t)?n("v-list-item",{key:o,on:{click:function(n){return e.service[o].perform(t)}}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:e.service[o].name,expression:"service[action].name"}]})],1):e._e()})),1)],1)],1)],1)})),e.query&&0==e.readers.length?n("v-list-item",[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:{path:"discussions_panel.no_results_found",args:{search:e.query}},expression:"{ path: 'discussions_panel.no_results_found', args: { search: query }}"}]})],1):e._e()],2)],1)},Hv=[];function Gv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Kv=new(function(){var e=function e(){Gv(this,e)};return e.prototype.makeAdmin={name:"membership_dropdown.make_coordinator",canPerform:function(e){return!e.discussion().group().adminsInclude(e.user())&&!e.admin&&e.discussion().adminsInclude(c["a"].user())},perform:function(e){return j["a"].discussionReaders.remote.postMember(e.id,"make_admin",{exclude_types:"discussion"})}},e.prototype.removeAdmin={name:"membership_dropdown.demote_coordinator",canPerform:function(e){return e.admin&&e.discussion().adminsInclude(c["a"].user())},perform:function(e){return j["a"].discussionReaders.remote.postMember(e.id,"remove_admin",{exclude_types:"discussion"})}},e.prototype.resend={name:"membership_dropdown.resend",canPerform:function(e){return e.discussion().adminsInclude(c["a"].user())},perform:function(e){return j["a"].discussionReaders.remote.postMember(e.id,"resend",{exclude_types:"discussion"}).then((function(){return _e["a"].success("membership_dropdown.invitation_resent")}))}},e.prototype.revoke={name:"membership_dropdown.remove_from.discussion",canPerform:function(e){return e.discussion().adminsInclude(c["a"].user())},perform:function(e){return j["a"].discussionReaders.remote.postMember(e.id,"revoke").then((function(){return _e["a"].success("membership_remove_modal.invitation.flash")}))}},e}.call(void 0)),Wv={components:{RecipientsAutocomplete:pd["a"]},props:{discussion:Object},data:function(){return{readers:[],query:"",searchResults:[],recipients:[],membershipsByUserId:{},readerUserIds:[],reset:!1,saving:!1,message:"",actionNames:[],service:Kv}},mounted:function(){var e=this;return this.actionNames=["makeAdmin","removeAdmin","revoke"],this.watchRecords({collections:["discussionReaders","memberships"],query:function(t){return e.updateReaders()}})},computed:{hasRecipients:function(){return this.discussion.recipientAudience||this.discussion.recipientUserIds.length||this.discussion.recipientEmails.length},model:function(){return this.discussion},excludedUserIds:function(){return this.readerUserIds.concat(c["a"].user().id)}},methods:{isGroupAdmin:function(e){return this.membershipsByUserId[e.userId]&&this.membershipsByUserId[e.userId].admin},isGuest:function(e){return!this.membershipsByUserId[e.userId]},inviteRecipients:function(){var e,t,n=this;return e=this.recipients.length,this.saving=!0,t=Object.assign({discussion_id:this.discussion.id},{recipient_audience:this.discussion.recipientAudience,recipient_user_ids:this.discussion.recipientUserIds,recipient_emails:this.discussion.recipientEmails,recipient_message:this.message}),j["a"].announcements.remote.post("",t).then((function(){return n.reset=!n.reset,_e["a"].success("announcement.flash.success",{count:e})})).finally((function(){return n.saving=!1}))},newQuery:function(e){return this.query=e,this.updateReaders(),this.fetchReaders()},newRecipients:function(e){return this.recipients=e},fetchReaders:h()((function(){var e=this;return j["a"].discussionReaders.fetch({params:{exclude_types:"discussion",query:this.query,discussion_id:this.discussion.id}}).then((function(t){var n;return n=ze()(t["users"],"id"),j["a"].memberships.fetch({params:{exclude_types:"group inviter",group_id:e.discussion.groupId,user_xids:n.join("x")}})})).finally((function(){return e.updateReaders()}))}),300),updateReaders:function(){var e,t,n=this;return e=j["a"].discussionReaders.collection.chain().find({discussionId:this.discussion.id}).find({revokedAt:null}),this.query&&(t=j["a"].users.collection.find({$or:[{name:{$regex:["^".concat(this.query),"i"]}},{email:{$regex:["".concat(this.query),"i"]}},{username:{$regex:["^".concat(this.query),"i"]}},{name:{$regex:[" ".concat(this.query),"i"]}}]}),e=e.find({userId:{$in:ze()(t,"id")}})),e=e.simplesort("id",!0),this.readers=e.data(),this.readerUserIds=ze()(j["a"].discussionReaders.collection.find({discussionId:this.discussion.id}),"userId"),this.membershipsByUserId={},j["a"].memberships.collection.find({userId:{$in:this.readerUserIds}},{groupId:this.discussion.groupId}).forEach((function(e){return n.membershipsByUserId[e.userId]=e}))}}},Yv=Wv,Qv=Object(L["a"])(Yv,zv,Hv,!1,null,null,null),Zv=Qv.exports;q()(Qv,{DismissModalButton:er,Space:jt["a"],UserAvatar:It["a"],VBtn:Pn["a"],VChip:Pt["a"],VIcon:Tt["a"],VList:Mt["a"],VListItem:At["a"],VListItemAction:Rt["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"],VMenu:Rc["a"],VSpacer:Oo["a"],VSubheader:Qt["a"],VTextarea:zu["a"]});var Jv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"discussion_last_seen_by.title",expression:"'discussion_last_seen_by.title'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button")],1),n("v-layout",{attrs:{"justify-center":""}},[e.historyLoading?n("v-progress-circular",{attrs:{color:"primary",indeterminate:""}}):e._e()],1),e.historyLoading?e._e():n("v-card-text",[e.historyError&&0==e.historyData.length?n("p",{directives:[{name:"t",rawName:"v-t",value:"announcement.history_error",expression:"'announcement.history_error'"}]}):e._e(),e.historyError||0!=e.historyData.length?e._e():n("p",{directives:[{name:"t",rawName:"v-t",value:"discussion_last_seen_by.no_one",expression:"'discussion_last_seen_by.no_one'"}]}),e._l(e.historyData,(function(t){return n("div",{key:t.id},[n("strong",[e._v(e._s(t.user_name))]),n("mid-dot"),n("time-ago",{attrs:{date:t.last_read_at}})],1)}))],2)],1)},Xv=[],eb={props:{discussion:Object},data:function(){return{historyData:[],historyLoading:!1,historyError:!1}},created:function(){var e=this;return this.historyLoading=!0,j["a"].fetch({path:"discussions/".concat(this.discussion.id,"/history")}).then((function(t){return e.historyLoading=!1,e.historyData=v()(t,["last_read_at"],["desc"])||[]}),(function(t){return e.historyLoading=!1,e.historyError=!0}))}},tb=eb,nb=Object(L["a"])(tb,Jv,Xv,!1,null,null,null),ob=nb.exports;q()(nb,{DismissModalButton:er,MidDot:Ne["a"],TimeAgo:zt["a"],VCard:Kt["a"],VCardText:un["c"],VCardTitle:un["d"],VLayout:Q["a"],VProgressCircular:Z["a"],VSpacer:Oo["a"]});var rb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-members-list"},[n("div",{staticClass:"px-4 pt-4"},[n("div",{staticClass:"d-flex justify-space-between"},[n("h1",{directives:[{name:"t",rawName:"v-t",value:"announcement.form.poll_announced.title",expression:"'announcement.form.poll_announced.title'"}],staticClass:"headline"}),n("dismiss-modal-button")],1),n("recipients-autocomplete",{attrs:{label:e.$t("announcement.form.poll_announced.helptext"),placeholder:e.$t("announcement.form.placeholder"),model:e.poll,reset:e.reset,excludedAudiences:["voters","undecided_voters","non_voters","decided_voters"],excludedUserIds:e.userIds,initialRecipients:e.initialRecipients,excludeMembers:!0},on:{"new-query":e.newQuery}}),e.someRecipients?n("v-textarea",{attrs:{rows:"3",label:e.$t("announcement.form.invitation_message_label"),placeholder:e.$t("announcement.form.invitation_message_placeholder")},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}):e._e(),n("div",{staticClass:"d-flex"},[n("v-spacer"),n("v-btn",{staticClass:"poll-members-list__submit",attrs:{color:"primary",disabled:!e.someRecipients,loading:e.saving},on:{click:e.inviteRecipients}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.invite",expression:"'common.action.invite'"}]})])],1)],1),n("v-list",[n("v-subheader",[n("span",{directives:[{name:"t",rawName:"v-t",value:"membership_card.voters",expression:"'membership_card.voters'"}]}),n("space"),n("span",[e._v("("+e._s(e.users.length)+" / "+e._s(e.poll.votersCount)+")")])],1),e._l(e.users,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-avatar",[n("user-avatar",{attrs:{user:t,size:24}})],1),n("v-list-item-content",[n("v-list-item-title",[n("span",{staticClass:"mr-2"},[e._v(e._s(t.nameWithTitle(e.poll.group())))]),e.isMember[t.id]?e._e():n("v-chip",{directives:[{name:"t",rawName:"v-t",value:"members_panel.guest",expression:"'members_panel.guest'"}],staticClass:"mr-1",attrs:{outlined:"","x-small":"",label:"",title:e.$t("announcement.inviting_guests_to_thread")}}),e.isMemberAdmin[t.id]||e.isStanceAdmin[t.id]?n("v-chip",{directives:[{name:"t",rawName:"v-t",value:"members_panel.admin",expression:"'members_panel.admin'"}],staticClass:"mr-1",attrs:{outlined:"","x-small":"",label:""}}):e._e()],1)],1),n("v-list-item-action",[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"membership-dropdown__button",attrs:{icon:""}},"v-btn",r,!1),o),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[n("v-list",e._l(e.actionNames,(function(o){return e.canPerform(o,e.poll,t)?n("v-list-item",{key:o,on:{click:function(n){return e.perform(o,e.poll,t)}}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:{path:e.service[o].name,args:{pollType:e.poll.translatedPollType()}},expression:"{ path: service[action].name, args: { pollType: poll.translatedPollType() } }"}]})],1):e._e()})),1)],1)],1)],1)})),e.query&&0==e.users.length?n("v-list-item",[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:{path:"discussions_panel.no_results_found",args:{search:e.query}},expression:"{ path: 'discussions_panel.no_results_found', args: { search: query }}"}]})],1):e._e()],2)],1)},ib=[];function ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sb=new(function(){var e=function e(){ab(this,e)};return e.prototype.makeAdmin={name:"membership_dropdown.make_coordinator",canPerform:function(e,t){return e.adminsInclude(c["a"].user())&&!e.adminsInclude(t)},perform:function(e,t){return j["a"].remote.post("stances/make_admin",{participant_id:t.id,poll_id:e.id,exclude_types:"discussion"})}},e.prototype.removeAdmin={name:"membership_dropdown.demote_coordinator",canPerform:function(e,t){return e.adminsInclude(c["a"].user())&&e.adminsInclude(t)},perform:function(e,t){return j["a"].remote.post("stances/remove_admin",{participant_id:t.id,poll_id:e.id,exclude_types:"discussion"})}},e.prototype.revoke={name:"membership_dropdown.remove_from.poll",canPerform:function(e,t){return e.adminsInclude(c["a"].user())},perform:function(e,t){return j["a"].remote.post("stances/revoke",{participant_id:t.id,poll_id:e.id}).then((function(){return _e["a"].success("membership_remove_modal.invitation.flash")}))}},e}.call(void 0)),cb={components:{RecipientsAutocomplete:pd["a"]},props:{poll:Object},data:function(){return{users:[],userIds:[],isMember:{},isMemberAdmin:{},isStanceAdmin:{},reset:!1,saving:!1,loading:!1,initialRecipients:[],actionNames:[],service:sb,query:"",message:""}},mounted:function(){var e=this;return this.actionNames=["makeAdmin","removeAdmin","revoke"],this.fetchStances(),this.updateStances(),this.watchRecords({collections:["stances","memberships","users"],query:function(t){return e.updateStances()}})},computed:{someRecipients:function(){return this.poll.recipientAudience||this.poll.recipientUserIds.length||this.poll.recipientEmails.length}},methods:{canPerform:function(e,t,n){switch(e){case"makeAdmin":return t.adminsInclude(c["a"].user())&&!this.isStanceAdmin[n.id]&&!this.isMemberAdmin[n.id];case"removeAdmin":return t.adminsInclude(c["a"].user())&&this.isStanceAdmin[n.id];case"revoke":return t.adminsInclude(c["a"].user())}},perform:function(e,t,n){var o=this;return this.userIds=[],this.isMember={},this.isMemberAdmin={},this.isStanceAdmin={},this.service[e].perform(t,n).then((function(){return o.fetchStances()}))},inviteRecipients:function(){var e=this;return this.saving=!0,j["a"].announcements.remote.post("",{poll_id:this.poll.id,recipient_audience:this.poll.recipientAudience,recipient_user_ids:this.poll.recipientUserIds,recipient_emails:this.poll.recipientEmails,recipient_message:this.message,exclude_members:!0}).then((function(t){var n;return n=t.stances.length,_e["a"].success("announcement.flash.success",{count:n}),e.reset=!e.reset})).finally((function(){return e.saving=!1}))},toHash:function(e){var t;return t={},e.forEach((function(e){return t[e]=!0})),t},newQuery:function(e){return this.query=e,this.updateStances(),this.fetchStances()},fetchStances:h()((function(){var e=this;return this.loading=!0,j["a"].fetch({path:"stances/users",params:{exclude_types:"poll group",poll_id:this.poll.id,query:this.query}}).then((function(t){return e.isMember=e.toHash(t["meta"]["member_ids"]),e.isMemberAdmin=e.toHash(t["meta"]["member_admin_ids"]),e.isStanceAdmin=e.toHash(t["meta"]["stance_admin_ids"]),e.userIds=Lr()(Mr()(e.userIds.concat(ze()(t["users"],"id")))),e.updateStances()})).finally((function(){return e.loading=!1}))}),300),updateStances:function(){var e;return e=j["a"].users.collection.chain(),e=e.find({id:{$in:this.userIds}}),this.query&&(e=e.find({$or:[{name:{$regex:["^".concat(this.query),"i"]}},{email:{$regex:["".concat(this.query),"i"]}},{username:{$regex:["^".concat(this.query),"i"]}},{name:{$regex:[" ".concat(this.query),"i"]}}]})),this.users=e.data()}}},lb=cb,ub=Object(L["a"])(lb,rb,ib,!1,null,null,null),db=ub.exports;q()(ub,{DismissModalButton:er,Space:jt["a"],UserAvatar:It["a"],VBtn:Pn["a"],VChip:Pt["a"],VIcon:Tt["a"],VList:Mt["a"],VListItem:At["a"],VListItemAction:Rt["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemTitle:$t["c"],VMenu:Rc["a"],VSpacer:Oo["a"],VSubheader:Qt["a"],VTextarea:zu["a"]});var pb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-remind"},[n("div",{staticClass:"pa-4"},[n("div",{staticClass:"d-flex justify-space-between"},[n("h1",{directives:[{name:"t",rawName:"v-t",value:"announcement.form.poll_reminder.title",expression:"'announcement.form.poll_reminder.title'"}],staticClass:"headline"}),n("dismiss-modal-button")],1),n("recipients-autocomplete",{attrs:{existingOnly:"",label:e.$t("announcement.form.poll_reminder.helptext"),placeholder:e.$t("announcement.form.placeholder"),model:e.poll,reset:e.reset,excludedUserIds:e.userIds,excludedAudiences:["group","discussion_group"],initialRecipients:e.initialRecipients}}),n("v-text-field",{attrs:{label:e.$t("announcement.form.poll_reminder.message_label"),placeholder:e.$t("announcement.form.poll_reminder.message_placeholder")},model:{value:e.poll.recipientMessage,callback:function(t){e.$set(e.poll,"recipientMessage",t)},expression:"poll.recipientMessage"}}),n("div",{staticClass:"d-flex"},[n("v-spacer"),n("v-btn",{staticClass:"poll-members-list__submit",attrs:{color:"primary",disabled:!e.someRecipients,loading:e.saving},on:{click:e.submit}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.remind",expression:"'common.action.remind'"}]})])],1)],1)])},mb=[],fb={components:{RecipientsAutocomplete:pd["a"]},props:{poll:Object},data:function(){return{users:[],userIds:[],isMember:{},isMemberAdmin:{},isStanceAdmin:{},reset:!1,saving:!1,loading:!1,initialRecipients:[],actionNames:[],service:sb,query:""}},computed:{someRecipients:function(){return this.poll.recipientAudience||this.poll.recipientUserIds.length||this.poll.recipientEmails.length}},methods:{submit:function(){var e=this;return this.saving=!0,j["a"].remote.post("polls/".concat(this.poll.id,"/remind"),{poll:{recipient_audience:this.poll.recipientAudience,recipient_user_ids:this.poll.recipientUserIds,recipient_message:this.poll.recipientMessage}}).then((function(e){var t;return t=e.count,_e["a"].success("announcement.flash.success",{count:t}),S["a"].$emit("closeModal")})).finally((function(){return e.saving=!1}))}}},hb=fb,_b=Object(L["a"])(hb,pb,mb,!1,null,null,null),vb=_b.exports;q()(_b,{DismissModalButton:er,VBtn:Pn["a"],VSpacer:Oo["a"],VTextField:Zt["a"]});var bb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group-invitation-form"},[n("div",{staticClass:"px-4 pt-4"},[n("div",{staticClass:"d-flex justify-space-between"},[n("h1",{directives:[{name:"t",rawName:"v-t",value:{path:"announcement.send_group",args:{name:e.group.name}},expression:"{path: 'announcement.send_group', args: {name: group.name} }"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("dismiss-modal-button")],1),e.cannotInvite?n("div",{staticClass:"py-4"},[n("div",{staticClass:"announcement-form__invite"},[e.invitationsRemaining<1?n("p",{domProps:{innerHTML:e._s(e.$t("announcement.form.no_invitations_remaining",{upgradeUrl:e.upgradeUrl,maxMembers:e.subscription.max_members}))}}):e._e(),e.subscription.active?e._e():n("p",{domProps:{innerHTML:e._s(e.$t("discussion.subscription_canceled",{upgradeUrl:e.upgradeUrl}))}})])]):n("div",[n("recipients-autocomplete",{attrs:{label:e.$t("announcement.form.who_to_invite"),placeholder:e.$t("announcement.form.placeholder"),"excluded-user-ids":e.excludedUserIds,reset:e.reset,model:e.group},on:{"new-query":e.newQuery,"new-recipients":e.newRecipients}}),e.subscription.max_members?n("div",[e.tooManyInvitations?e._e():n("p",{staticClass:"caption",domProps:{innerHTML:e._s(e.$t("announcement.form.invitations_remaining",{count:e.invitationsRemaining,upgradeUrl:e.upgradeUrl}))}}),e.tooManyInvitations?n("p",{staticClass:"caption",domProps:{innerHTML:e._s(e.$t("announcement.form.too_many_invitations",{upgradeUrl:e.upgradeUrl}))}}):e._e()]):e._e(),e.invitableGroups.length>1?n("div",{staticClass:"mb-4"},[n("label",{directives:[{name:"t",rawName:"v-t",value:"announcement.select_groups",expression:"'announcement.select_groups'"}],staticClass:"lmo-label"}),e._l(e.invitableGroups,(function(t){return n("div",{key:t.id},[n("v-checkbox",{staticClass:"invitation-form__select-groups",class:{"ml-4":!t.isParent()},attrs:{label:t.name,value:t.id,"hide-details":""},model:{value:e.groupIds,callback:function(t){e.groupIds=t},expression:"groupIds"}})],1)}))],2):e._e(),n("v-textarea",{attrs:{rows:"3",label:e.$t("announcement.form.invitation_message_label"),placeholder:e.$t("announcement.form.invitation_message_placeholder")},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"announcement-form__submit",attrs:{color:"primary",disabled:!e.recipients.length||e.tooManyInvitations||0==e.groupIds.length,loading:e.saving},on:{click:e.inviteRecipients}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"common.action.invite",expression:"'common.action.invite'"}]})])],1)],1)])])},gb=[],yb={components:{RecipientsAutocomplete:pd["a"]},props:{group:Object},data:function(){return{query:"",recipients:[],reset:!1,saving:!1,groupIds:[this.group.id],excludedUserIds:[],message:"",withMessage:!1,subscription:{},cannotInvite:!1,upgradeUrl:a["a"].baseUrl+"upgrade"}},mounted:function(){var e=this;return this.updateSuggestions(),this.watchRecords({collections:["memberships"],query:function(t){return e.updateSuggestions()}}),this.subscription=this.group.parentOrSelf().subscription,this.cannotInvite=!this.subscription.active||this.subscription.max_members&&this.invitationsRemaining<1},methods:{fetchMemberships:h()((function(){var e=this;return this.loading=!0,j["a"].memberships.fetch({params:{exclude_types:"group",q:this.query,group_id:this.group.id,per:20}}).finally((function(){return e.loading=!1}))}),300),inviteRecipients:function(){var e=this;return this.saving=!0,j["a"].announcements.remote.post("",{group_id:this.group.id,message:this.message,invited_group_ids:this.groupIds,recipient_emails:this.recipients.filter((function(e){return"email"===e.type})).map((function(e){return e.id})),recipient_user_ids:this.recipients.filter((function(e){return"user"===e.type})).map((function(e){return e.id}))}).then((function(e){return _e["a"].success("announcement.flash.success",{count:e.memberships.length}),S["a"].$emit("closeModal")})).finally((function(){return e.saving=!1}))},newQuery:function(e){return this.query=e,this.fetchMemberships(),this.updateSuggestions()},newRecipients:function(e){return this.recipients=e},updateSuggestions:function(){return this.excludedUserIds=this.group.memberIds()}},computed:{invitableGroups:function(){return this.group.parentOrSelf().selfAndSubgroups().filter((function(e){return I["a"].canAddMembersToGroup(e)}))},tooManyInvitations:function(){return this.subscription.max_members&&this.invitationsRemaining<0},invitationsRemaining:function(){return(this.subscription.max_members||0)-this.group.parentOrSelf().orgMembershipsCount-this.recipients.length}}},kb=yb,wb=(n("20c4"),Object(L["a"])(kb,bb,gb,!1,null,null,null)),xb=wb.exports;q()(wb,{DismissModalButton:er,VBtn:Pn["a"],VCardActions:un["a"],VCheckbox:Ea["a"],VSpacer:Oo["a"],VTextarea:zu["a"]});var Cb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[n("h1",{directives:[{name:"t",rawName:"v-t",value:"announcement."+e.modelKind+"_notification_history",expression:"'announcement.' + modelKind + '_notification_history'"}],staticClass:"headline",attrs:{tabindex:"-1"}}),n("v-spacer"),n("dismiss-modal-button")],1),n("v-layout",{attrs:{"justify-center":""}},[e.historyLoading?n("v-progress-circular",{attrs:{color:"primary",indeterminate:""}}):e._e()],1),e.historyLoading?e._e():n("v-card-text",[e.historyError&&0==e.historyData.length?n("p",{directives:[{name:"t",rawName:"v-t",value:"announcement.history_error",expression:"'announcement.history_error'"}]}):e._e(),e.historyError||0!=e.historyData.length?e._e():n("p",{directives:[{name:"t",rawName:"v-t",value:"announcement.no_notifications_sent",expression:"'announcement.no_notifications_sent'"}]}),e.historyData.length?n("p",{directives:[{name:"t",rawName:"v-t",value:"announcement.notification_history_explanation",expression:"'announcement.notification_history_explanation'"}]}):e._e(),e._l(e.historyData,(function(t){return n("div",{key:t.id},[n("h4",{staticClass:"mt-4 mb-2"},[n("time-ago",{attrs:{date:t.created_at}}),n("mid-dot"),n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"announcement."+t.kind,args:{name:t.author_name,length:t.notifications.length}},expression:"{ path: 'announcement.'+event.kind, args: { name: event.author_name, length: event.notifications.length } }"}]})],1),n("ul",{staticStyle:{"list-style-type":"none","padding-left":"0"}},e._l(t.notifications,(function(t){return n("li",{key:t.id},[n("span",[e._v(e._s(t.to))]),n("space"),t.viewed?n("span",[e._v("")]):e._e()],1)})),0)])}))],2)],1)},Ob=[],jb=(n("c963"),{props:{close:Function,model:{type:Object,required:!0}},data:function(){return{historyData:[],historyLoading:!1,historyError:!1}},created:function(){var e=this;return this.historyLoading=!0,j["a"].announcements.fetchHistoryFor(this.model).then((function(t){return e.historyLoading=!1,e.historyData=t||[]}),(function(t){return e.historyLoading=!1,e.historyError=!0}))},computed:{modelKind:function(){return this.model.constructor.singular},pollType:function(){return this.model.pollType},translatedPollType:function(){if(this.model.isA("poll")||this.model.isA("outcome"))return this.model.poll().translatedPollType()}}}),Sb=jb,Ib=Object(L["a"])(Sb,Cb,Ob,!1,null,null,null),Pb=Ib.exports;q()(Ib,{DismissModalButton:er,MidDot:Ne["a"],Space:jt["a"],TimeAgo:zt["a"],VCard:Kt["a"],VCardText:un["c"],VCardTitle:un["d"],VLayout:Q["a"],VProgressCircular:Z["a"],VSpacer:Oo["a"]});var Tb={components:{AnnouncementHistory:Pb,GroupForm:Zp,DiscussionForm:bd,EditCommentForm:lm,ConfirmModal:hm,ChangeVolumeForm:od,PollCommonModal:km,PollCommonEditVoteModal:Sm,ContactRequestForm:Vm,AuthModal:qf,MembershipRequestForm:Kf,MembershipModal:Xf,ChangePasswordForm:ih,PollCommonOutcomeModal:ph,PollCommonReopenModal:gh,PollCommonMoveForm:Ah,ArrangementForm:om,MoveThreadForm:Oh,PollCommonAddOptionModal:Lh,PollCommonStartForm:nr,RevisionHistoryModal:O_,TagsModal:F_,TagsSelect:$_,WebhookForm:G_,WebhookList:nv,ChangePictureForm:uv,GroupNewForm:Vu,PinEventForm:vv,MoveCommentsModal:Cv,ExportDataModal:Tv,InstallSamlProviderModal:Mv,AddPollToThreadModal:Bv,StrandMembersList:Zv,PollMembers:db,PollReminderForm:vb,GroupInvitationForm:xb,SeenByModal:ob},data:function(){return{isOpen:!1,componentName:"",componentProps:{},componentKey:"defaultKey",maxWidth:null}},created:function(){return S["a"].$on("openModal",this.openModal),S["a"].$on("closeModal",this.closeModal)},destroyed:function(){return S["a"].$off("openModal",this.openModal),S["a"].$off("closeModal",this.closeModal)},methods:{openModal:function(e){var t=this;return this.maxWidth=e.maxWidth||640,this.componentName=e.component,this.componentProps=e.props,this.componentKey=(new Date).getTime(),this.isOpen=!0,setTimeout((function(){if(t.$refs.modalLauncher&&document.querySelector(".modal-launcher h1"))return document.querySelector(".modal-launcher h1").focus()}))},closeModal:function(){return this.isOpen&&(this.componentProps||{}).close?this.componentProps.close():this.isOpen=!1}}},Ab=Tb,Rb=Object(L["a"])(Ab,zp,Hp,!1,null,null,null),Vb=Rb.exports;q()(Rb,{VCard:Kt["a"],VDialog:ul["a"]});var $b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{staticClass:"lmo-no-print",attrs:{app:"","clipped-right":"","elevate-on-scroll":"",color:"background"}},[n("v-btn",{staticClass:"navbar__sidenav-toggle",attrs:{icon:"","aria-label":e.$t(e.sidebarOpen?"navbar.close_sidebar":"navbar.open_sidebar")},on:{click:function(t){return e.toggleSidebar()}}},[n("v-avatar",{attrs:{tile:"",size:"36px"}},[n("v-icon",[e._v("mdi-menu")])],1)],1),e.showTitle?n("v-toolbar-title",{on:{click:function(t){return e.$vuetify.goTo("head",{duration:0})}}},[e._v(e._s(e.title))]):e._e(),n("v-spacer"),e.isLoggedIn?n("notifications"):e._e(),n("v-toolbar-items"),e.isLoggedIn?e._e():n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"navbar.sign_in",expression:"'navbar.sign_in'"}],staticClass:"navbar__sign-in",attrs:{text:""},on:{click:function(t){return e.signIn()}}})],1)},Nb=[],Eb={mixins:[Ao],data:function(){return{title:a["a"].theme.site_name,isLoggedIn:c["a"].isSignedIn(),group:null,breadcrumbs:null,sidebarOpen:!1,activeTab:"",showTitle:!0,page:null}},methods:{toggleSidebar:function(){return S["a"].$emit("toggleSidebar")},toggleThreadNav:function(){return S["a"].$emit("toggleThreadNav")},signIn:function(){return this.openAuthModal()},last:Dn.a},mounted:function(){var e=this;return S["a"].$on("sidebarOpen",(function(t){return e.sidebarOpen=t})),S["a"].$on("signedIn",(function(t){return e.isLoggedIn=!0})),S["a"].$on("content-title-visible",(function(t){return e.showTitle=!t})),S["a"].$on("currentComponent",(function(t){if(t=Object.assign({focusHeading:!0},t),null!=t.title?e.title=t.title:null!=t.titleKey&&(e.title=e.$t(t.titleKey)),e.group=t.group,e.discussion=t.discussion,e.page=t.page,t.focusHeading)return setTimeout((function(){if(document.querySelector(".v-main h1"))return document.querySelector(".v-main h1").focus()}))}))},computed:{groupName:function(){if(this.group)return this.group.name},parentName:function(){if(this.group)return this.group.parentOrSelf().name},groupPage:function(){return"groupPage"===this.page},threadPage:function(){return"threadPage"===this.page},logo:function(){return a["a"].theme.app_logo_src},icon:function(){return a["a"].theme.icon_src}}},Mb=Eb,Db=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{staticClass:"notifications",attrs:{"offset-y":"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.attrs;return[n("v-btn",e._b({staticClass:"notifications__button",attrs:{icon:"","aria-label":e.$t("navbar.notifications")},on:{click:e.clicked}},"v-btn",o,!1),[n("v-badge",{attrs:{color:"accent"},scopedSlots:e._u([{key:"badge",fn:function(){return[n("span",{staticClass:"notifications__activity"},[e._v(e._s(e.unread.length))])]},proxy:!0}],null,!0),model:{value:e.unread.length,callback:function(t){e.$set(e.unread,"length",t)},expression:"unread.length"}},[n("v-icon",[e._v("mdi-bell")])],1)],1)]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-sheet",{staticClass:"notifications__dropdown"},[e.notifications.length>0?n("v-list",{attrs:{dense:""}},e._l(e.notifications,(function(t){return n("v-list-item",{key:t.id,staticClass:"notification",class:{"v-list-item--active":e.unreadIds.includes(t.id)},attrs:{to:t.href()}},[n("v-list-item-avatar",[t.actor()?n("user-avatar",{attrs:{user:t.actor(),size:"thirtysix"}}):e._e()],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"notification__content"},[n("span",{domProps:{innerHTML:e._s(e.$t(t.path(),t.args()))}}),n("space"),n("span",{attrs:{"aria-hidden":"true"}},[e._v("")]),n("space"),n("time-ago",{attrs:{date:t.createdAt}})],1)],1)],1)})),1):e._e(),0==e.notifications.length?[n("v-list-item",{directives:[{name:"t",rawName:"v-t",value:"notifications.no_notifications",expression:"'notifications.no_notifications'"}],staticClass:"notification"})]:e._e()],2)],1)},Lb=[],Fb={data:function(){return{notifications:[],unread:[],unreadCount:0,unreadIds:[],open:!1}},methods:{clicked:function(){return this.open=!this.open,this.open?(this.unread=j["a"].notifications.find({viewed:{$ne:!0}}),this.unreadIds=this.unread.map((function(e){return e.id})),j["a"].notifications.viewed()):(this.unreadIds=[],this.unreadCount=0)}},created:function(){var e=this;return j["a"].notifications.fetchNotifications(),this.watchRecords({collections:["notifications"],query:function(t){return e.notifications=t.notifications.collection.chain().simplesort("id",!0).data(),e.unread=t.notifications.find({viewed:{$ne:!0}}),e.unreadCount=e.unreadCount}})}},qb=Fb,Ub=(n("96d7"),n("4ca6")),Bb=Object(L["a"])(qb,Db,Lb,!1,null,null,null),zb=Bb.exports;q()(Bb,{Space:jt["a"],TimeAgo:zt["a"],UserAvatar:It["a"],VBadge:Ub["a"],VBtn:Pn["a"],VIcon:Tt["a"],VList:Mt["a"],VListItem:At["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemTitle:$t["c"],VMenu:Rc["a"],VSheet:Vc["a"]});var Hb=n("40dc"),Gb=n("2a7f"),Kb=Object(L["a"])(Mb,$b,Nb,!1,null,null,null),Wb=Kb.exports;q()(Kb,{Notifications:zb,VAppBar:Hb["a"],VAvatar:ln["a"],VBtn:Pn["a"],VIcon:Tt["a"],VSpacer:Oo["a"],VToolbarItems:Gb["a"],VToolbarTitle:Gb["b"]});var Yb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{staticClass:"sidenav-left lmo-no-print",attrs:{app:""},scopedSlots:e._u([{key:"prepend",fn:function(){},proxy:!0},{key:"append",fn:function(){return[n("v-layout",{staticClass:"mx-10 my-2",staticStyle:{"max-height":"64px"},attrs:{column:"","align-center":""}},[n("v-img",{attrs:{src:e.logoUrl}}),n("a",{staticClass:"ml-4 caption",attrs:{href:"https://github.com/loomio/loomio/releases",target:"_blank"}},[e._v(e._s(e.version))])],1)]},proxy:!0}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-list-group",{staticClass:"sidebar__user-dropdown",scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.user.name))]),n("v-list-item-subtitle",[e._v(e._s(e.user.email))])],1)]},proxy:!0}])},[n("user-dropdown")],1),n("v-divider"),n("v-list-item",{staticClass:"sidebar__list-item-button--recent",attrs:{dense:"",to:"/dashboard"}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"sidebar.recent_threads",expression:"'sidebar.recent_threads'"}]})],1),n("v-list-item",{attrs:{dense:"",to:"/inbox"}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:{path:"sidebar.unread_threads",args:{count:e.unreadThreadCount()}},expression:"{ path: 'sidebar.unread_threads', args: { count: unreadThreadCount() } }"}]})],1),n("v-list-item",{staticClass:"sidebar__list-item-button--private",attrs:{dense:"",to:"/threads/direct"}},[n("v-list-item-title",[n("span",{directives:[{name:"t",rawName:"v-t",value:"sidebar.invite_only_threads",expression:"'sidebar.invite_only_threads'"}]}),e.unreadDirectThreadsCount>0?n("span",[n("space"),n("span",[e._v("("+e._s(e.unreadDirectThreadsCount)+")")])],1):e._e()])],1),n("v-list-item",{staticClass:"sidebar__list-item-button--start-thread",attrs:{dense:"",to:"/d/new"}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"sidebar.start_thread",expression:"'sidebar.start_thread'"}]}),n("v-list-item-avatar",{attrs:{size:28}},[n("v-icon",{attrs:{tile:""}},[e._v("mdi-plus")])],1)],1),n("v-divider"),n("v-list",{staticClass:"sidebar__groups",attrs:{dense:""}},[e._l(e.organizations,(function(t){return[e.memberGroups(t).length?[n("v-list-group",{on:{click:function(n){return e.goToGroup(t)}},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-avatar",{attrs:{"aria-hidden":"true"}},[n("group-avatar",{attrs:{group:t}})],1),n("v-list-item-content",[n("v-list-item-title",[n("span",[e._v(e._s(t.name))]),e.closedCounts[t.id]?[e._v(""),n("span",[e._v("("+e._s(e.closedCounts[t.id])+")")])]:e._e()],2)],1)]},proxy:!0}],null,!0),model:{value:e.openGroups[t.id],callback:function(n){e.$set(e.openGroups,t.id,n)},expression:"openGroups[parentGroup.id]"}},[n("v-list-item",{attrs:{to:e.urlFor(t)+"?subgroups=none"}},[n("v-list-item-content",[n("v-list-item-title",[n("span",[e._v(e._s(t.name))]),e.openCounts[t.id]?[e._v(""),n("span",[e._v("("+e._s(e.openCounts[t.id])+")")])]:e._e()],2)],1)],1),e._l(e.memberGroups(t),(function(t){return n("v-list-item",{key:t.id,attrs:{to:e.urlFor(t)}},[n("v-list-item-content",[n("v-list-item-title",[n("span",[e._v(e._s(t.name))]),e.openCounts[t.id]?[e._v(""),n("span",[e._v("("+e._s(e.openCounts[t.id])+")")])]:e._e()],2)],1)],1)}))],2)]:[n("v-list-item",{attrs:{to:e.urlFor(t)}},[n("v-list-item-avatar",[n("group-avatar",{attrs:{group:t}})],1),n("v-list-item-content",[n("v-list-item-title",[n("span",[e._v(e._s(t.name))]),e.openCounts[t.id]?[e._v(""),n("span",[e._v("("+e._s(e.openCounts[t.id])+")")])]:e._e()],2)],1)],1)]]}))],2),n("v-divider"),e.canStartGroups?n("v-list-item",{staticClass:"sidebar__list-item-button--start-group",attrs:{to:"/g/new",dense:""}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"group_form.new_group",expression:"'group_form.new_group'"}]}),n("v-list-item-avatar",{attrs:{size:28}},[n("v-icon",{attrs:{tile:""}},[e._v("mdi-plus")])],1)],1):e._e(),n("v-divider"),n("v-list-item",{attrs:{dense:"",to:"/explore"}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"sidebar.explore_groups",expression:"'sidebar.explore_groups'"}]})],1)],1)},Qb=[];function Zb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jb(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xb(e,t,n){return t&&Jb(e.prototype,t),n&&Jb(e,n),e}var eg=new(function(){var e=function(){function e(){Zb(this,e)}return Xb(e,[{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j["a"].discussions.fetchInbox(t).then((function(){return e.loaded=!0}))}},{key:"unreadCount",value:function(){return this.loaded?this.query().length:"..."}},{key:"query",value:function(){return V(j["a"],{filters:this.filters})}}]),e}();return e.prototype.filters=["only_threads_in_my_groups","show_unread","show_recent","hide_muted","hide_dismissed"],e}.call(void 0)),tg={data:function(){return{organization:null,open:!1,group:null,version:a["a"].version,tree:[],myGroups:[],otherGroups:[],organizations:[],unreadCounts:{},expandedGroupIds:[],openGroups:[],unreadDirectThreadsCount:0}},created:function(){var e=this;if(S["a"].$on("toggleSidebar",(function(){return e.open=!e.open})),S["a"].$on("currentComponent",(function(t){return e.group=t.group,e.group?(e.organization=t.group.parentOrSelf(),e.expandedGroupIds=[e.organization.id]):e.organization=null})),this.watchRecords({collections:["groups","memberships","discussions"],query:function(t){return e.unreadDirectThreadsCount=j["a"].discussions.collection.chain().find({groupId:null}).where((function(e){return e.isUnread()})).data().length,e.updateGroups()}}),S["a"].$on("signedIn",(function(t){return e.fetchData(),e.openIfPinned()})),c["a"].isSignedIn())return this.fetchData()},mounted:function(){return this.openIfPinned()},watch:{organization:"updateGroups",open:function(e){return S["a"].$emit("sidebarOpen",e)}},methods:{memberGroups:function(e){return e.subgroups().filter((function(e){return e.membershipFor(c["a"].user())}))},openIfPinned:function(){return this.open=c["a"].isSignedIn()&&!!c["a"].user().experiences["sidebar"]&&this.$vuetify.breakpoint.lgAndUp},fetchData:function(){var e=this;return j["a"].users.fetchGroups().then((function(){if("/dashboard"===e.$router.history.current.path&&1===c["a"].user().groups().length&&e.$router.replace("/g/".concat(c["a"].user().groups()[0].key)),"/dashboard"===e.$router.history.current.path&&0===c["a"].user().groups().length)return e.$router.replace("/g/new")})),eg.load()},goToGroup:function(e){return this.$router.push(this.urlFor(e))},updateGroups:function(){var e=this;return this.organizations=Mr()(c["a"].user().parentGroups().concat(c["a"].user().orphanParents()))||[],this.openCounts={},this.closedCounts={},this.openGroups=[],c["a"].user().groups().forEach((function(t){return e.openCounts[t.id]=Sc()(t.discussions(),(function(e){return e.isUnread()})).length})),c["a"].user().parentGroups().forEach((function(t){return e.organization&&e.organization.id===t.parentOrSelf().id&&(e.openGroups[t.id]=!0),e.closedCounts[t.id]=e.openCounts[t.id]+et()(ze()(e.memberGroups(t),(function(t){return e.openCounts[t.id]})))}))},unreadThreadCount:function(){return eg.unreadCount()},canViewPublicGroups:function(){return I["a"].canViewPublicGroups()}},computed:{user:function(){return c["a"].user()},activeGroup:function(){return this.group?[this.group.id]:[]},logoUrl:function(){return a["a"].theme.app_logo_src},canStartGroups:function(){return I["a"].canStartGroups()}}},ng=tg,og=(n("b27c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-dropdown"},[e.user.experiences["sidebar"]?e._e():n("v-list-item",{attrs:{dense:""},on:{click:e.togglePinned}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.pin_sidebar",expression:"'user_dropdown.pin_sidebar'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-pin")])],1)],1),e.user.experiences["sidebar"]?n("v-list-item",{attrs:{dense:""},on:{click:e.togglePinned}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.unpin_sidebar",expression:"'user_dropdown.unpin_sidebar'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-pin-off")])],1)],1):e._e(),e.user.experiences["betaFeatures"]?e._e():n("v-list-item",{attrs:{dense:""},on:{click:e.toggleBeta}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.enable_beta_features",expression:"'user_dropdown.enable_beta_features'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-flask-outline")])],1)],1),e.user.experiences["betaFeatures"]?n("v-list-item",{attrs:{dense:""},on:{click:e.toggleBeta}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.disable_beta_features",expression:"'user_dropdown.disable_beta_features'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-flask-empty-off-outline")])],1)],1):e._e(),e.user.experiences["betaFeatures"]&&!e.user.experiences["darkMode"]?n("v-list-item",{attrs:{dense:""},on:{click:e.toggleDark}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.enable_dark_mode",expression:"'user_dropdown.enable_dark_mode'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-weather-night")])],1)],1):e._e(),e.user.experiences["darkMode"]?n("v-list-item",{attrs:{dense:""},on:{click:e.toggleDark}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.disable_dark_mode",expression:"'user_dropdown.disable_dark_mode'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-white-balance-sunny")])],1)],1):e._e(),n("v-list-item",{staticClass:"user-dropdown__list-item-button--profile",attrs:{to:"/profile",dense:""}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.edit_profile",expression:"'user_dropdown.edit_profile'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-account")])],1)],1),n("v-list-item",{staticClass:"user-dropdown__list-item-button--email-settings",attrs:{to:"/email_preferences",dense:""}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.email_settings",expression:"'user_dropdown.email_settings'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-cog-outline")])],1)],1),e.showHelp?n("v-list-item",{attrs:{href:e.helpLink,target:"_blank",dense:""}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.help",expression:"'user_dropdown.help'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-help-circle-outline")])],1)],1):e._e(),n("v-list-item",{attrs:{to:"/contact",dense:""}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:{path:"user_dropdown.contact_support",args:{site_name:e.siteName}},expression:"{path: 'user_dropdown.contact_support', args: {site_name: siteName}}"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-email-outline")])],1)],1),n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.signOut()}}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"user_dropdown.sign_out",expression:"'user_dropdown.sign_out'"}]}),n("v-list-item-icon",[n("v-icon",[e._v("mdi-exit-to-app")])],1)],1)],1)}),rg=[],ig={methods:{togglePinned:function(){return this.user.experiences["sidebar"]?j["a"].users.removeExperience("sidebar"):j["a"].users.saveExperience("sidebar")},toggleBeta:function(){return this.user.experiences["betaFeatures"]?j["a"].users.removeExperience("betaFeatures"):(j["a"].users.saveExperience("betaFeatures"),_e["a"].success("user_dropdown.beta_collab"))},toggleDark:function(){return this.user.experiences["darkMode"]?(j["a"].users.removeExperience("darkMode"),this.$vuetify.theme.dark=!1):(j["a"].users.saveExperience("darkMode"),this.$vuetify.theme.dark=!0)},signOut:function(){return c["a"].signOut()}},computed:{siteName:function(){return a["a"].theme.site_name},user:function(){return c["a"].user()},helpLink:function(){return qu.helpLink()},showHelp:function(){return a["a"].features.app.help_link}}},ag=ig,sg=Object(L["a"])(ag,og,rg,!1,null,null,null),cg=sg.exports;q()(sg,{VIcon:Tt["a"],VListItem:At["a"],VListItemIcon:ps["a"],VListItemTitle:$t["c"]});var lg=n("56b0"),ug=Object(L["a"])(ng,Yb,Qb,!1,null,null,null),dg=ug.exports;q()(ug,{GroupAvatar:Tl,Space:jt["a"],UserDropdown:cg,VDivider:Co["a"],VIcon:Tt["a"],VImg:dn["a"],VLayout:Q["a"],VList:Mt["a"],VListGroup:lg["a"],VListItem:At["a"],VListItemAvatar:Vt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"],VNavigationDrawer:Wa["a"]});var pg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.notice&&e.showNotice?n("v-system-bar",{staticClass:"system-notice",attrs:{app:""}},[n("div",{staticClass:"d-flex justify-space-between",staticStyle:{width:"100%"}},[n("div",{directives:[{name:"marked",rawName:"v-marked",value:e.notice,expression:"notice"}],staticClass:"system-notice__message"}),n("a",{directives:[{name:"t",rawName:"v-t",value:"dashboard_page.dismiss",expression:"'dashboard_page.dismiss'"}],staticClass:"pl-2 system-notice__hide",on:{click:e.hideNotice}})])]):e._e()},mg=[],fg=n("6821"),hg=n.n(fg),_g={data:function(){return{notice:"",showNotice:!0}},mounted:function(){var e=this;return S["a"].$on("systemNotice",(function(t){return e.notice=t.notice,e.showNotice=!c["a"].user().hasExperienced(hg()(e.notice))})),this.notice=a["a"].systemNotice||"",this.showNotice=!c["a"].user().hasExperienced(hg()(this.notice))},methods:{hideNotice:function(){return j["a"].users.saveExperience(hg()(this.notice)),this.showNotice=!1}}},vg=_g,bg=(n("2df2"),n("afd9")),gg=Object(L["a"])(vg,pg,mg,!1,null,null,null),yg=gg.exports;q()(gg,{VSystemBar:bg["a"]});var kg=n("7496"),wg=Object(L["a"])(xp,tp,np,!1,null,null,null),xg=wg.exports;q()(wg,{CommonError:Pp,CommonFlash:Ep,CommonFooter:Bp,ModalLauncher:Vb,Navbar:Wb,Sidebar:dg,SystemNotice:yg,VApp:kg["a"],VSpacer:Oo["a"]});var Cg,Og=n("5300");jn.a.setOptions(Object.assign({renderer:Object(Ha["a"])()},Ha["b"])),Cg=function(e,t,n){if(t.value)return e.innerHTML=Object(Og["c"])(jn()(t.value))};i["a"].directive("marked",{update:Cg,bind:Cg});var jg=n("85fe");i["a"].directive("observe-visibility",jg["a"]);n("a6c1");var Sg=n("82dc"),Ig=n("4eb5"),Pg=n.n(Ig),Tg={data:function(){return{watchedRecords:[]}},methods:{watchRecords:function(e){var t,n=e.collections,o=e.query,r=e.key,i=void 0===r?"":r;return t="".concat(n.join("_"),"_").concat(this._uid,"_").concat(i),this.watchedRecords.push(t),j["a"].view({name:t,collections:n,query:o})}},beforeDestroy:function(){return this.watchedRecords.forEach((function(e){return delete j["a"].views[e]}))}},Ag={methods:{closeModal:function(){return S["a"].$emit("closeModal")}}},Rg={computed:{currentUser:function(){return c["a"].user()},currentUserId:function(){return a["a"].currentUserId}},methods:{titleVisible:function(e){return S["a"].$emit("content-title-visible",e)},scrollTo:function(e,t){var n,o=this;return n=function(e,t){return document.querySelector(e)?t():setTimeout((function(){return n(e,t)}),500)},n(e,(function(){if(o.$vuetify.goTo(e,{duration:0,offset:32}),A()([1,2,3],(function(t){var n;return n=e+" h".concat(t,'[tabindex="-1"]'),!document.querySelector(n)||(document.querySelector(n).focus(),!1)})),t)return t()}))},approximateDate:function(e){return Object(Te["a"])(e)},exactDate:function(e){return Object(Te["b"])(e)},timelineDate:function(e){return Object(Te["d"])(e)}}},Vg=n("0086"),$g=n.n(Vg),Ng=n("6cd4"),Eg=n.n(Ng),Mg=n("dc21"),Dg=n("e594"),Lg=n("688d"),Fg=function(e){var t;return t=new Vv["a"]("boot"),t.get("site").then((function(t){return t.json().then((function(t){return t.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone,Eg()(t,(function(e,t){return i["a"].set(a["a"],t,e)})),a["a"].sentry_dsn&&(Mg["a"]({ignoreErrors:["Avoided redundant navigation to current location","NotFoundError: Node.removeChild","NotFoundError: Failed to execute 'removeChild' on 'Node'","NotFoundError: The object can not be found here","NotFoundError: Node was not found","null is not an object (evaluating 'r.addEventListener')","Cannot read property 'addEventListener' of null","ResizeObserver loop limit exceeded","MetaMask detected another web3","AbortError: The operation was aborted","ResizeObserver loop completed with undelivered notifications","TypeError: cancelled","UnhandledRejection: Non-Error promise rejection captured with value","ChunkLoadError: Loading chunk chunk-","TypeError: annul",'Permission denied to access property "dispatchEvent" on cross-origin object'],dsn:a["a"].sentry_dsn,integrations:[new Lg["a"].BrowserTracing,new Dg["a"]({Vue:i["a"],attachProps:!0,logErrors:!0,tracing:!0})],tracesSampleRate:a["a"].features.app.sentry_sample_rate||.1}),Sg["b"]((function(e){return e.setTag("loomio_version",a["a"].version)}))),["shortcut icon","apple-touch-icon"].forEach((function(e){var t;return t=document.createElement("link"),t.rel=e,t.href=a["a"].theme.icon_src,document.getElementsByTagName("head")[0].appendChild(t)})),Eg()(j["a"],(function(e,t){var n;if(n=Object.getPrototypeOf(e).model,n&&a["a"].permittedParams[n.singular])return n.serializableAttributes=a["a"].permittedParams[n.singular]})),e(t)}))}))};n("5abe"),i["a"].use($g.a),i["a"].mixin(Ag),i["a"].mixin(Tg),i["a"].mixin(wn),i["a"].use(Pg.a),i["a"].mixin(Rg),i["a"].config.productionTip=!1,Fg((function(e){return c["a"].apply(e),a["a"].sentry_dsn&&Sg["b"]((function(e){return e.setUser(r()(c["a"].user(),["id","email","username"]))})),z(),new i["a"]({render:function(e){return e(xg)},router:ep,vuetify:d,i18n:ru["a"]}).$mount("#app")}))},"152a":function(e,t,n){},"15d5":function(e,t,n){"use strict";n("ad52")},1777:function(e,t,n){},"17b9":function(e,t,n){"use strict";var o=n("65c3");t["a"]=function(e){return o["a"].$emit("openModal",e)}},"18d2":function(e,t,n){},"19b0":function(e,t,n){},"1a86":function(e,t,n){},"1b97":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-overlay",{staticClass:"submit-overlay",attrs:{value:e.value}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},r=[],i={props:{value:Boolean}},a=i,s=n("2877"),c=n("6544"),l=n.n(c),u=n("a797"),d=n("490a"),p=Object(s["a"])(a,o,r,!1,null,null,null);t["a"]=p.exports;l()(p,{VOverlay:u["a"],VProgressCircular:d["a"]})},"1ca5":function(e,t,n){"use strict";n("9172")},"1e82":function(e,t,n){"use strict";var o=n("d173"),r=n.n(o),i=n("3092"),a=n.n(i),s=n("f4a7");function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}t["a"]=new(function(){function e(){c(this,e),this.models=[]}return u(e,[{key:"okToLeave",value:function(e){var t,n;return t=["description","title","body","details","name","reason","statement"],n=e&&[e]||this.models,a()(n,(function(e){return r()(t,e.modifiedAttributes()).length>0}))?!!confirm(s["a"].t("common.confirm_discard_changes"))&&(e&&e.discardChanges()||!0):(this.models=[],!0)}},{key:"add",value:function(e){return this.models.push(e)}},{key:"clear",value:function(){return this.models=[]}}]),e}())},"1e98":function(e,t,n){},2038:function(e,t,n){},2053:function(e,t,n){"use strict";n("1777")},"20ad":function(e,t,n){},"20c4":function(e,t,n){"use strict";n("8af8")},"221e":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"thread-renderer mb-2"},e._l(e.adjustedSlots,(function(t){return n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:function(n){return e.slotVisible(n,t)}},expression:"{callback: (isVisible) => slotVisible(isVisible, slot)}"}],key:t,staticClass:"thread-item-slot"},[n("thread-item-wrapper",{attrs:{"parent-id":e.parentEvent.id,event:e.eventsBySlot[t],position:parseInt(t),"focal-event":e.focalEvent,"is-returning":e.isReturning}})],1)})),0)},r=[],i=n("5add"),a=n.n(i),s=n("63ea"),c=n.n(s),l=n("ceac"),u=n.n(l),d=n("c707"),p=n.n(d),m=n("2676"),f=n.n(m),h=n("ec69"),_=n.n(h),v=n("dd61"),b=n.n(v),g=n("abdd"),y=n.n(g),k=n("004e"),w=n.n(k),x=n("5a3a"),C=n.n(x),O=n("b047"),j=n.n(O),S=n("b8ce"),I=n.n(S),P=n("6edf"),T=n.n(P),A=n("5128"),R=n.n(A),V=n("cd6d"),$=n("65c3"),N=n("9f09"),E=n("2b0e");E["a"].observable({});var M={props:{parentEvent:Object,focalEvent:Object,fetch:Function,newestFirst:Boolean,isReturning:Boolean},data:function(){return{eventsBySlot:{},visibleSlots:[],missingItems:[],focus:null,slots:[],padding:parseInt(screen.height/40)||20}},created:function(){var e=this;return this.fetchMissing=j()((function(){return this.fetch(this.missingItems,this.padding)}),500),this.watchRecords({key:"parentEvent"+this.parentEvent.id,collections:["events"],query:function(){return e.renderSlots()}})},methods:{grouped:function(e){return T()(e,(function(e){return parseInt(.1*e)}))},renderSlots:function(){var e,t,n,o,r,i=this;if(0!==this.parentEvent.childCount)return this.focalEvent?this.focus=this.eventOrParent(this.focalEvent).position:this.focus=this.visibleSlots[parseInt(this.visibleSlots.length/2)]||1,e=y()([1,this.focus-this.padding]),n=w()([this.focus+this.padding,this.parentEvent.childCount]),t=y()([1,e-2*this.padding]),o=w()([this.parentEvent.childCount,n+2*this.padding]),r=[],V["a"].events.collection.chain().find({parentId:this.parentEvent.id}).find({position:{$between:[e,n]}}).simplesort("position").data().forEach((function(e){return r.push(e.position),i.eventsBySlot[e.position]=e})),C()(t,o+1).forEach((function(e){if(!i.eventsBySlot.hasOwnProperty(e))return i.eventsBySlot[e]=null})),this.missingItems=p()(u()(C()(e,n+1),r)),this.slots=p()(b()(_()(this.eventsBySlot),Number))},slotVisible:function(e,t){return t=parseInt(t),this.visibleSlots=e?f()(p()(this.visibleSlots.concat([t]))):a()(this.visibleSlots,t)},eventOrParent:function(e){return this.parentEvent&&e.parent()&&e.depth!==this.parentEvent.depth+1?this.eventOrParent(e.parent()):e}},computed:{adjustedSlots:function(){return this.newestFirst&&0===this.parentEvent.depth?R()(I()(this.slots)):this.slots}},watch:{"parentEvent.childCount":function(e,t){if(e<t)return this.eventsBySlot={},this.visibleSlots=[],this.missingItems=[],this.slots=[],this.renderSlots()},focalEvent:function(){return this.renderSlots()},visibleSlots:{immediate:!0,handler:function(e,t){if(!c()(e,t)&&this.parentEvent)return 0===this.parentEvent.depth&&$["a"].$emit("visibleSlots",e),this.renderSlots()}},missingItems:function(){if(this.visibleSlots.length)return this.fetchMissing()},newestFirst:function(){return this.visibleSlots=[]}}},D=M,L=(n("1ca5"),n("2877")),F=n("6544"),q=n.n(F),U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"thread-item-wrapper",style:e.minHeightStyle,attrs:{id:e.idString}},[e.event?n(e.componentForKind(e.event.kind),{ref:"item",tag:"component",attrs:{event:e.event,"is-returning":e.isReturning}}):e._e(),e.event&&e.event.childCount>0?n("event-children",{attrs:{"parent-event":e.event,"focal-event":e.focalEvent,"is-returning":e.isReturning}}):e._e()],1)},B=[],z=n("bba4"),H=n.n(z),G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thread-item",{staticClass:"new-comment",attrs:{id:"'comment-'+ eventable.id",event:e.event,"is-returning":e.isReturning},scopedSlots:e._u([{key:"actions",fn:function(){return[n("action-dock",{attrs:{model:e.eventable,actions:e.dockActions,"menu-actions":e.menuActions}})]},proxy:!0},{key:"append",fn:function(){return[e.showReplyForm?n("comment-form",{attrs:{comment:e.newComment,autofocus:""},on:{"comment-submitted":function(t){e.showReplyForm=!1},"cancel-reply":function(t){e.showReplyForm=!1}}}):e._e()]},proxy:!0}])},[n("formatted-text",{staticClass:"thread-item__body new-comment__body",attrs:{model:e.eventable,column:"body"}}),n("link-previews",{attrs:{model:e.eventable}}),n("document-list",{attrs:{model:e.eventable,"skip-fetch":""}}),n("attachment-list",{attrs:{attachments:e.eventable.attachments}})],1)},K=[],W=n("c228"),Y=n.n(W),Q=n("dce5"),Z=n.n(Q),J=n("2593"),X=n.n(J),ee=n("9953"),te=n("a43a"),ne=n("04cc"),oe=n("6062"),re={components:{ThreadItem:function(){return Promise.resolve().then(n.bind(null,"5273"))}},props:{event:Object,isReturning:Boolean},computed:{commentActions:function(){return te["a"].actions(this.eventable,this)},eventActions:function(){return ne["a"].actions(this.event,this)},eventable:function(){return this.event.model()},dockActions:function(){var e,t,n;return ee["a"].canEditOwnComment(this.eventable)?e="edit_comment":(t="reply_to_comment",n="show_history"),Z()(X()(this.commentActions,Y()(["react",t,"translate_comment",e,n])),X()(this.eventActions,["pin_event","unpin_event"]))},menuActions:function(){var e,t;return ee["a"].canEditOwnComment(this.eventable)&&(t="show_history",e="reply_to_comment"),Z()(X()(this.commentActions,Y()([e,t,"admin_edit_comment","notification_history","discard_comment","undiscard_comment"])),X()(this.eventActions,["move_event","copy_url"]))}},data:function(){return{confirmOpts:null,showReplyForm:!1,newComment:null}}},ie=re,ae=n("5173"),se=n("4bde"),ce=n("c341"),le=n("0f27"),ue=n("c442"),de=n("42f1"),pe=n("5273"),me=Object(L["a"])(ie,G,K,!1,null,null,null),fe=me.exports;q()(me,{ActionDock:ae["a"],AttachmentList:se["a"],CommentForm:ce["a"],DocumentList:le["a"],FormattedText:ue["a"],LinkPreviews:de["a"],ThreadItem:pe["default"]});var he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thread-item",{staticClass:"poll-created",attrs:{event:e.event,"is-returning":e.isReturning},scopedSlots:e._u([{key:"actions",fn:function(){return[n("action-dock",{staticClass:"my-2",attrs:{actions:e.dockActions,"menu-actions":e.menuActions}})]},proxy:!0},!e.poll.stancesInDiscussion&&e.poll.showResults()?{key:"afterActions",fn:function(){return[n("poll-common-votes-panel",{attrs:{poll:e.poll}})]},proxy:!0}:null],null,!0)},[n("v-layout",{attrs:{"justify-space-between":""}},[n("h1",{staticClass:"poll-common-card__title headline",attrs:{tabindex:"-1"}},[e.poll.translation.title?e._e():n("router-link",{attrs:{to:e.urlFor(e.poll)}},[e._v(e._s(e.poll.title))]),e.poll.translation.title?n("translation",{attrs:{model:e.poll,field:"title"}}):e._e(),n("poll-common-closing-at",{staticClass:"ml-2",attrs:{poll:e.poll}}),n("tags-display",{attrs:{tags:e.poll.tags()}})],1)]),e.outcome?e._e():n("poll-common-set-outcome-panel",{attrs:{poll:e.poll}}),e.outcome?n("poll-common-outcome-panel",{attrs:{outcome:e.outcome}}):e._e(),n("formatted-text",{staticClass:"poll-common-details-panel__details",attrs:{model:e.poll,column:"details"}}),n("link-previews",{attrs:{model:e.poll}}),n("attachment-list",{attrs:{attachments:e.poll.attachments}}),n("document-list",{attrs:{model:e.poll,"skip-fetch":""}}),e.poll.pollOptionNames.length?n("div",{staticClass:"body-2"},[e.showResults?n("div",{staticClass:"poll-common-card__results-shown"},[n("poll-common-directive",{attrs:{poll:e.poll,name:"chart-panel"}}),n("poll-common-percent-voted",{attrs:{poll:e.poll}})],1):e._e(),n("poll-common-action-panel",{attrs:{poll:e.poll}})],1):e._e()],1)},_e=[],ve=n("f2e1"),be={components:{ThreadItem:function(){return Promise.resolve().then(n.bind(null,"5273"))}},props:{event:Object,isReturning:Boolean},created:function(){var e=this;return $["a"].$on("stanceSaved",(function(){return $["a"].$emit("refreshStance")})),this.watchRecords({collections:["stances","outcomes","polls"],query:function(t){return e.myStance=e.poll.myStance(),e.outcome=e.poll.outcome(),e.showResults=e.poll.showResults()}})},beforeDestroy:function(){return $["a"].$off("showResults"),$["a"].$off("stanceSaved")},data:function(){return{buttonPressed:!1,myStance:null,outcome:null,showResults:!1}},computed:{eventable:function(){return this.event.model()},poll:function(){return this.eventable},menuActions:function(){return Z()(X()(ve["a"].actions(this.poll,this),["edit_poll","close_poll","reopen_poll","notification_history","show_history","export_poll","print_poll","discard_poll","add_poll_to_thread"]),X()(ne["a"].actions(this.event,this),["move_event","copy_url","pin_event","unpin_event"]))},dockActions:function(){return X()(ve["a"].actions(this.poll,this),["show_results","hide_results","translate_poll","edit_stance","announce_poll","remind_poll"])}}},ge=be,ye=n("3850"),ke=n("62aa"),we=n("4fe1"),xe=n("8705"),Ce=n("5913"),Oe=n("6ad1"),je=n("30e1"),Se=n("900e"),Ie=n("93ba"),Pe=n("a722"),Te=Object(L["a"])(ge,he,_e,!1,null,null,null),Ae=Te.exports;q()(Te,{ActionDock:ae["a"],AttachmentList:se["a"],DocumentList:le["a"],FormattedText:ue["a"],LinkPreviews:de["a"],PollCommonActionPanel:ye["a"],PollCommonClosingAt:ke["a"],PollCommonDirective:we["default"],PollCommonOutcomePanel:xe["a"],PollCommonPercentVoted:Ce["a"],PollCommonSetOutcomePanel:Oe["a"],PollCommonVotesPanel:je["a"],TagsDisplay:Se["a"],ThreadItem:pe["default"],Translation:Ie["a"],VLayout:Pe["a"]});var Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thread-item",{staticClass:"stance-created",attrs:{event:e.event,"is-returning":e.isReturning},scopedSlots:e._u([{key:"actions",fn:function(){return[n("action-dock",{attrs:{model:e.eventable,actions:e.actions}})]},proxy:!0},e.eventable.singleChoice()?{key:"headline",fn:function(){return[n(e.componentType,{tag:"component",attrs:{to:e.event.actor()&&e.urlFor(e.event.actor())}},[e._v(e._s(e.event.actorName()))]),n("space"),e.showResults?n("poll-common-stance-choice",{attrs:{poll:e.poll,"stance-choice":e.eventable.stanceChoice()}}):e._e()]},proxy:!0}:null],null,!0)},[e.showResults?n("div",{staticClass:"poll-common-stance"},[n("poll-common-stance-choices",{attrs:{stance:e.eventable}}),n("formatted-text",{staticClass:"poll-common-stance-created__reason",attrs:{model:e.eventable,column:"reason"}}),n("link-previews",{attrs:{model:e.eventable}}),n("attachment-list",{attrs:{attachments:e.eventable.attachments}})],1):e._e()])},Ve=[],$e=n("17b9"),Ne={components:{ThreadItem:function(){return Promise.resolve().then(n.bind(null,"5273"))}},props:{event:Object,isReturning:Boolean},computed:{eventable:function(){return this.event.model()},poll:function(){return this.eventable.poll()},showResults:function(){return this.eventable.poll().showResults()},componentType:function(){return this.event.actor()?"router-link":"div"}},created:function(){var e=this;return this.actions={edit_stance:{name:"poll_common.change_vote",icon:"mdi-pencil",canPerform:function(){return oe["a"].user()&&e.eventable.participant()&&e.eventable.latest&&e.eventable.poll().isActive()&&e.eventable.participant()===oe["a"].user()},perform:function(){return Object($e["a"])({component:"PollCommonEditVoteModal",props:{stance:e.eventable.clone()}})}},translate_stance:{icon:"mdi-translate",name:"common.action.translate",canPerform:function(){return e.eventable.author()&&oe["a"].user()&&e.eventable.author().locale!==oe["a"].user().locale&&e.eventable.reason&&ee["a"].canTranslate(e.eventable)},perform:function(){return e.eventable.translate(oe["a"].user().locale)}},show_history:{name:"action_dock.edited",icon:"mdi-history",canPerform:function(){return e.eventable.edited()},perform:function(){return Object($e["a"])({component:"RevisionHistoryModal",props:{model:e.eventable}})}}}}},Ee=Ne,Me=n("c2d8"),De=n("9669"),Le=n("cc56"),Fe=Object(L["a"])(Ee,Re,Ve,!1,null,null,null),qe=Fe.exports;q()(Fe,{ActionDock:ae["a"],AttachmentList:se["a"],FormattedText:ue["a"],LinkPreviews:de["a"],PollCommonStanceChoice:Me["a"],PollCommonStanceChoices:De["a"],Space:Le["a"],ThreadItem:pe["default"]});var Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thread-item",{staticClass:"outcome-created",attrs:{event:e.event,"is-returning":e.isReturning}},[n("formatted-text",{staticClass:"thread-item__body",attrs:{model:e.eventable,column:"statement"}})],1)},Be=[],ze=(n("4a20"),{components:{ThreadItem:function(){return Promise.resolve().then(n.bind(null,"5273"))}},props:{event:Object,isReturning:Boolean},computed:{eventable:function(){return this.event.model()},poll:function(){return this.eventable.poll()}}}),He=ze,Ge=Object(L["a"])(He,Ue,Be,!1,null,null,null),Ke=Ge.exports;q()(Ge,{FormattedText:ue["a"],ThreadItem:pe["default"]});var We={props:{event:Object,parentId:Number,position:Number,focalEvent:Object,isReturning:Boolean},data:function(){return{minHeight:null}},components:{NewComment:fe,PollCreated:Ae,StanceCreated:qe,OutcomeCreated:Ke,ThreadItem:function(){return Promise.resolve().then(n.bind(null,"5273"))}},methods:{componentForKind:function(e){return H()(["stance_created","new_comment","outcome_created","poll_created"].includes(e)?e:"thread_item")}},computed:{idString:function(){if(this.event)return"d".concat(this.event.depth,"p").concat(this.event.position)},minHeightStyle:function(){if(!this.event&&this.minHeight)return{"min-height":this.minHeight+"px"}}},watch:{event:{immediate:!0,handler:function(){var e=this;if(this.event)return this.$nextTick((function(){if(e.$refs.item&&e.$refs.item.$el&&parseInt(e.$refs.item.$el.offsetHeight))return e.minHeight=e.$refs.item.$el.offsetHeight}))}}}},Ye=We,Qe=(n("b5ea"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event-children"},[n("thread-renderer",{attrs:{"parent-event":e.parentEvent,fetch:e.fetch,"focal-event":e.focalEvent,"is-returning":e.isReturning}})],1)}),Ze=[],Je=n("4416"),Xe=n.n(Je),et=n("69f3"),tt=n.n(et),nt=(n("7ae3"),{components:{ThreadRenderer:function(){return Promise.resolve().then(n.bind(null,"221e"))}},props:{parentEvent:Object,focalEvent:Object,isReturning:Boolean},created:function(){return this.loader=new N["a"]({collection:"events"})},methods:{fetch:function(e){if(e.length)return this.loader.fetchRecords({exclude_types:"group discussion",comment_id:null,from_unread:null,discussion_id:this.parentEvent.discussionId,parent_id:this.parentEvent.id,order:"position",from:tt()(e),per:Xe()(e)-tt()(e)+1})}}}),ot=nt,rt=Object(L["a"])(ot,Qe,Ze,!1,null,null,null),it=rt.exports;q()(rt,{ThreadRenderer:lt});var at=Object(L["a"])(Ye,U,B,!1,null,null,null),st=at.exports;q()(at,{EventChildren:it});var ct=Object(L["a"])(D,o,r,!1,null,null,null),lt=t["default"]=ct.exports;q()(ct,{ThreadItemWrapper:st})},2232:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-combobox",{staticClass:"poll-poll-form__add-option-input",attrs:{multiple:"",chips:"",label:e.$t("poll_common_form.options"),placeholder:e.$t("poll_common_form.options_placeholder")},on:{change:function(t){return e.persistOptions()}},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-chip",{attrs:{close:e.canRemove(t.item),color:e.colorFor(t.item)},on:{"click:close":function(n){return e.removeOptionName(t.item)}}},[e._v(e._s(t.item))])]}}]),model:{value:e.poll.pollOptionNames,callback:function(t){e.$set(e.poll,"pollOptionNames",t)},expression:"poll.pollOptionNames"}})},r=[],i=n("4e20"),a={mixins:[i["a"]],props:{poll:Object,addOptionsOnly:{type:Boolean,default:!1}}},s=a,c=n("2877"),l=n("6544"),u=n.n(l),d=n("cc20"),p=n("2b5d"),m=Object(c["a"])(s,o,r,!1,null,null,null);t["a"]=m.exports;u()(m,{VChip:d["a"],VCombobox:p["a"]})},2240:function(e,t,n){"use strict";n("20ad")},2373:function(e,t,n){},"24f8":function(e,t,n){},"27a8":function(e,t,n){"use strict";n("583e")},"28ef":function(e,t,n){"use strict";n("8498")},"2b08":function(e,t,n){"use strict";n("1e98")},"2b2a":function(e,t,n){"use strict";n("b727")},"2bbf":function(e,t,n){"use strict";n("b215")},"2df2":function(e,t,n){"use strict";n("b4d8")},"2ea0":function(e,t,n){"use strict";n("c2b9")},"30e1":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-votes-panel"},[n("v-layout",{staticClass:"poll-common-votes-panel__header"},[n("div",{directives:[{name:"t",rawName:"v-t",value:"poll_common.votes",expression:"'poll_common.votes'"}],staticClass:"subtitle-1"}),n("v-spacer"),n("v-select",{staticStyle:{"max-width":"200px"},attrs:{dense:"",solo:"",items:e.sortOptions,"aria-label":"$t('poll_common_votes_panel.change_results_order')"},on:{change:function(t){return e.refresh()}},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}})],1),e.poll.votersCount?e._e():n("div",{directives:[{name:"t",rawName:"v-t",value:"poll_common_votes_panel.no_votes_yet",expression:"'poll_common_votes_panel.no_votes_yet'"}],staticClass:"poll-common-votes-panel__no-votes"}),e.poll.votersCount?n("div",{staticClass:"poll-common-votes-panel__has-votes"},[e._l(e.latestStances,(function(t){return n("div",{key:t.id,staticClass:"poll-common-votes-panel__stance"},[n("div",{staticClass:"poll-common-votes-panel__avatar pr-3"},[n("user-avatar",{attrs:{user:t.participant(),size:"24"}})],1),n("div",{staticClass:"poll-common-votes-panel__stance-content"},[n("div",{staticClass:"poll-common-votes-panel__stance-name-and-option"},[n("v-layout",{staticClass:"body-2",attrs:{"align-center":""}},[n("div",{staticClass:"pr-2 text--secondary"},[e._v(e._s(t.participantName()))]),e.poll.showResults()&&t.castAt&&e.poll.singleChoice()?n("poll-common-stance-choice",{attrs:{poll:e.poll,"stance-choice":t.stanceChoice()}}):e._e(),t.castAt?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_votes_panel.undecided",expression:"'poll_common_votes_panel.undecided'"}],staticClass:"caption"})],1)],1),e.poll.showResults()&&t.castAt?n("div",{staticClass:"poll-common-stance"},[n("poll-common-stance-choices",{attrs:{stance:t}}),n("formatted-text",{staticClass:"poll-common-stance-created__reason",attrs:{model:t,column:"reason"}})],1):e._e()])])})),e.loader.exhausted?e._e():n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.load_more",expression:"'common.action.load_more'"}],on:{click:function(t){return e.loader.fetchRecords({per:50})}}})],2):e._e()],1)},r=[],i=n("9f09"),a=n("cd6d"),s=(n("65c3"),n("6cfa"),{components:{PollCommonDirective:function(){return Promise.resolve().then(n.bind(null,"4fe1"))}},props:{poll:Object},data:function(){return{stances:[],order:"newest_first",sortOptions:[{text:this.$t("poll_common_votes_panel.newest_first"),value:"newest_first"},{text:this.$t("poll_common_votes_panel.undecided_first"),value:"undecided_first"}]}},created:function(){var e=this;return this.refresh(),this.watchRecords({collections:["stances"],query:function(){return e.findRecords()}})},computed:{latestStances:function(){return this.stances.filter((function(e){return e.latest}))}},methods:{findRecords:function(){var e;return e=a["a"].stances.collection.chain().find({pollId:this.poll.id}).find({latest:!0}).find({revokedAt:null}),e=function(){switch(this.order){case"newest_first":return e.simplesort("castAt",!0);case"undecided_first":return e.simplesort("castAt",!1)}}.call(this),this.stances=e.data()},refresh:function(){return this.initLoader().fetchRecords()},initLoader:function(){return this.loader=new i["a"]({collection:"stances",params:{poll_id:this.poll.id,order:{newest_first:"cast_at DESC NULLS LAST",undecided_first:"cast_at DESC NULLS FIRST"}[this.order]}})}}}),c=s,l=(n("ac16"),n("2877")),u=n("6544"),d=n.n(u),p=n("c442"),m=n("c2d8"),f=n("9669"),h=n("c450"),_=n("8336"),v=n("a722"),b=n("b974"),g=n("2fa4"),y=Object(l["a"])(c,o,r,!1,null,null,null);t["a"]=y.exports;d()(y,{FormattedText:p["a"],PollCommonStanceChoice:m["a"],PollCommonStanceChoices:f["a"],UserAvatar:h["a"],VBtn:_["a"],VLayout:v["a"],VSelect:b["a"],VSpacer:g["a"]})},"31ed":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o,r=n("8a30"),i=n.n(r),a=function(e,t){return function(n){if("function"===typeof t&&t(n),i()([401,422],n.status))return o(e,n)}};o=function(e,t){return t.json().then((function(t){return e.setErrors(t.errors)}))}},3804:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-item",{staticClass:"sortable-list-item"},[e._t("default")],2)},r=[],i=n("11b0"),a={mixins:[i["ElementMixin"]],directives:{handle:i["HandleDirective"]},props:{item:Object}},s=a,c=(n("27a8"),n("2877")),l=n("6544"),u=n.n(l),d=n("da13"),p=Object(c["a"])(s,o,r,!1,null,null,null);t["a"]=p.exports;u()(p,{VListItem:d["a"]})},3850:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.poll.closedAt?e._e():n("div",{staticClass:"poll-common-action-panel"},[e.poll.anonymous?n("v-alert",{staticClass:"poll-common-action-panel__anonymous-message my-2",attrs:{dense:"",outlined:"",type:"info"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_action_panel.anonymous",expression:"'poll_common_action_panel.anonymous'"}]})]):e._e(),e.poll.hideResultsUntilClosed?n("v-alert",{staticClass:"poll-common-action-panel__results-hidden-until-closed my-2",attrs:{dense:"",outlined:"",type:"info"}},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_action_panel.results_hidden_until_closed",args:{poll_type:e.poll.pollType}},expression:"{path: 'poll_common_action_panel.results_hidden_until_closed', args: {poll_type: poll.pollType}}"}]})]):e._e(),e.poll.closingAt?n("div",[e.stance&&!e.stance.castAt?n("div",{staticClass:"poll-common-vote-form"},[n("h3",{directives:[{name:"t",rawName:"v-t",value:"poll_common.have_your_say",expression:"'poll_common.have_your_say'"}],staticClass:"title py-3"}),n("poll-common-directive",{attrs:{stance:e.stance,name:"vote-form"}})],1):e._e(),e.stance?e._e():n("div",{staticClass:"poll-common-unable-to-vote"},[n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_action_panel.unable_to_vote",args:{poll_type:e.poll.translatedPollType()}},expression:"{path: 'poll_common_action_panel.unable_to_vote', args: {poll_type: poll.translatedPollType()}}"}],staticClass:"text--secondary"})])]):e._e()],1)},r=[],i=n("7ae3"),a=n("6062"),s=n("cd6d"),c=(n("65c3"),n("9953")),l=(n("44e4"),{props:{poll:Object},data:function(){return{stance:null}},created:function(){var e=this;return this.watchRecords({collections:["stances"],query:function(t){if(e.stance&&!e.stance.castAt&&e.poll.myStance()&&e.poll.myStance().castAt&&(e.stance=e.lastStanceOrNew().clone()),!e.stance&&c["a"].canParticipateInPoll(e.poll))return e.stance=e.lastStanceOrNew().clone()}})},methods:{lastStanceOrNew:function(){return this.poll.myStance()||s["a"].stances.build({reasonFormat:a["a"].defaultFormat(),pollId:this.poll.id,userId:i["a"].currentUserId}).choose(this.$route.params.poll_option_id)}}}),u=l,d=n("2877"),p=n("6544"),m=n.n(p),f=n("4fe1"),h=n("0798"),_=Object(d["a"])(u,o,r,!1,null,null,null);t["a"]=_.exports;m()(_,{PollCommonDirective:f["default"],VAlert:h["a"]})},"38fe":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-proposal-chart"})},r=[],i=n("c641"),a=n.n(i),s=n("3ff1"),c=n.n(s),l=n("d180"),u=n.n(l),d=n("1929"),p=n.n(d),m=n("7ae3"),f=n("6cfa"),h={props:{stanceData:Object,diameter:Number},data:function(){return{svgEl:null,shapes:[],pollColors:m["a"].pollColors,positionColors:Object(f["d"])()}},computed:{radius:function(){return this.diameter/2}},methods:{arcPath:function(e,t){var n,o,r,i,a;return n=Math.PI/180,o=this.radius+this.radius*Math.cos(-e*n),r=this.radius+this.radius*Math.cos(-t*n),i=this.radius+this.radius*Math.sin(-e*n),a=this.radius+this.radius*Math.sin(-t*n),["M",this.radius,this.radius,"L",o,i,"A",this.radius,this.radius,0,+(t-e>180),0,r,a,"z"].join(" ")},draw:function(){var e,t=this;switch(this.shapes.forEach((function(e){return e.remove()})),e=90,c()(this.stanceData).filter((function(e){return e>0})).length){case 0:return this.shapes.push(this.svgEl.circle(this.diameter).attr({"stroke-width":0,fill:"#aaa"}));case 1:return a()(this.stanceData,(function(e,n){if(e>0)return t.shapes.push(t.svgEl.circle(t.diameter).attr({"stroke-width":0,fill:t.positionColors[n]}))}));default:return a()(this.stanceData,(function(n,o){var r;if(n>0)return r=360/u()(c()(t.stanceData))*n,t.shapes.push(t.svgEl.path(t.arcPath(e,e+r)).attr({"stroke-width":0,fill:t.positionColors[o]})),e+=r}))}}},watch:{stanceData:function(){return this.draw()}},mounted:function(){return this.svgEl=p()(this.$el).size("100%","100%"),this.draw()},beforeDestroy:function(){return this.svgEl.clear(),delete this.shapes}},_=h,v=(n("a4eb"),n("2877")),b=Object(v["a"])(_,o,r,!1,null,null,null);t["a"]=b.exports},"39f6":function(e,t,n){},"3aa8":function(e,t,n){"use strict";n("2373")},"3ae9":function(e,t,n){},"3c35":function(e,t,n){},"3d52":function(e,t,n){"use strict";n("60e8")},"40e7":function(e,t,n){"use strict";n("d381")},4116:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h}));var o=n("49ef"),r=n("9a80"),i=n("d146"),a=n("909c"),s=n("27eb"),c=n("78b2"),l=n("8923"),u=n("7ae3"),d=n("f4a7");d["a"].dateLocale=l["a"];var p=function(e,t){var n;if(!Object(o["a"])(e))throw{"invalid date":"invalid date",date:e};return n=new Date,Object(r["a"])(n,e)<24?Object(i["a"])(e,new Date,{addSuffix:!0,locale:d["a"].dateLocale}):Object(a["a"])(e,n)?Object(s["a"])(e,"MMMM d",{locale:d["a"].dateLocale}):Object(s["a"])(e,"yyyy-MM-dd")},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"].timeZone;if(!Object(o["a"])(e))throw{"invalid date":"invalid date",date:e};return Object(s["a"])(Object(c["a"])(e,t),"yyyy-MM-dd HH:mm",{timeZone:t,locale:d["a"].dateLocale})},f=function(e){return Object(s["a"])(e,"yyyy-MM-dd")},h=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","23:59"]},"42f1":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"link-previews mb-3"},e._l(e.model.linkPreviews,(function(t){return n("link-preview",{key:t.url,attrs:{model:e.model,preview:t,remove:e.remove}})})),1)},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mt-3",staticStyle:{position:"relative"},attrs:{outlined:""}},[e.editing?[e.preview.image?n("div",{staticClass:"link-preview__image",style:{"background-image":"url("+e.preview.image+")","background-size":e.backgroundSize,"background-position":e.backgroundPosition}}):e._e(),n("v-btn",{staticStyle:{top:"8px",right:"16px",position:"absolute"},attrs:{color:"accent",icon:"",outlined:"",title:e.$t("common.action.done")},on:{click:function(t){e.editing=!1}}},[n("v-icon",[e._v("mdi-check")])],1),n("div",{staticClass:"px-4 pt-4 text--secondary"},[e._v(e._s(e.preview.url))]),n("v-card-title",[n("v-text-field",{attrs:{filled:""},model:{value:e.preview.title,callback:function(t){e.$set(e.preview,"title",t)},expression:"preview.title"}})],1),n("v-card-subtitle",[n("v-textarea",{attrs:{filled:""},model:{value:e.preview.description,callback:function(t){e.$set(e.preview,"description",t)},expression:"preview.description"}})],1)]:[e.remove?n("v-btn",{staticStyle:{top:"8px",right:"8px",position:"absolute"},attrs:{color:"accent",outlined:"",icon:"",title:e.$t("common.action.remove")},on:{click:function(t){return e.remove(e.preview.url)}}},[n("v-icon",[e._v("mdi-close")])],1):e._e(),e.remove?n("v-btn",{staticStyle:{top:"8px",right:"48px",position:"absolute"},attrs:{color:"accent",icon:"",outlined:"",title:e.$t("common.action.edit")},on:{click:function(t){e.editing=!0}}},[n("v-icon",[e._v("mdi-pencil")])],1):e._e(),n("a",{attrs:{href:e.preview.url,target:"_blank",rel:"nofollow ugc noreferrer noopener"}},[e.preview.image?n("div",{staticClass:"link-preview__image",style:{"background-image":"url("+e.preview.image+")","background-size":e.backgroundSize,"background-position":e.backgroundPosition}}):e._e(),n("v-card-title",[n("div",{staticClass:"d-flex"},[n("span",[n("span",{staticClass:"text--secondary"},[e._v(e._s(e.preview.title))]),e._v("\n\n"),n("span",{staticClass:"text-caption link-preview__hostname"},[e._v(e._s(e.preview.hostname))])])])]),n("v-card-subtitle",[e._v(e._s(e.preview.description))])],1)]],2)},a=[],s={props:{model:Object,preview:Object,remove:{default:null,type:Function}},data:function(){return{editing:!1,backgroundSize:"contain",backgroundPosition:"center"}},mounted:function(){return this.setBackgroundSize()},methods:{setBackgroundSize:function(){var e,t;if(this.preview.image)return this.preview.image,e=new Image,t=this,e.onload=function(){return Math.abs(this.width-this.height)<this.width/3?(t.backgroundSize="contain",t.backgroundPosition="center"):(t.backgroundSize="cover",t.backgroundPosition="0 5%")},e.src=this.preview.image}},watch:{"preview.image":"setBackgroundSize"},computed:{hostname:function(){return new URL(this.preview.url).host}}},c=s,l=(n("ed37"),n("2877")),u=n("6544"),d=n.n(u),p=n("8336"),m=n("b0af"),f=n("99d9"),h=n("132d"),_=n("8654"),v=n("a844"),b=Object(l["a"])(c,i,a,!1,null,null,null),g=b.exports;d()(b,{VBtn:p["a"],VCard:m["a"],VCardSubtitle:f["b"],VCardTitle:f["d"],VIcon:h["a"],VTextField:_["a"],VTextarea:v["a"]});var y={components:{LinkPreview:g},props:{model:Object,remove:{default:null,type:Function}}},k=y,w=Object(l["a"])(k,o,r,!1,null,null,null);t["a"]=w.exports},4458:function(e,t,n){},"44e4":function(e,t,n){"use strict";var o=n("dd61"),r=n.n(o),i=n("ec69"),a=n.n(i),s=n("7ae3");function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}t["a"]=function(){function e(){c(this,e)}return u(e,null,[{key:"shareableLink",value:function(e){return e.isA("group")?this.buildModelRoute("",e.token,"",{},{namespace:"join/group",absolute:!0}):this.route({model:e,options:{absolute:!0}})}},{key:"route",value:function(e){var t=e.model,n=e.action,o=e.params,r=e.options;return null!=t&&null!=n?this[t.constructor.singular](t,{},{noStub:!0})+this.routePath(n):null!=t?this[t.constructor.singular](t,o,r):this.routePath(n)}},{key:"routePath",value:function(e){return"/".concat(e).replace("//","/")}},{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null==e.handle||n.noStub?this.buildModelRoute("g",e.key,e.fullName,t,n):this.buildModelRoute("",e.handle,"",t,n)}},{key:"discussion",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=o.print?null:o.action||e.title,this.buildModelRoute("d",e.key,t,n,o)}},{key:"poll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.buildModelRoute("p",e.key,n.action||e.title,t,n)}},{key:"outcome",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.poll(e.poll(),t,n)}},{key:"pollSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.buildModelRoute("polls","",t.action,e,t)}},{key:"searchResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.discussion(e,t,n)}},{key:"user",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.buildModelRoute("u",e[n.key||"username"],null,t,n)}},{key:"comment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.route({model:e.discussion(),action:"comment/".concat(e.id),params:t})}},{key:"membership",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.route({model:e.group(),action:"memberships",params:t})}},{key:"membershipRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.route({model:e.group(),action:"membership_requests",params:t})}},{key:"event",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.discussion(e.discussion(),t,n)+"/".concat(e.sequenceId)}},{key:"buildModelRoute",value:function(e,t,n,o,r){var i;return i=r.absolute?s["a"].baseUrl:"/",(r.namespace||e||"").length>0&&(i+="".concat(r.namespace||e,"/")),i+="".concat(t),null!=n&&null==r.noStub&&(i+="/"+this.stub(n)),null!=r.ext&&(i+="."+r.ext),a()(o).length&&(i+="?"+this.queryStringFor(o)),i}},{key:"stub",value:function(e){return e.replace(/[^a-z0-9\-_]+/gi,"-").replace(/-+/g,"-").toLowerCase()}},{key:"queryStringFor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r()(e,(function(e,t){return"".concat(t,"=").concat(e)})).join("&")}}]),e}()},"4a0b":function(e,t,n){"use strict";n("ca5b")},"4a20":function(e,t,n){"use strict";var o=n("17b9"),r=n("9953"),i=(n("cd6d"),n("6062"));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}t["a"]=new(function(){function e(){a(this,e)}return c(e,[{key:"actions",value:function(e){var t;return t=e.poll(),{react:{canPerform:function(){return r["a"].canParticipateInPoll(t)}},edit_outcome:{name:"common.action.edit",icon:"mdi-pencil",canPerform:function(){return r["a"].canSetPollOutcome(t)},perform:function(){return Object(o["a"])({component:"PollCommonOutcomeModal",props:{outcome:e.clone()}})}},show_history:{icon:"mdi-history",name:"action_dock.show_edits",canPerform:function(){return e.edited()},perform:function(){return Object(o["a"])({component:"RevisionHistoryModal",props:{model:e}})}},notification_history:{name:"action_dock.show_notifications",icon:"mdi-alarm-check",perform:function(){return Object(o["a"])({component:"AnnouncementHistory",props:{model:e}})},canPerform:function(){return!0}},translate_outcome:{name:"common.action.translate",icon:"mdi-translate",canPerform:function(){return r["a"].canTranslate(e)},perform:function(){return i["a"].user()&&e.translate(i["a"].user().locale)}}}}}]),e}())},"4bde":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"attachment-list"},e._l(e.attachments,(function(e){return n("attachment-list-item",{key:e.id,attrs:{attachment:e}})})),1)},r=[],i=(n("65c3"),n("9953"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mt-3 attachment-list-item-link",attrs:{outlined:""}},[n("a",{attrs:{href:e.attachment.download_url,target:"_blank"}},[n("v-card-title",[n("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("mdi-"+e._s(e.attachment.icon))]),n("span",{staticClass:"text--secondary"},[e._v(e._s(e.attachment.filename)),n("space"),n("span",{staticClass:"text-caption"},[e._v(e._s(e.prettifyBytes(e.attachment.byte_size)))])],1)],1),e.attachment.preview_url?n("div",{staticClass:"attachment-list-item-image mb-2",style:{"background-image":"url("+e.attachment.preview_url+")","background-size":e.backgroundSize,"background-position":e.backgroundPosition}}):e._e()],1)])}),a=[],s=n("94df7"),c=n.n(s),l={props:{attachment:Object},data:function(){return{backgroundSize:"contain",backgroundPosition:"center"}},mounted:function(){},methods:{prettifyBytes:function(e){return c()(e)},setBackgroundSize:function(){var e,t;if(this.attachment.preview_url)return this.attachment.preview_url,e=new Image,t=this,e.onload=function(){return Math.abs(this.width-this.height)<this.width/3?(t.backgroundSize="contain",t.backgroundPosition="center"):(t.backgroundSize="cover",t.backgroundPosition="0 5%")},e.src=this.attachment.preview_url}},watch:{"attachment.preview_url":"setBackgroundSize"}},u=l,d=(n("2053"),n("2877")),p=n("6544"),m=n.n(p),f=n("cc56"),h=n("b0af"),_=n("99d9"),v=n("132d"),b=Object(d["a"])(u,i,a,!1,null,null,null),g=b.exports;m()(b,{Space:f["a"],VCard:h["a"],VCardTitle:_["d"],VIcon:v["a"]});var y={components:{AttachmentListItem:g},props:{attachments:[Array,Object]}},k=y,w=Object(d["a"])(k,o,r,!1,null,null,null);t["a"]=w.exports},"4c74":function(e,t,n){},"4e20":function(e,t,n){"use strict";var o=n("2657"),r=n.n(o),i=n("dd61"),a=n.n(i),s=n("c228"),c=n.n(s),l=n("5add"),u=n.n(l),d=n("eed6"),p=n.n(d),m=n("7ae3");t["a"]={data:function(){return{savedOptionsNames:[]}},created:function(){return this.savedOptionNames=this.poll.pollOptionNames},methods:{persistOptions:function(){if(this.persistChosenOptions(),this.addOptionsOnly)return this.persistSavedOptions()},persistSavedOptions:function(){return this.poll.pollOptionNames=p()(this.savedOptionNames.concat(this.poll.pollOptionNames))},persistChosenOptions:function(){var e=this;if(!r()(this.chosenOptionNames.map((function(t){return e.poll.pollOptionNames.includes(t)}))))return this.poll.pollOptionNames=p()(this.chosenOptionNames.concat(this.poll.pollOptionNames))},removeOptionName:function(e){return!!this.canRemove(e)&&(this.poll.pollOptionNames=u()(this.poll.pollOptionNames,e),this.addOptionsOnly?this.persistSavedOptions():void 0)},colorFor:function(e){return m["a"].pollColors.poll[this.poll.pollOptionNames.indexOf(e)%m["a"].pollColors.poll.length]},canRemove:function(e){return!this.chosenOptionNames.includes(e)&&(!this.addOptionsOnly||!this.savedOptionNames.includes(e))}},computed:{noNewOptions:function(){return isEqual(this.savedOptionNames,this.poll.pollOptionNames)},chosenOptionNames:function(){return c()(a()(this.poll.stanceData,(function(e,t){if(e>0)return t})))}}}},"4fe1":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.componentName,{tag:"component",attrs:{poll:e.poll,stance:e.stance,"stance-choice":e.stanceChoice,outcome:e.outcome,back:e.back,size:e.size,"should-reset":e.shouldReset}})},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-proposal-form"},[n("poll-common-form-fields",{attrs:{poll:e.poll,"should-reset":e.shouldReset}}),n("v-select",{attrs:{disabled:!e.poll.isNew(),items:e.items,label:e.$t("poll_common_form.options")},model:{value:e.poll.pollOptionNames,callback:function(t){e.$set(e.poll,"pollOptionNames",t)},expression:"poll.pollOptionNames"}}),n("poll-common-wip-field",{attrs:{poll:e.poll}}),n("poll-common-closing-at-field",{attrs:{poll:e.poll}}),n("poll-common-settings",{attrs:{poll:e.poll}}),n("common-notify-fields",{attrs:{model:e.poll}})],1)},a=[],s=n("7ae3"),c=n("6cfa"),l={props:{poll:Object,shouldReset:Boolean},data:function(){return{items:[{text:this.$t("poll_proposal_options.agree_disagree"),value:["agree","disagree"]},{text:this.$t("poll_proposal_options.agree_abstain_disagree"),value:["agree","abstain","disagree"]},{text:this.$t("poll_proposal_options.agree_abstain_disagree_block"),value:["agree","abstain","disagree","block"]},{text:this.$t("poll_proposal_options.consent_abstain_object"),value:["consent","abstain","objection"]}],optionColors:Object(c["d"])(),optionImages:Object(c["e"])()}}},u=l,d=n("2877"),p=n("6544"),m=n.n(p),f=n("1039"),h=n("6609"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-form-fields"},[n("poll-common-tool-tip",{attrs:{poll:e.poll}}),n("v-text-field",{staticClass:"lmo-primary-form-input poll-common-form-fields__title text-h5",attrs:{type:"text",required:"true",placeholder:e.$t("poll_"+e.poll.pollType+"_form.title_placeholder"),label:e.$t("poll_common_form.title"),maxlength:"250"},model:{value:e.poll.title,callback:function(t){e.$set(e.poll,"title",t)},expression:"poll.title"}}),n("validation-errors",{attrs:{subject:e.poll,field:"title"}}),n("tags-field",{attrs:{model:e.poll}}),n("lmo-textarea",{attrs:{model:e.poll,field:"details",placeholder:e.$t("poll_"+e.poll.pollType+"_form.details_placeholder"),label:e.$t("poll_common_form.details"),"should-reset":e.shouldReset}})],1)},v=[],b={props:{poll:Object,shouldReset:Boolean}},g=b,y=n("0d4b"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-tool-tip"},[e.collapsed?e._e():n("div",{staticClass:"poll-common-tool-tip__expanded"},[n("div",{staticClass:"poll-common-tool-tip__expanded-body body-2",domProps:{innerHTML:e._s(e.$t("poll_"+e.poll.pollType+"_form.tool_tip_expanded"))}}),e.showHelpLink?n("div",{staticClass:"poll-common-tool-tip__learn-more-link",domProps:{innerHTML:e._s(e.$t("poll_common_form.loomio_school_link"))}}):e._e(),n("v-layout",{attrs:{"justify-space-around":""}},[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.ok_got_it",expression:"'common.ok_got_it'"}],staticClass:"poll-common-tool-tip__collapse",attrs:{color:"primary"},on:{click:function(t){return e.hide()}}})],1)],1),e.collapsed?n("div",{staticClass:"poll-common-tool-tip__collapsed"},[n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_"+e.poll.pollType+"_form.tool_tip_collapsed",expression:"'poll_' + poll.pollType + '_form.tool_tip_collapsed'"}],staticClass:"poll-common-tool-tip__collapsed-body"}),n("mid-dot"),n("a",{directives:[{name:"t",rawName:"v-t",value:"common.expand",expression:"'common.expand'"}],staticClass:"poll-common-tool-tip__learn-more",on:{click:function(t){return e.show()}}})],1):e._e()])},w=[],x=n("6062"),C=n("cd6d"),O={props:{poll:Object},data:function(){return{showHelpLink:s["a"].features.app.help_link,collapsed:!x["a"].user().hasExperienced(this.experienceKey)}},created:function(){if(!x["a"].user().hasExperienced(this.experienceKey))return C["a"].users.saveExperience(this.experienceKey)},methods:{hide:function(){return this.collapsed=!0},show:function(){return this.collapsed=!1}},computed:{experienceKey:function(){return this.poll.pollType+"_tool_tip"}}},j=O,S=n("fe39"),I=n("8336"),P=n("a722"),T=Object(d["a"])(j,k,w,!1,null,null,null),A=T.exports;m()(T,{MidDot:S["a"],VBtn:I["a"],VLayout:P["a"]});var R=n("78ab"),V=n("8654"),$=n("f275"),N=Object(d["a"])(g,_,v,!1,null,null,null),E=N.exports;m()(N,{LmoTextarea:y["a"],PollCommonToolTip:A,TagsField:R["a"],VTextField:V["a"],ValidationErrors:$["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-settings"},[n("v-radio-group",{attrs:{disabled:!e.poll.closingAt,label:e.$t("poll_common_settings.who_can_vote")},model:{value:e.poll.specifiedVotersOnly,callback:function(t){e.$set(e.poll,"specifiedVotersOnly",t)},expression:"poll.specifiedVotersOnly"}},[e.poll.discussionId&&!e.poll.groupId?n("v-radio",{attrs:{value:!1,label:e.$t("poll_common_settings.specified_voters_only_false_discussion")}}):e._e(),e.poll.groupId?n("v-radio",{attrs:{value:!1,label:e.$t("poll_common_settings.specified_voters_only_false_group")}}):e._e(),n("v-radio",{staticClass:"poll-common-settings__specified-voters-only",attrs:{value:!0,label:e.$t("poll_common_settings.specified_voters_only_true")}})],1),e.poll.specifiedVotersOnly?n("div",{directives:[{name:"t",rawName:"v-t",value:e.$t("poll_common_settings.invite_people_next",{poll_type:e.poll.translatedPollType()}),expression:"$t('poll_common_settings.invite_people_next', {poll_type: poll.translatedPollType()})"}],staticClass:"caption mt-n4"}):e._e(),e._l(e.settings,(function(t,o){return n("v-checkbox",{key:o,staticClass:"poll-common-checkbox-option",class:"poll-settings-"+e.kebabify(t),attrs:{"hide-details":"",disabled:e.settingDisabled(t),label:e.$t("poll_common_settings."+e.snakify(t)+".title")},model:{value:e.poll[t],callback:function(n){e.$set(e.poll,t,n)},expression:"poll[setting]"}})}))],2)},D=[],L=n("375a"),F=n.n(L),q=n("efdf"),U=n.n(q),B=n("c228"),z=n.n(B),H={props:{poll:Object},data:function(){return{settings:z()(["poll"===this.poll.pollType?"multipleChoice":void 0,"meeting"===this.poll.pollType?"canRespondMaybe":void 0,Object(c["a"])(this.poll.pollType,"prevent_anonymous")?void 0:"anonymous",Object(c["a"])(this.poll.pollType,"prevent_anonymous")?void 0:"hideResultsUntilClosed",Object(c["a"])(this.poll.pollType,"can_add_options")&&"proposal"!==this.poll.pollType?"voterCanAddOptions":void 0])}},methods:{settingDisabled:function(e){return!this.poll.closingAt||!this.poll.isNew()&&["anonymous","hideResultsUntilClosed"].includes(e)},snakify:function(e){return U()(e)},kebabify:function(e){return F()(e)}}},G=H,K=n("ac7c"),W=n("67b6"),Y=n("43a6"),Q=Object(d["a"])(G,M,D,!1,null,null,null),Z=Q.exports;m()(Q,{VCheckbox:K["a"],VRadio:W["a"],VRadioGroup:Y["a"]});var J=function(){var e=this,t=e.$createElement;e._self._c;return e._e()},X=[],ee=n("0b1b"),te=n("f7f1"),ne={props:{poll:Object},data:function(){return{draft:!this.poll.closingAt}},watch:{draft:function(e){return this.poll.closingAt=e?null:Object(ee["a"])(Object(te["a"])(new Date,3))}}},oe=ne,re=Object(d["a"])(oe,J,X,!1,null,null,null),ie=re.exports;m()(re,{VCheckbox:K["a"]});var ae=n("b974"),se=Object(d["a"])(u,i,a,!1,null,null,null),ce=se.exports;m()(se,{CommonNotifyFields:f["a"],PollCommonClosingAtField:h["a"],PollCommonFormFields:E,PollCommonSettings:Z,PollCommonWipField:ie,VSelect:ae["a"]});var le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"poll-common-vote-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null}}},[n("submit-overlay",{attrs:{value:e.stance.processing}}),n("v-layout",{attrs:{wrap:""}},e._l(e.optionGroups,(function(t,o){return n("v-layout",{key:o,staticClass:"mb-4",attrs:{"justify-space-around":""}},e._l(t,(function(t){return n("label",{key:t.id,staticClass:"poll-common-vote-form__button poll-proposal-vote-form__button rounded-lg pa-2",class:e.classes(t)},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedOptionId,expression:"selectedOptionId"}],attrs:{type:"radio",name:"name","aria-label":e.$t("poll_"+e.stance.poll().pollType+"_options."+t.name)},domProps:{value:t.id,checked:e._q(e.selectedOptionId,t.id)},on:{change:function(n){e.selectedOptionId=t.id}}}),n("v-layout",{attrs:{column:"","align-center":""}},[n("v-avatar",{attrs:{size:"52px"}},[n("img",{attrs:{"aria-hidden":"true",src:"/img/"+e.optionImages[t.name]+".svg"}})]),n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_"+e.stance.poll().pollType+"_options."+t.name,expression:"'poll_' + stance.poll().pollType + '_options.' + option.name"}],attrs:{"aria-hidden":"true"}})],1)],1)})),0)})),1),e.stance&&e.selectedOptionId?n("poll-common-stance-reason",{attrs:{stance:e.stance}}):e._e(),n("v-btn",{staticClass:"poll-common-vote-form__submit",attrs:{block:"",color:"primary",loading:e.stance.processing,disabled:!e.selectedOptionId},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:e.stance.castAt?"poll_common.update_vote":"poll_common.submit_vote",expression:"stance.castAt? 'poll_common.update_vote' : 'poll_common.submit_vote'"}]})])],1)},ue=[],de=n("dd61"),pe=n.n(de),me=n("63ea"),fe=n.n(me),he=n("65c3"),_e=n("66ef"),ve=n("31ed"),be={props:{stance:Object},data:function(){return{selectedOptionId:this.stance.pollOptionId(),optionColors:Object(c["d"])(),optionImages:Object(c["e"])(),debug:this.$route.query.debug,optionGroups:[]}},created:function(){var e=this;return this.watchRecords({collections:["poll_options"],query:function(t){var n;if(!fe()(pe()(e.pollOptions,"name"),pe()(e.stance.poll().pollOptions(),"name")))return n=e.stance.poll().pollOptions(),e.optionGroups=4===n.length?[[n[0],n[1]],[n[2],n[3]]]:[n]}})},methods:{submit:function(){var e,t=this;return e=this.stance.castAt?"updated":"created",this.stance.stanceChoicesAttributes=[{poll_option_id:this.selectedOptionId}],this.stance.save().then((function(){return t.stance.poll().clearStaleStances(),_e["a"].success("poll_".concat(t.stance.poll().pollType,"_vote_form.stance_").concat(e)),he["a"].$emit("closeModal")})).catch(Object(ve["a"])(this.stance))},isSelected:function(e){return this.selectedOptionId===e.id},classes:function(e){return this.selectedOptionId?this.selectedOptionId===e.id?["elevation-5"]:["poll-proposal-vote-form__button--not-selected","elevation-1"]:["elevation-1"]}}},ge=be,ye=(n("daaf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-stance-reason"},[n("lmo-textarea",{staticClass:"poll-common-vote-form__reason",attrs:{model:e.stance,field:"reason",label:e.$t("poll_common.reason"),placeholder:e.$t("poll_common.reason_placeholder"),"max-length":500}}),n("validation-errors",{attrs:{subject:e.stance,field:"reason"}})],1)}),ke=[],we={props:{stance:Object}},xe=we,Ce=Object(d["a"])(xe,ye,ke,!1,null,null,null),Oe=Ce.exports;m()(Ce,{LmoTextarea:y["a"],ValidationErrors:$["a"]});var je=n("1b97"),Se=n("8212"),Ie=Object(d["a"])(ge,le,ue,!1,null,null,null),Pe=Ie.exports;m()(Ie,{PollCommonStanceReason:Oe,SubmitOverlay:je["a"],VAvatar:Se["a"],VBtn:I["a"],VLayout:P["a"]});var Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-poll-form"},[n("poll-common-form-fields",{attrs:{poll:e.poll}}),n("poll-common-form-options-field",{attrs:{poll:e.poll}}),n("validation-errors",{attrs:{subject:e.poll,field:"pollOptions"}}),n("poll-common-wip-field",{attrs:{poll:e.poll}}),n("poll-common-closing-at-field",{attrs:{poll:e.poll}}),n("poll-common-settings",{attrs:{poll:e.poll}}),n("common-notify-fields",{attrs:{model:e.poll}})],1)},Ae=[],Re={props:{poll:Object}},Ve=Re,$e=n("2232"),Ne=Object(d["a"])(Ve,Te,Ae,!1,null,null,null),Ee=Ne.exports;m()(Ne,{CommonNotifyFields:f["a"],PollCommonClosingAtField:h["a"],PollCommonFormFields:E,PollCommonFormOptionsField:$e["a"],PollCommonSettings:Z,PollCommonWipField:ie,ValidationErrors:$["a"]});var Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-count-form"},[n("poll-common-form-fields",{attrs:{poll:e.poll}}),n("v-select",{attrs:{"item-avatar":"avatar",items:e.items,multiple:"",chips:"","deletable-chips":"",label:e.$t("poll_common_form.options")},scopedSlots:e._u([{key:"selection",fn:function(e){var t=e.item;e.parent,e.selected;return[n("v-chip",{key:t,attrs:{pill:""}},[n("v-avatar",{attrs:{size:30}},[n("img",{attrs:{src:"/img/"+t+".svg"}})]),n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_count_options."+t,expression:"'poll_count_options.' + item"}]})],1)]}},{key:"item",fn:function(e){e.index;var t=e.item;return[n("v-list-item-avatar",[n("img",{attrs:{src:"/img/"+t+".svg"}})]),n("v-list-item-content",[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:"poll_count_options."+t,expression:"'poll_count_options.'+item"}]})],1)]}}]),model:{value:e.poll.pollOptionNames,callback:function(t){e.$set(e.poll,"pollOptionNames",t)},expression:"poll.pollOptionNames"}}),n("poll-common-wip-field",{attrs:{poll:e.poll}}),n("poll-common-closing-at-field",{attrs:{poll:e.poll}}),n("poll-common-settings",{attrs:{poll:e.poll}}),n("common-notify-fields",{attrs:{model:e.poll}})],1)},De=[],Le={props:{poll:Object},data:function(){return{items:"yes no".split(" "),colors:{yes:s["a"].pollColors.count[0],no:s["a"].pollColors.count[1]}}}},Fe=Le,qe=n("cc20"),Ue=n("8270"),Be=n("5d23"),ze=Object(d["a"])(Fe,Me,De,!1,null,null,null),He=ze.exports;m()(ze,{CommonNotifyFields:f["a"],PollCommonClosingAtField:h["a"],PollCommonFormFields:E,PollCommonSettings:Z,PollCommonWipField:ie,VAvatar:Se["a"],VChip:qe["a"],VListItemAvatar:Ue["a"],VListItemContent:Be["a"],VListItemTitle:Be["c"],VSelect:ae["a"]});var Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-dot-vote-form"},[n("poll-common-form-fields",{attrs:{poll:e.poll}}),n("poll-common-form-options-field",{attrs:{poll:e.poll}}),n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"poll_dot_vote_form.dots_per_person",expression:"'poll_dot_vote_form.dots_per_person'"}]}),n("help-bubble",{attrs:{helptext:"poll_dot_vote_form.dots_per_person_helptext"}}),n("v-text-field",{attrs:{type:"number",min:"1","single-line":""},model:{value:e.poll.customFields.dots_per_person,callback:function(t){e.$set(e.poll.customFields,"dots_per_person",t)},expression:"poll.customFields.dots_per_person"}}),n("validation-errors",{attrs:{subject:e.poll,field:"dotsPerPerson"}}),n("poll-common-wip-field",{attrs:{poll:e.poll}}),n("poll-common-closing-at-field",{attrs:{poll:e.poll}}),n("poll-common-settings",{attrs:{poll:e.poll}}),n("common-notify-fields",{attrs:{model:e.poll}})],1)},Ke=[],We={props:{poll:Object},created:function(){return this.poll.customFields.dots_per_person=this.poll.customFields.dots_per_person||8}},Ye=We,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"help-bubble"},[n("v-tooltip",{staticClass:"help-bubble__tooltip",attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-icon",e._g(e._b({},"v-icon",r,!1),o),[e._v("mdi-help-circle-outline")])]}}])},[n("span",{directives:[{name:"t",rawName:"v-t",value:e.helptext,expression:"helptext"}]})])],1)},Ze=[],Je={props:{helptext:String}},Xe=Je,et=n("132d"),tt=n("3a2f"),nt=Object(d["a"])(Xe,Qe,Ze,!1,null,null,null),ot=nt.exports;m()(nt,{VIcon:et["a"],VTooltip:tt["a"]});var rt=n("e0c7"),it=Object(d["a"])(Ye,Ge,Ke,!1,null,null,null),at=it.exports;m()(it,{CommonNotifyFields:f["a"],HelpBubble:ot,PollCommonClosingAtField:h["a"],PollCommonFormFields:E,PollCommonFormOptionsField:$e["a"],PollCommonSettings:Z,PollCommonWipField:ie,VSubheader:rt["a"],VTextField:V["a"],ValidationErrors:$["a"]});var st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-score-form"},[n("poll-common-form-fields",{attrs:{poll:e.poll}}),n("poll-common-form-options-field",{attrs:{poll:e.poll}}),n("v-layout",[n("v-text-field",{staticClass:"poll-score-form__min",attrs:{type:"number",step:1,label:e.$t("poll_common.min_score")},model:{value:e.poll.customFields.min_score,callback:function(t){e.$set(e.poll.customFields,"min_score",t)},expression:"poll.customFields.min_score"}}),n("v-spacer"),n("v-text-field",{staticClass:"poll-score-form__max",attrs:{type:"number",step:1,label:e.$t("poll_common.max_score")},model:{value:e.poll.customFields.max_score,callback:function(t){e.$set(e.poll.customFields,"max_score",t)},expression:"poll.customFields.max_score"}})],1),n("poll-common-wip-field",{attrs:{poll:e.poll}}),n("poll-common-closing-at-field",{attrs:{poll:e.poll}}),n("poll-common-settings",{attrs:{poll:e.poll}}),n("common-notify-fields",{attrs:{model:e.poll}})],1)},ct=[],lt={props:{poll:Object},created:function(){return this.poll.customFields.max_score=this.poll.customFields.max_score||9,this.poll.customFields.min_score=this.poll.customFields.min_score||0}},ut=lt,dt=n("2fa4"),pt=Object(d["a"])(ut,st,ct,!1,null,null,null),mt=pt.exports;m()(pt,{CommonNotifyFields:f["a"],PollCommonClosingAtField:h["a"],PollCommonFormFields:E,PollCommonFormOptionsField:$e["a"],PollCommonSettings:Z,PollCommonWipField:ie,VLayout:P["a"],VSpacer:dt["a"],VTextField:V["a"]});var ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-meeting-form"},[n("poll-common-form-fields",{attrs:{poll:e.poll}}),n("poll-meeting-form-options-field",{attrs:{poll:e.poll}}),n("v-select",{attrs:{label:e.$t("poll_meeting_form.meeting_duration"),items:e.durations},model:{value:e.poll.customFields.meeting_duration,callback:function(t){e.$set(e.poll.customFields,"meeting_duration",t)},expression:"poll.customFields.meeting_duration"}}),n("poll-common-wip-field",{attrs:{poll:e.poll}}),n("poll-common-closing-at-field",{attrs:{poll:e.poll}}),n("poll-common-settings",{attrs:{poll:e.poll}}),n("common-notify-fields",{attrs:{model:e.poll}})],1)},ht=[],_t=n("25b6"),vt=n("2186"),bt=n("5526"),gt={props:{poll:Object,back:Boolean},data:function(){var e=this;return{durations:[5,10,15,20,30,45,60,90,105,120,135,150,165,180,195,210,225,240,null].map((function(t){var n;return t?(n=Object(_t["a"])({start:new Date,end:Object(vt["a"])(new Date,t)}),{text:Object(bt["a"])(n,{format:["hours","minutes"]}),value:t}):{text:e.$t("common.all_day"),value:null}})),menu:!1}},created:function(){if(this.poll.customFields.meeting_duration=this.poll.customFields.meeting_duration||60,this.poll.isNew())return this.poll.canRespondMaybe=!0,this.poll.closingAt=Object(te["a"])(new Date,3),this.poll.notifyOnParticipate=!0}},yt=gt,kt=n("7539"),wt=Object(d["a"])(yt,ft,ht,!1,null,null,null),xt=wt.exports;m()(wt,{CommonNotifyFields:f["a"],PollCommonClosingAtField:h["a"],PollCommonFormFields:E,PollCommonSettings:Z,PollCommonWipField:ie,PollMeetingFormOptionsField:kt["a"],VSelect:ae["a"]});var Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-ranked-choice-form"},[n("poll-common-form-fields",{attrs:{poll:e.poll}}),n("poll-common-form-options-field",{attrs:{poll:e.poll}}),n("poll-common-wip-field",{attrs:{poll:e.poll}}),n("poll-common-closing-at-field",{attrs:{poll:e.poll}}),n("div",{staticClass:"lmo-flex lmo-flex__center",attrs:{layout:"row"}},[n("div",{staticClass:"poll-common-checkbox-option__text md-list-item-text lmo-flex__grow"},[n("validation-errors",{attrs:{subject:e.poll,field:"minimumStanceChoices"}})],1),n("v-text-field",{staticClass:"lmo-number-input",attrs:{label:e.$t("poll_ranked_choice_form.minimum_stance_choices_helptext"),type:"number",min:1,max:e.poll.pollOptionNames.length},model:{value:e.poll.customFields.minimum_stance_choices,callback:function(t){e.$set(e.poll.customFields,"minimum_stance_choices",t)},expression:"poll.customFields.minimum_stance_choices"}})],1),n("poll-common-settings",{attrs:{poll:e.poll}}),n("common-notify-fields",{attrs:{model:e.poll}})],1)},Ot=[],jt={props:{poll:Object},created:function(){return this.poll.setMinimumStanceChoices()},watch:{"poll.pollOptionNames":function(){return this.poll.setMinimumStanceChoices()}}},St=jt,It=Object(d["a"])(St,Ct,Ot,!1,null,null,null),Pt=It.exports;m()(It,{CommonNotifyFields:f["a"],PollCommonClosingAtField:h["a"],PollCommonFormFields:E,PollCommonFormOptionsField:$e["a"],PollCommonSettings:Z,PollCommonWipField:ie,VTextField:V["a"],ValidationErrors:$["a"]});var Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-change-your-vote"},[n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"poll_common.your_response",expression:"'poll_common.your_response'"}]}),n("poll-common-stance",{attrs:{stance:e.stance}})],1)},At=[],Rt={props:{stance:Object}},Vt=Rt,$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-stance"},[e.stance.castAt?n("span",[n("poll-common-stance-choices",{attrs:{stance:e.stance}}),n("formatted-text",{staticClass:"poll-common-stance-created__reason",attrs:{model:e.stance,column:"reason"}})],1):n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_votes_panel.undecided",expression:"'poll_common_votes_panel.undecided'"}],staticClass:"caption"})])},Nt=[],Et={components:{PollCommonDirective:function(){return Promise.resolve().then(n.bind(null,"4fe1"))}},props:{stance:Object},computed:{canEdit:function(){return this.stance.latest&&this.stance.participant()===x["a"].user()}}},Mt=Et,Dt=n("c442"),Lt=n("9669"),Ft=Object(d["a"])(Mt,$t,Nt,!1,null,null,null),qt=Ft.exports;m()(Ft,{FormattedText:Dt["a"],PollCommonStanceChoices:Lt["a"]});var Ut=Object(d["a"])(Vt,Tt,At,!1,null,null,null),Bt=Ut.exports;m()(Ut,{PollCommonStance:qt,VSubheader:rt["a"]});var zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-proposal-chart-panel"},[n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"poll_common.results",expression:"'poll_common.results'"}]}),n("div",{staticClass:"poll-proposal-chart-panel__chart-container"},[n("poll-proposal-chart",{staticClass:"poll-proposal-chart-panel__chart",attrs:{"stance-data":e.poll.stanceData,diameter:140}}),n("table",{staticClass:"poll-proposal-chart-panel__legend",attrs:{role:"presentation"}},[n("tbody",e._l(e.pollOptionNames,(function(t,o){return n("tr",{key:o},[n("td",[n("div",{staticClass:"poll-proposal-chart-panel__label",class:"poll-proposal-chart-panel__label--"+t},[e._v(e._s(e.translationFor(t))+" "+e._s(e.countFor(t))+" ("+e._s(e.percentFor(t))+"%)")])])])})),0)])],1)],1)},Ht=[],Gt={props:{poll:Object},data:function(){var e=this;return{pollOptionNames:["agree","consent","abstain","disagree","block","objection"].filter((function(t){return e.poll.pollOptionNames.includes(t)}))}},methods:{countFor:function(e){return this.poll.stanceData[e]||0},percentFor:function(e){return parseInt(parseFloat(this.countFor(e))/parseFloat(this.poll.decidedVotersCount)*100)||0},translationFor:function(e){return this.$t("poll_proposal_options.".concat(e))}}},Kt=Gt,Wt=(n("3aa8"),n("38fe")),Yt=Object(d["a"])(Kt,zt,Ht,!1,null,null,null),Qt=Yt.exports;m()(Yt,{PollProposalChart:Wt["a"],VSubheader:rt["a"]});var Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-count-chart-panel"},[n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"poll_common.results",expression:"'poll_common.results'"}]}),n("div",{staticClass:"poll-count-chart-panel__chart-container"},[n("div",{staticClass:"poll-count-chart-panel__progress"},[n("div",{staticClass:"poll-count-chart-panel__incomplete"}),n("div",{staticClass:"poll-count-chart-panel__no",style:{"flex-basis":e.percentComplete(1),"background-color":e.colors[1]}}),n("div",{staticClass:"poll-count-chart-panel__yes",style:{"flex-basis":e.percentComplete(0),"background-color":e.colors[0]}})]),n("div",{staticClass:"poll-count-chart-panel__data"},[n("div",{staticClass:"poll-count-chart-panel__numerator"},[e._v(e._s(e.poll.decidedVotersCount))]),n("div",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_count_chart_panel.out_of",args:{goal:e.poll.votersCount}},expression:"{ path: 'poll_count_chart_panel.out_of', args: { goal: poll.votersCount } }"}],staticClass:"poll-count-chart-panel__denominator"})])])],1)},Jt=[],Xt={props:{poll:Object},data:function(){return{colors:s["a"].pollColors.count}},methods:{percentComplete:function(e){return"".concat(100*this.poll.stanceCounts[e]/this.poll.votersCount,"%")}}},en=Xt,tn=(n("bf43"),Object(d["a"])(en,Zt,Jt,!1,null,null,null)),nn=tn.exports;m()(tn,{VSubheader:rt["a"]});var on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-poll-vote-form"},[n("submit-overlay",{attrs:{value:e.stance.processing}}),e.poll.multipleChoice?n("div",{staticClass:"mb-6"},e._l(e.pollOptions,(function(t){return n("v-checkbox",{key:t.id,staticClass:"poll-common-vote-form__button",attrs:{value:t.id,label:t.name,"hide-details":"",color:t.color},model:{value:e.selectedOptionIds,callback:function(t){e.selectedOptionIds=t},expression:"selectedOptionIds"}})})),1):e._e(),e.poll.multipleChoice?e._e():n("v-radio-group",{staticClass:"mb-6",model:{value:e.selectedOptionId,callback:function(t){e.selectedOptionId=t},expression:"selectedOptionId"}},e._l(e.pollOptions,(function(e){return n("v-radio",{key:e.id,staticClass:"poll-common-vote-form__button",attrs:{value:e.id,label:e.name,"hide-details":"",color:e.color}})})),1),n("poll-common-add-option-button",{attrs:{poll:e.stance.poll()}}),n("validation-errors",{attrs:{subject:e.stance,field:"stanceChoices"}}),n("poll-common-stance-reason",{attrs:{stance:e.stance}}),n("v-card-actions",{staticClass:"poll-common-form-actions"},[n("v-btn",{staticClass:"poll-common-vote-form__submit",attrs:{block:"",disabled:!e.optionSelected,color:"primary",loading:e.stance.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:e.submitText,expression:"submitText"}]})])],1)],1)},rn=[],an={props:{stance:Object},data:function(){return{selectedOptionIds:z()(this.stance.pollOptionIds()||[parseInt(this.$route.query.poll_option_id)]),selectedOptionId:this.stance.pollOptionIds()[0]||parseInt(this.$route.query.poll_option_id),pollOptions:[]}},created:function(){var e=this;return this.watchRecords({collections:["poll_options"],query:function(t){if(!fe()(pe()(e.pollOptions,"name"),pe()(e.stance.poll().pollOptions(),"name"))&&e.stance.poll())return e.pollOptions=e.stance.poll().pollOptions()}})},computed:{poll:function(){return this.stance.poll()},optionSelected:function(){return this.selectedOptionIds.length||this.selectedOptionId},submitText:function(){return this.stance.castAt?"poll_common.update_vote":"poll_common.submit_vote"}},methods:{submit:function(){var e,t=this;return this.poll.multipleChoice?this.stance.stanceChoicesAttributes=this.selectedOptionIds.map((function(e){return{poll_option_id:e}})):this.stance.stanceChoicesAttributes=[{poll_option_id:this.selectedOptionId}],e=this.stance.castAt?"updated":"created",this.stance.save().then((function(){return t.stance.poll().clearStaleStances(),_e["a"].success("poll_".concat(t.stance.poll().pollType,"_vote_form.stance_").concat(e)),he["a"].$emit("closeModal")})).catch(Object(ve["a"])(this.stance))}}},sn=an,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.poll.voterCanAddOptions?n("div",{staticClass:"poll-common-add-option-button"},[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"poll_common_add_option.button.add_option",expression:"'poll_common_add_option.button.add_option'"}],attrs:{outlined:"",rounded:"",color:"accent"},on:{click:function(t){return e.open()}}})],1):e._e()},ln=[],un={props:{poll:Object},methods:{open:function(){return he["a"].$emit("openModal",{component:"PollCommonAddOptionModal",props:{poll:this.poll.clone()}})}}},dn=un,pn=Object(d["a"])(dn,cn,ln,!1,null,null,null),mn=pn.exports;m()(pn,{VBtn:I["a"]});var fn=n("99d9"),hn=Object(d["a"])(sn,on,rn,!1,null,null,null),_n=hn.exports;m()(hn,{PollCommonAddOptionButton:mn,PollCommonStanceReason:Oe,SubmitOverlay:je["a"],VBtn:I["a"],VCardActions:fn["a"],VCheckbox:K["a"],VRadio:W["a"],VRadioGroup:Y["a"],ValidationErrors:$["a"]});var vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-dot-vote-vote-form"},[n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_dot_vote_vote_form.dots_remaining",args:{count:e.dotsRemaining}},expression:"{ path: 'poll_dot_vote_vote_form.dots_remaining', args: { count: dotsRemaining } }"}],staticClass:"poll-dot-vote-vote-form__dots-remaining"}),n("div",{staticClass:"poll-dot-vote-vote-form__options"},[e._l(e.orderedStanceChoices,(function(t){return n("div",{key:t.poll_option_id,staticClass:"poll-dot-vote-vote-form__option"},[n("v-subheader",{staticClass:"poll-dot-vote-vote-form__option-label"},[e._v(e._s(e.optionFor(t).name))]),n("v-layout",{attrs:{row:"","align-center":""}},[n("v-slider",{staticClass:"poll-dot-vote-vote-form__slider mr-4",attrs:{rules:e.rulesForChoice(t),color:e.optionFor(t).color,"thumb-color":e.optionFor(t).color,"track-color":e.optionFor(t).color,height:4,"thumb-size":24,"thumb-label":!(t.score>0)||"always",min:0,max:e.dotsPerPerson,readonly:!1},model:{value:t.score,callback:function(n){e.$set(t,"score",n)},expression:"choice.score"}})],1)],1)})),n("validation-errors",{attrs:{subject:e.stance,field:"stanceChoices"}})],2),n("poll-common-add-option-button",{attrs:{poll:e.stance.poll()}}),n("poll-common-stance-reason",{attrs:{stance:e.stance}}),n("v-card-actions",{staticClass:"poll-common-form-actions"},[n("v-spacer"),n("v-btn",{staticClass:"poll-common-vote-form__submit",attrs:{color:"primary",disabled:e.dotsRemaining<0,loading:e.stance.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:e.stance.castAt?"poll_common.update_vote":"poll_common.submit_vote",expression:"stance.castAt? 'poll_common.update_vote' : 'poll_common.submit_vote'"}]})])],1)],1)},bn=[],gn=n("c707"),yn=n.n(gn),kn=n("5add"),wn=n.n(kn),xn=n("9380"),Cn=n.n(xn),On=n("a59b"),jn=n.n(On),Sn=n("d180"),In=n.n(Sn),Pn={props:{stance:Object},data:function(){return{pollOptions:[],stanceChoices:[]}},created:function(){var e=this;return this.watchRecords({collections:["poll_options"],query:function(t){if(!fe()(pe()(e.pollOptions,"name"),pe()(e.stance.poll().pollOptions(),"name")))return e.pollOptions=e.stance.poll().pollOptions(),e.stanceChoices=pe()(e.pollOptions,(function(t){return{poll_option_id:t.id,score:e.stanceChoiceFor(t).score,name:t.name}}))}})},methods:{submit:function(){var e,t=this;return In()(pe()(this.stanceChoices,"score"))>0&&(this.stance.stanceChoicesAttributes=pe()(this.stanceChoices,(function(e){return{poll_option_id:e.poll_option_id,score:e.score}}))),e=this.stance.castAt?"updated":"created",this.stance.save().then((function(){return t.stance.poll().clearStaleStances(),_e["a"].success("poll_".concat(t.stance.poll().pollType,"_vote_form.stance_").concat(e)),he["a"].$emit("closeModal")})).catch(Object(ve["a"])(this.stance))},rulesForChoice:function(e){var t=this;return[function(n){return n<=t.maxForChoice(e)||t.$t("poll_dot_vote_vote_form.too_many_dots")}]},percentageFor:function(e){var t;if(t=dotsPerPerson,t>0)return"".concat(100*e.score/t,"% 100%")},backgroundImageFor:function(e){return"url(/img/poll_backgrounds/".concat(e.color.replace("#",""),".png)")},styleData:function(e){var t;return t=this.optionFor(e),{"border-color":t.color,"background-image":this.backgroundImageFor(t),"background-size":this.percentageFor(e)}},stanceChoiceFor:function(e){return jn()(Cn()(this.stance.stanceChoices(),(function(t){return t.pollOptionId===e.id})).concat({score:0}))},adjust:function(e,t){return e.score+=t},optionFor:function(e){return C["a"].pollOptions.find(e.poll_option_id)},maxForChoice:function(e){return this.dotsPerPerson-In()(pe()(wn()(this.stanceChoices,e),"score"))}},computed:{dotsRemaining:function(){return this.dotsPerPerson-In()(pe()(this.stanceChoices,"score"))},dotsPerPerson:function(){return this.stance.poll().customFields.dots_per_person},orderedStanceChoices:function(){return yn()(this.stanceChoices,"name")}}},Tn=Pn,An=n("ba0d"),Rn=Object(d["a"])(Tn,vn,bn,!1,null,null,null),Vn=Rn.exports;m()(Rn,{PollCommonAddOptionButton:mn,PollCommonStanceReason:Oe,VBtn:I["a"],VCardActions:fn["a"],VLayout:P["a"],VSlider:An["a"],VSpacer:dt["a"],VSubheader:rt["a"],ValidationErrors:$["a"]});var $n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-poll-chart-panel"},[n("poll-common-bar-chart-panel",{attrs:{poll:e.poll}})],1)},Nn=[],En={props:{poll:Object}},Mn=En,Dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-bar-chart"},e._l(e.pollOptions,(function(t){return n("div",{key:t.id,staticClass:"poll-common-bar-chart__bar rounded",style:e.styleData(t)},[e._v(e._s(e.barTextFor(t)))])})),0)},Ln=[],Fn=n("3ff1"),qn=n.n(Fn),Un=n("abdd"),Bn=n.n(Un),zn={props:{poll:Object},methods:{countFor:function(e){return this.poll.closingAt?this.poll.stanceData[e.name]||0:null},barTextFor:function(e){return z()([e.name,this.countFor(e)]).join(" - ").replace(/\s/g,"")},percentageFor:function(e){var t;if(t=Bn()(qn()(this.poll.stanceData)),t>0)return"".concat(100*this.countFor(e)/t,"%")},backgroundImageFor:function(e){return"url(/img/poll_backgrounds/".concat(e.color.replace("#",""),".png)")},styleData:function(e){return{"background-image":this.backgroundImageFor(e),"background-size":"".concat(this.percentageFor(e)," 100%")}}},computed:{pollOptions:function(){return this.poll.pollOptions()}}},Hn=zn,Gn=(n("4a0b"),Object(d["a"])(Hn,Dn,Ln,!1,null,null,null)),Kn=Gn.exports,Wn=Object(d["a"])(Mn,$n,Nn,!1,null,null,null),Yn=Wn.exports;m()(Wn,{PollCommonBarChartPanel:Kn});var Qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-dot-vote-chart-panel"},[n("poll-common-bar-chart-panel",{attrs:{poll:e.poll}})],1)},Zn=[],Jn={props:{poll:Object}},Xn=Jn,eo=Object(d["a"])(Xn,Qn,Zn,!1,null,null,null),to=eo.exports;m()(eo,{PollCommonBarChartPanel:Kn});var no=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"poll-score-vote-form",on:{submit:function(t){return t.preventDefault(),e.submit()}}},[n("div",{staticClass:"poll-score-vote-form__options"},e._l(e.orderedStanceChoices,(function(t){return n("div",{key:t.poll_option_id,staticClass:"poll-score-vote-form__option"},[n("v-subheader",{staticClass:"poll-score-vote-form__option-label"},[e._v(e._s(e.optionFor(t).name))]),n("v-slider",{staticClass:"poll-score-vote-form__score-slider",attrs:{color:e.optionFor(t).color,"thumb-color":e.optionFor(t).color,"track-color":e.optionFor(t).color,height:4,"thumb-size":24,"thumb-label":!(t.score>0)||"always",min:e.poll.customFields.min_score,max:e.poll.customFields.max_score},model:{value:t.score,callback:function(n){e.$set(t,"score",n)},expression:"choice.score"}})],1)})),0),n("validation-errors",{attrs:{subject:e.stance,field:"stanceChoices"}}),n("poll-common-add-option-button",{attrs:{poll:e.stance.poll()}}),n("poll-common-stance-reason",{attrs:{stance:e.stance}}),n("v-card-actions",{staticClass:"poll-common-form-actions"},[n("v-spacer"),n("v-btn",{staticClass:"poll-common-vote-form__submit",attrs:{color:"primary",type:"submit",loading:e.stance.processing}},[n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common.vote",expression:"'poll_common.vote'"}]})])],1)],1)},oo=[],ro={props:{stance:Object},data:function(){return{pollOptions:[],stanceChoices:[]}},created:function(){var e=this;return this.watchRecords({collections:["poll_options"],query:function(t){if(!fe()(pe()(e.pollOptions,"name"),pe()(e.stance.poll().pollOptions(),"name")))return e.pollOptions=e.poll.pollOptions(),e.stanceChoices=pe()(e.pollOptions,(function(t){return{poll_option_id:t.id,score:e.stanceChoiceFor(t).score,name:t.name}}))}})},methods:{submit:function(){var e,t=this;return this.stance.stanceChoicesAttributes=pe()(this.stanceChoices,(function(e){return{poll_option_id:e.poll_option_id,score:e.score}})),e=this.stance.castAt?"updated":"created",this.stance.save().then((function(){return t.stance.poll().clearStaleStances(),_e["a"].success("poll_".concat(t.stance.poll().pollType,"_vote_form.stance_").concat(e)),he["a"].$emit("closeModal")})).catch(Object(ve["a"])(this.stance))},stanceChoiceFor:function(e){return jn()(Cn()(this.stance.stanceChoices(),(function(t){return t.pollOptionId===e.id})).concat({score:0}))},optionFor:function(e){return C["a"].pollOptions.find(e.poll_option_id)}},computed:{poll:function(){return this.stance.poll()},orderedStanceChoices:function(){return yn()(this.stanceChoices,"name")}}},io=ro,ao=Object(d["a"])(io,no,oo,!1,null,null,null),so=ao.exports;m()(ao,{PollCommonAddOptionButton:mn,PollCommonStanceReason:Oe,VBtn:I["a"],VCardActions:fn["a"],VSlider:An["a"],VSpacer:dt["a"],VSubheader:rt["a"],ValidationErrors:$["a"]});var co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-dot-vote-chart-panel"},[n("poll-common-bar-chart-panel",{attrs:{poll:e.poll}})],1)},lo=[],uo={props:{poll:Object}},po=uo,mo=Object(d["a"])(po,co,lo,!1,null,null,null),fo=mo.exports;m()(mo,{PollCommonBarChartPanel:Kn});var ho=n("c2d8"),_o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-ranked-choice-vote-form lmo-relative"},[n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_ranked_choice_vote_form.helptext",args:{count:e.numChoices}},expression:"{ path: 'poll_ranked_choice_vote_form.helptext', args: { count: numChoices } }"}],staticClass:"text--secondary"}),n("sortable-list",{model:{value:e.pollOptions,callback:function(t){e.pollOptions=t},expression:"pollOptions"}},e._l(e.pollOptions,(function(t,o){return n("sortable-item",{key:t.id,attrs:{index:o,item:t}},[o+1<=e.numChoices?n("span",[e._v(e._s(o+1))]):e._e(),n("space"),n("v-chip",{key:o,staticClass:"mr-2",attrs:{color:t.color,index:o}},[e._v(e._s(t.name))])],1)})),1),n("validation-errors",{attrs:{subject:e.stance,field:"stanceChoices"}}),n("poll-common-add-option-button",{attrs:{poll:e.stance.poll()}}),n("poll-common-stance-reason",{attrs:{stance:e.stance}}),n("v-card-actions",{staticClass:"poll-common-form-actions"},[n("v-spacer"),n("v-btn",{staticClass:"poll-common-vote-form__submit",attrs:{color:"primary",loading:e.stance.processing},on:{click:function(t){return e.submit()}}},[n("span",{directives:[{name:"t",rawName:"v-t",value:e.stance.castAt?"poll_common.update_vote":"poll_common.submit_vote",expression:"stance.castAt? 'poll_common.update_vote' : 'poll_common.submit_vote'"}]})])],1)],1)},vo=[],bo=n("5e9e"),go=n.n(bo),yo=n("de93"),ko=n.n(yo),wo=n("2769"),xo=n.n(wo),Co={props:{stance:Object},data:function(){return{pollOptions:[]}},created:function(){var e=this;return this.watchRecords({collections:["poll_options"],query:function(t){if(!fe()(pe()(e.pollOptions,"name"),pe()(e.stance.poll().pollOptions(),"name")))return e.pollOptions=e.sortPollOptions(e.stance.poll().pollOptions())}})},methods:{submit:function(){var e,t,n=this;return t=go()(this.pollOptions,this.numChoices),this.stance.stanceChoicesAttributes=pe()(t,(function(e,t){return{poll_option_id:e.id,score:n.numChoices-t}})),e=this.stance.castAt?"updated":"created",this.stance.save().then((function(){return n.stance.poll().clearStaleStances(),_e["a"].success("poll_".concat(n.stance.poll().pollType,"_vote_form.stance_").concat(e)),he["a"].$emit("closeModal")})).catch(Object(ve["a"])(this.stance))},sortPollOptions:function(e){var t,n=this;return t=yn()(e,"priority"),yn()(t,(function(e){return-n.scoreFor(e)}))},scoreFor:function(e){var t;return t=xo()(this.stance.stanceChoices(),ko()("pollOptionId",e.id)),(t||{}).score}},computed:{numChoices:function(){return this.stance.poll().customFields.minimum_stance_choices}}},Oo=Co,jo=n("3804"),So=n("9e2e"),Io=n("cc56"),Po=Object(d["a"])(Oo,_o,vo,!1,null,null,null),To=Po.exports;m()(Po,{PollCommonAddOptionButton:mn,PollCommonStanceReason:Oe,SortableItem:jo["a"],SortableList:So["a"],Space:Io["a"],VBtn:I["a"],VCardActions:fn["a"],VChip:qe["a"],VSpacer:dt["a"],ValidationErrors:$["a"]});var Ao=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"poll-meeting-vote-form",on:{submit:function(t){return t.preventDefault(),e.submit()}}},[n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_meeting_vote_form.local_time_zone",args:{zone:e.currentUserTimeZone}},expression:"{path: 'poll_meeting_vote_form.local_time_zone', args: {zone: currentUserTimeZone}}"}],staticClass:"text--secondary"}),n("div",{staticClass:"poll-common-vote-form__options"},e._l(e.stanceChoices,(function(t){return n("v-layout",{key:t.id,staticClass:"poll-common-vote-form__option",attrs:{wrap:""}},[n("poll-common-stance-choice",{attrs:{poll:e.stance.poll(),"stance-choice":t,zone:e.zone},on:{click:function(n){return e.incrementScore(t)}}}),n("v-spacer"),e._l(e.stanceValues,(function(o){return n("v-btn",{key:o,staticClass:"poll-meeting-vote-form--box",style:e.buttonStyleFor(t,o),attrs:{icon:""},on:{click:function(e){t.score=o}}},[n("v-avatar",{attrs:{size:36}},[n("img",{staticClass:"poll-common-form__icon",attrs:{src:e.imgForScore(o)}})])],1)}))],2)})),1),n("validation-errors",{attrs:{subject:e.stance,field:"stanceChoices"}}),n("poll-common-add-option-button",{attrs:{poll:e.stance.poll()}}),n("poll-common-stance-reason",{attrs:{stance:e.stance}}),n("v-card-actions",{staticClass:"poll-common-form-actions"},[n("v-spacer"),n("v-btn",{staticClass:"poll-common-vote-form__submit",attrs:{color:"primary",type:"submit",loading:e.stance.processing}},[n("span",{directives:[{name:"t",rawName:"v-t",value:e.stance.castAt?"poll_common.update_vote":"poll_common.submit_vote",expression:"stance.castAt? 'poll_common.update_vote' : 'poll_common.submit_vote'"}]})])],1)],1)},Ro=[],Vo={props:{stance:Object},data:function(){return{stanceChoices:[],pollOptions:[],zone:null,canRespondMaybe:null,stanceValues:[]}},beforeDestroy:function(){return he["a"].$off("timeZoneSelected",this.setTimeZone)},created:function(){var e=this;return he["a"].$on("timeZoneSelected",this.setTimeZone),this.watchRecords({collections:["poll_options","poll"],query:function(t){if(e.canRespondMaybe=e.stance.poll().customFields.can_respond_maybe,e.stanceValues=e.stance.poll().customFields.can_respond_maybe?[2,1,0]:[2,0],!fe()(pe()(e.pollOptions,"name"),pe()(e.stance.poll().pollOptions(),"name")))return e.pollOptions=yn()(e.stance.poll().pollOptions(),"name"),e.stanceChoices=e.pollOptions.map((function(t){var n;return n=e.stance.stanceChoices().find((function(e){return e.pollOptionId===t.id}))||{score:0},{id:t.id,pollOption:function(){return t},poll:function(){return e.stance.poll()},score:n.score}}))}})},methods:{setTimeZone:function(e,t){return this.zone=t},submit:function(){var e,t=this;return this.stance.stanceChoicesAttributes=this.stanceChoices.map((function(e){return{poll_option_id:e.id,score:e.score}})),e=this.stance.castAt?"updated":"created",this.stance.save().then((function(){return t.stance.poll().clearStaleStances(),he["a"].$emit("closeModal"),_e["a"].success("poll_".concat(t.stance.poll().pollType,"_vote_form.stance_").concat(e))})).catch(Object(ve["a"])(this.stance))},buttonStyleFor:function(e,t){return e.score===t?{opacity:1}:{opacity:.3}},imgForScore:function(e){var t;return t=function(){switch(e){case 2:return"agree";case 1:return"abstain";case 0:return"disagree"}}(),"/img/".concat(t,".svg")},incrementScore:function(e){return this.canRespondMaybe?e.score=(e.score+5)%3:e.score=2===e.score?0:2}},computed:{currentUserTimeZone:function(){return x["a"].user().timeZone}}},$o=Vo,No=Object(d["a"])($o,Ao,Ro,!1,null,null,null),Eo=No.exports;m()(No,{PollCommonAddOptionButton:mn,PollCommonStanceChoice:ho["a"],PollCommonStanceReason:Oe,VAvatar:Se["a"],VBtn:I["a"],VCardActions:fn["a"],VLayout:P["a"],VSpacer:dt["a"],ValidationErrors:$["a"]});var Mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-meeting-chart-panel"},[n("table",{staticClass:"poll-meeting-chart-table body-2"},[n("thead",[n("tr",[n("td",{staticClass:"text--secondary"},[e._v(e._s(e.currentUserTimeZone))]),e._l(e.decidedVoters,(function(e){return n("td",{key:e.id},[n("user-avatar",{attrs:{user:e}})],1)})),n("td",{directives:[{name:"t",rawName:"v-t",value:"common.total",expression:"'common.total'"}],staticClass:"total"})],2)]),n("tbody",e._l(e.pollOptions,(function(t){return n("tr",{key:t.id},[n("td",{staticClass:"poll-meeting-chart__meeting-time"},[n("poll-meeting-time",{attrs:{name:t.name,zone:e.zone}})],1),e._l(e.decidedVoters,(function(o){return n("td",{key:o.id},[n("div",{staticClass:"poll-meeting-chart__cell",class:e.classForScore(e.scoreFor(o,t))},[e._v("")])])})),n("td",{staticClass:"total"},[n("strong",[e._v(e._s(e.totalFor(t)/2))])])],2)})),0)])])},Do=[],Lo=n("eed6"),Fo=n.n(Lo),qo={props:{poll:Object,zone:Object},data:function(){return{pollOptions:[],latestStances:[],decidedVoters:[],stancesByUserId:[]}},created:function(){var e=this;return this.watchRecords({collections:["stances","poll_options"],query:function(t){return e.latestStances=e.poll.latestStances(),e.stancesByUserId={},e.latestStances.forEach((function(t){return e.stancesByUserId[t.participantId]=t})),e.pollOptions=e.poll.pollOptions(),e.decidedVoters=e.poll.decidedVoters()}})},methods:{scoreColor:function(e){switch(e){case 2:return s["a"].pollColors.proposal[0];case 1:return s["a"].pollColors.proposal[1];case 0:return s["a"].pollColors.proposal[2]}},bgColor:function(e){switch(e){case 2:return"rgba(0, 209, 119, 0.5)";case 1:return"rgba(246, 168, 43, 0.5)"}},yesVotersFor:function(e){return Fo()(this.choicesFor(e,2).map((function(e){return e.stance().participant()})))},maybeVotersFor:function(e){return Fo()(this.choicesFor(e,1).map((function(e){return e.stance().participant()})))},choicesFor:function(e,t){return z()(this.latestStances.map((function(n){return xo()(n.stanceChoices(),(function(n){return n.pollOption()===e&&n.score===t}))})))},totalFor:function(e){return In()(pe()(e.stanceChoices().filter((function(e){return e.stance().latest})),"score"))},barLength:function(e){return 32*e+"px"},scoreFor:function(e,t){return this.stancesByUserId[e.id]?this.stancesByUserId[e.id].scoreFor(t):0},classForScore:function(e){switch(e){case 2:return"poll-meeting-chart__cell--yes";case 1:return"poll-meeting-chart__cell--maybe";case 0:return"poll-meeting-chart__cell--no"}}},computed:{currentUserTimeZone:function(){return x["a"].user().timeZone}}},Uo=qo,Bo=(n("e9c9"),n("f829")),zo=n("c450"),Ho=Object(d["a"])(Uo,Mo,Do,!1,null,null,null),Go=Ho.exports;m()(Ho,{PollMeetingTime:Bo["a"],UserAvatar:zo["a"]});var Ko=n("30e1"),Wo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-ranked-choice-chart"},[n("v-simple-table",[n("thead",[n("tr",[n("th",{directives:[{name:"t",rawName:"v-t",value:"poll_ranked_choice_form.rank",expression:"'poll_ranked_choice_form.rank'"}],staticClass:"min"}),n("th",{directives:[{name:"t",rawName:"v-t",value:"common.option",expression:"'common.option'"}]}),n("th",{directives:[{name:"t",rawName:"v-t",value:"poll_ranked_choice_form.points",expression:"'poll_ranked_choice_form.points'"}]})])]),n("tbody",e._l(e.rankedOptions,(function(t){return n("tr",{key:t.name},[n("td",{staticClass:"min"},[e._v(e._s(t.rank))]),n("td",[e._v(e._s(t.name))]),n("td",[e._v(e._s(t.score))])])})),0)])],1)},Yo=[],Qo=n("93c6"),Zo=n.n(Qo),Jo={props:{poll:Object},computed:{rankedOptions:function(){var e,t=this;return e=Zo()(pe()(this.poll.stanceData,(function(e,n){return{name:n,score:e,poll:function(){return t.poll},pollOption:function(){return xo()(t.poll.pollOptions(),(function(e){return e.name===n}))}}})),"score","desc"),e.forEach((function(e,t){return e.rank=t+1,e.rankOrScore=t+1})),e}}},Xo=Jo,er=(n("d019"),n("1f4f")),tr=Object(d["a"])(Xo,Wo,Yo,!1,null,null,null),nr=tr.exports;m()(tr,{VSimpleTable:er["a"]});var or={components:{"poll-proposal-form":ce,"poll-common-vote-form":Pe,"poll-poll-form":Ee,"poll-count-form":He,"poll-dot_vote-form":at,"poll-score-form":mt,"poll-meeting-form":xt,"poll-ranked_choice-form":Pt,"poll-common-change-your-vote":Bt,"poll-proposal-chart-panel":Qt,"poll-count-chart-panel":nn,"poll-poll-vote-form":_n,"poll-dot_vote-vote-form":Vn,"poll-poll-chart-panel":Yn,"poll-common-bar-chart-panel":Kn,"poll-dot_vote-chart-panel":to,"poll-score-vote-form":so,"poll-score-chart-panel":fo,"poll-common-stance-choice":ho["a"],"poll-ranked_choice-vote-form":To,"poll-meeting-vote-form":Eo,"poll-meeting-chart-panel":Go,"poll-common-votes-panel":Ko["a"],"poll-ranked_choice-chart-panel":nr},props:{poll:Object,stance:Object,outcome:Object,stanceChoice:Object,back:Object,name:String,size:Number,shouldReset:Boolean},computed:{componentName:function(){var e;return e=(this.stance||this.outcome||this.stanceChoice||this.poll).poll().pollType,this.$options.components["poll-".concat(e,"-").concat(this.name)]?"poll-".concat(e,"-").concat(this.name):"poll-common-".concat(this.name)}}},rr=or,ir=Object(d["a"])(rr,o,r,!1,null,null,null);t["default"]=ir.exports},5173:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"d-flex align-center",attrs:{"aria-label":e.$t("action_dock.actions_menu")}},[n("v-spacer"),Object.keys(e.actions).includes("react")?n("reaction-display",{attrs:{model:e.model,fetch:e.fetchReactions}}):e._e(),e._l(e.actions,(function(t,o){return t.canPerform()?n("div",{key:o,staticClass:"action-dock__action"},["react"==o?n("reaction-input",{staticClass:"action-dock__button--react",attrs:{model:e.model,icon:e.icons}}):e._e(),"react"!=o?n("action-button",{attrs:{icon:e.icons,action:t,name:o,nameArgs:t.nameArgs&&t.nameArgs()}}):e._e()],1):e._e()})),e.menuActions?n("action-menu",{attrs:{actions:e.menuActions}}):e._e()],2)},r=[],i={props:{icons:Boolean,model:Object,actions:Object,menuActions:Object,fetchReactions:Boolean}},a=i,s=(n("cb92"),n("2877")),c=n("6544"),l=n.n(c),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.icon?n("v-icon",[e._v(e._s(e.action.icon))]):[e.action.to?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:{path:e.action.name||"action_dock."+e.name,args:e.nameArgs||{}},expression:"{path: (action.name || 'action_dock.'+name), args: (nameArgs || {})}"}],staticClass:"action-button",class:"action-dock__button--"+e.name,attrs:{to:e.action.to(),small:"",text:""}}):n("v-btn",{directives:[{name:"t",rawName:"v-t",value:{path:e.action.name||"action_dock."+e.name,args:e.nameArgs||{}},expression:"{path: (action.name || 'action_dock.'+name), args: (nameArgs || {})}"}],staticClass:"action-button",class:"action-dock__button--"+e.name,attrs:{small:"",text:""},on:{click:function(t){return t.preventDefault(),e.action.perform()}}})]],2)},d=[],p={props:{action:Object,name:String,nameArgs:Object,icon:Boolean}},m=p,f=(n("06dc"),n("8336")),h=n("132d"),_=Object(s["a"])(m,u,d,!1,null,null,null),v=_.exports;l()(_,{VBtn:f["a"],VIcon:h["a"]});var b,g,y,k,w=n("e89d"),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.reactionTypes.length?n("div",{staticClass:"reactions-display mr-2"},[n("div",{staticClass:"reactions-display__emojis"},e._l(e.reactionTypes,(function(t){return n("div",{key:t,staticClass:"reaction lmo-pointer",on:{click:function(n){return e.removeMine(t)}}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(o){var r=o.on,i=o.attrs;return[n("div",e._g(e._b({staticClass:"reactions-display__group"},"div",i,!1),r),[e.emojiSupported?n("span",[e._v(e._s(e.colonToUnicode(t)))]):n("img",{staticClass:"emoji",attrs:{src:e.srcForEmoji(e.colonToUnicode(t))}}),e._l(e.reactionHash[t],(function(t){return n("user-avatar",{key:t.id,staticClass:"reactions-display__author",attrs:{user:t,size:e.diameter}})}))],2)]}}],null,!0)},e._l(e.reactionHash[t],(function(t){return n("div",{key:t.id,staticClass:"reactions-display__name"},[n("span",[e._v(e._s(t.name))])])})),0)],1)})),0)]):e._e()},C=[],O=n("c228"),j=n.n(O),S=n("c641"),I=n.n(S),P=n("5ddc"),T=n.n(P),A=n("ec69"),R=n.n(A),V=n("ceac"),$=n.n(V),N=n("e9a7"),E=n.n(N),M=n("4245"),D=n.n(M),L=n("cd6d"),F=n("6062"),q=n("6cd4"),U=n.n(q),B=n("b047"),z=n.n(B);function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}y={},k=function(){return y={comment_ids:[],discussion_ids:[],poll_ids:[],outcome_ids:[]}},k(),b=function(e){var t;return t={},U()(e,(function(e,n){return t[n]=e.join("x")||null,!0})),t},g=z()((function(){if(0!==Object.keys(b(y)).length)return L["a"].reactions.fetch({params:b(y)}),k()}),500);var W=new(function(){function e(){H(this,e)}return K(e,[{key:"enqueueFetch",value:function(e){return("function"===typeof e.isA?e.isA("comment"):void 0)&&y["comment_ids"].push(e.id),("function"===typeof e.isA?e.isA("discussion"):void 0)&&y["discussion_ids"].push(e.id),("function"===typeof e.isA?e.isA("poll"):void 0)&&y["poll_ids"].push(e.id),("function"===typeof e.isA?e.isA("outcome"):void 0)&&y["outcome_ids"].push(e.id),g()}}]),e}()),Y=n("5300");function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={props:{model:Object},data:function(){return{diameter:20,maxNamesCount:10,reactionHash:{all:[]},emojiSupported:Y["d"]}},created:function(){return W.enqueueFetch(this.model)},mounted:function(){var e=this;return this.watchRecords({collections:["reactions"],query:function(t){return e.reactionHash={all:[]},I()(L["a"].reactions.find(e.reactionParams),(function(t){var n;return null==e.reactionHash[t.reaction]&&(e.reactionHash[t.reaction]=[]),n=L["a"].users.find(t.userId),e.reactionHash[t.reaction].push(n),e.reactionHash["all"].push(n),!0}))}})},computed:Q({reactionParams:function(){return{reactableType:E()(this.model.constructor.singular),reactableId:this.model.id}},reactionTypes:function(){return j()($()(R()(this.reactionHash),["all"]))},myReaction:function(){if(F["a"].isSignedIn())return L["a"].reactions.find(D()({},this.reactionParams,{userId:F["a"].user().id}))[0]},otherReaction:function(){return L["a"].reactions.find(D()({},this.reactionParams,{userId:{$ne:F["a"].user().id}}))[0]}},"reactionTypes",(function(){return $()(R()(this.reactionHash),["all"])})),methods:{srcForEmoji:Y["f"],stripColons:Y["g"],colonToUnicode:Y["a"],removeMine:function(e){var t;if(t=L["a"].reactions.find(D()({},this.reactionParams,{userId:F["a"].user().id,reaction:e}))[0],t)return t.destroy()},translate:function(e){var t;return t=emojiTitle(e),T()(t,"reactions.")?e:t},countFor:function(e){return null!=this.reactionHash[e]?this.reactionHash[e].length-this.maxNamesCount:0}}},J=Z,X=(n("6d2b"),n("c450")),ee=n("3a2f"),te=Object(s["a"])(J,x,C,!1,null,null,null),ne=te.exports;l()(te,{UserAvatar:X["a"],VTooltip:ee["a"]});var oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{staticClass:"reactions-input",attrs:{"close-on-content-click":!0},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"emoji-picker__toggle action-button",attrs:{small:"",text:"",icon:e.icon}},"v-btn",r,!1),o),[e.icon?n("v-icon",[e._v("mdi-emoticon-outline")]):n("span",{directives:[{name:"t",rawName:"v-t",value:"action_dock.react",expression:"'action_dock.react'"}]})],1)]}}]),model:{value:e.closeEmojiMenu,callback:function(t){e.closeEmojiMenu=t},expression:"closeEmojiMenu"}},[n("emoji-picker",{attrs:{insert:e.insert}})],1)},re=[],ie={props:{model:Object,icon:Boolean},data:function(){return{search:null,closeEmojiMenu:!1}},methods:{insert:function(e){var t,n;return t={reactableType:E()(this.model.constructor.singular),reactableId:this.model.id,userId:F["a"].user().id},n=L["a"].reactions.find(t)[0]||L["a"].reactions.build(t),n.reaction=":".concat(e,":"),n.save(),this.closeEmojiMenu=!0}}},ae=ie,se=(n("80ab"),n("bb8c")),ce=n("e449"),le=Object(s["a"])(ae,oe,re,!1,null,null,null),ue=le.exports;l()(le,{EmojiPicker:se["a"],VBtn:f["a"],VIcon:h["a"],VMenu:ce["a"]});var de=n("2fa4"),pe=Object(s["a"])(a,o,r,!1,null,null,null);t["a"]=pe.exports;l()(pe,{ActionButton:v,ActionMenu:w["a"],ReactionDisplay:ne,ReactionInput:ue,VSpacer:de["a"]})},5273:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{"aria-label":e.$t(e.ariaTranslationKey,{actor:e.event.actorName(),pollType:e.translatedPollType,when:e.approximateDate(e.event.createdAt)})}},[n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.viewed,once:!0},expression:"{callback: viewed, once: true}"}],staticClass:"thread-item px-3 pb-1",class:[{"thread-item--unread":e.isUnread},e.focusStyleClass]},[n("v-layout",{staticClass:"lmo-action-dock-wrapper",style:{"margin-left":e.indentSize+"px"},attrs:{id:"sequence-"+e.event.sequenceId}},[n("div",{staticClass:"thread-item__avatar mr-3 mt-0"},[e.discussion.forkedEventIds.length?e._e():n("user-avatar",{attrs:{user:e.event.actor(),size:e.iconSize}}),e.discussion.forkedEventIds.length?n("v-checkbox",{staticClass:"thread-item__is-forking",attrs:{disabled:e.event.forkingDisabled()},on:{change:function(t){return e.event.toggleForking()}},model:{value:e.event.isForking(),callback:function(t){e.$set(e.event,"isForking()",t)},expression:"event.isForking()"}}):e._e()],1),n("v-layout",{staticClass:"thread-item__body",attrs:{column:""}},[n("v-layout",{staticClass:"align-center wrap"},[n("h3",{staticClass:"thread-item__title body-2",attrs:{tabindex:"-1",id:"event-"+e.event.id}},[e.eventable.discardedAt?n("div",[n("span",{directives:[{name:"t",rawName:"v-t",value:"thread_item.removed",expression:"'thread_item.removed'"}],staticClass:"grey--text"}),n("mid-dot"),n("router-link",{staticClass:"grey--text",attrs:{to:e.link}},[n("time-ago",{attrs:{date:e.eventable.discardedAt}})],1)],1):n("div",{staticClass:"d-flex align-center"},[e._t("headline",[n("span",{domProps:{innerHTML:e._s(e.headline)}})]),n("mid-dot"),n("router-link",{staticClass:"grey--text body-2",attrs:{to:e.link}},[n("time-ago",{attrs:{date:e.event.createdAt}})],1)],2)])]),e.eventable.discardedAt?e._e():n("div",{ref:"defaultSlot",staticClass:"default-slot"},[e._t("default")],2),e.event.recipientMessage?n("p",[e._v(e._s(e.event.recipientMessage))]):e._e(),e._t("actions"),e._t("afterActions")],2)],1)],1),e._t("append")],2)},r=[],i=n("6062"),a=(n("cd6d"),n("65c3"),n("9953"),n("44e4")),s=n("a921"),c=n("94d4"),l={props:{isReturning:Boolean,event:{type:Object,required:!0}},data:function(){return{isDisabled:!1,collapsed:!1,hover:!1,focusStyleClass:null}},methods:{viewed:function(e){if(e)return this.event.markAsRead()},focusThenFade:function(){var e=this;return this.focusStyleClass="thread-item--focused",setTimeout((function(){return e.focusStyleClass="thread-item--previously-focused"}),5e3)}},computed:{ariaTranslationKey:function(){return this.eventable.discardedAt?"thread_item.aria.deleted":"thread_item.aria."+this.event.kind},eventable:function(){return this.event.model()},translatedPollType:function(){if(this.eventable&&this.eventable.pollType)return this.eventable.translatedPollType()},indentSize:function(){switch(this.event.depth){case 0:return 0;case 1:return 0;case 2:return 52;case 3:return 68}},discussion:function(){return this.event.discussion()},iconSize:function(){return 1===this.event.depth?40:24},isUnread:function(){return i["a"].isSignedIn()&&i["a"].user().id!==this.event.actorId&&this.isReturning&&this.discussion&&!c["a"].includesValue(this.discussion.readRanges,this.event.sequenceId)},headline:function(){var e;return e=this.event.actor(),this.$t(Object(s["a"])(this.event,!0),{author:e.nameWithTitle(this.eventable.group()),username:e.username,key:this.event.model().key,title:Object(s["c"])(this.event),polltype:this.$t(Object(s["b"])(this.event)).toLowerCase()})},link:function(){return a["a"].event(this.event)}},watch:{"$route.query.p":{immediate:!0,handler:function(e){if(parseInt(e)===this.event.position&&1===this.event.depth)return this.focusThenFade()}},"$route.params.sequence_id":{immediate:!0,handler:function(e){if(parseInt(e)===this.event.sequenceId)return this.focusThenFade()}},"$route.params.comment_id":{immediate:!0,handler:function(e){if(parseInt(e)===this.event.eventableId)return this.focusThenFade()}}}},u=l,d=(n("793c"),n("2877")),p=n("6544"),m=n.n(p),f=n("fe39"),h=n("f55c"),_=n("c450"),v=n("ac7c"),b=n("a722"),g=Object(d["a"])(u,o,r,!1,null,null,null);t["default"]=g.exports;m()(g,{MidDot:f["a"],TimeAgo:h["a"],UserAvatar:_["a"],VCheckbox:v["a"],VLayout:b["a"]})},5300:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return w}));var o,r,i=n("c641"),a=n.n(i),s=n("94df"),c=n.n(s);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,d,p,m={common:{slight_smile:"",heart:"",tada:"",thumbsup:""},hands:(o={raised_hands:"",pray:"",fingers_crossed:"",clap:"",v:"",metal:"",ok_hand:"",wave:"",call_me:"",thumbs_up:"",thumbsdown:""},l(o,"ok_hand",""),l(o,"punch",""),l(o,"fist",""),l(o,"wave",""),l(o,"hand",""),l(o,"open_hands",""),l(o,"point_up_2",""),l(o,"point_down",""),l(o,"point_right",""),l(o,"point_left",""),l(o,"muscle",""),l(o,"ok_hand",""),o),expressions:(r={simple_smile:"",grinning:"",laughing:"",hugging:"",sunglasses:"",wink:"",nerd:"",relieved:"",worried:"",confused:"",confounded:"",neutral_face:"",slight_frown:"",disappointed:"",angry:"",weary:"",astonished:"",rolling_eyes:"",cry:"",scream:"",thinking:""},l(r,"neutral_face",""),l(r,"slight_frown",""),l(r,"disappointed",""),l(r,"scream",""),l(r,"sleeping",""),l(r,"smile",""),l(r,"smiley",""),l(r,"grinning",""),l(r,"blush",""),l(r,"heart_eyes",""),l(r,"kissing_heart",""),l(r,"kissing_closed_eyes",""),l(r,"kissing",""),l(r,"kissing_smiling_eyes",""),l(r,"stuck_out_tongue_winking_eye",""),l(r,"stuck_out_tongue_closed_eyes",""),l(r,"stuck_out_tongue",""),l(r,"flushed",""),l(r,"grin",""),l(r,"pensive",""),l(r,"relieved",""),l(r,"unamused",""),l(r,"disappointed",""),l(r,"persevere",""),l(r,"cry",""),l(r,"joy",""),l(r,"sob",""),l(r,"sleepy",""),l(r,"disappointed_relieved",""),l(r,"cold_sweat",""),l(r,"sweat_smile",""),l(r,"sweat",""),l(r,"weary",""),l(r,"tired_face",""),l(r,"fearful",""),l(r,"scream",""),l(r,"angry",""),l(r,"rage",""),l(r,"triumph",""),l(r,"confounded",""),l(r,"yum",""),l(r,"mask",""),l(r,"sunglasses",""),l(r,"sleeping",""),l(r,"dizzy_face",""),l(r,"frowning",""),l(r,"anguished",""),l(r,"imp",""),l(r,"open_mouth",""),l(r,"grimacing",""),l(r,"neutral_face",""),l(r,"hushed",""),l(r,"smirk",""),l(r,"expressionless",""),r),people:{man_with_gua_pi_mao:"",man_with_turban:"",cop:"",construction_worker:"",guardsman:"",baby:"",boy:"",girl:"",man:"",woman:"",older_man:"",older_woman:"",person_with_blond_hair:"",angel:"",princess:"",smiley_cat:"",smile_cat:"",heart_eyes_cat:"",kissing_cat:"",smirk_cat:"",scream_cat:"",crying_cat_face:"",joy_cat:"",pouting_cat:"",japanese_ogre:"",japanese_goblin:"",see_no_evil:"",hear_no_evil:"",speak_no_evil:"",skull:"",alien:"",hankey:"",ear:"",eyes:"",nose:"",tongue:"",lips:"",walking:"",runner:"",dancer:"",couple:"",family:"",couplekiss:"",couple_with_heart:"",dancers:"",ok_woman:"",no_good:"",information_desk_person:"",raising_hand:"",massage:"",haircut:"",nail_care:"",bride_with_veil:"",person_with_pouting_face:"",person_frowning:"",bow:""},nature:{dog:"",wolf:"",cat:"",mouse:"",hamster:"",rabbit:"",frog:"",tiger:"",koala:"",bear:"",pig:"",pig_nose:"",cow:"",boar:"",monkey_face:"",monkey:"",horse:"",sheep:"",elephant:"",panda_face:"",penguin:"",bird:"",baby_chick:"",hatched_chick:"",hatching_chick:"",chicken:"",snake:"",turtle:"",bug:"",bee:"",ant:"",beetle:"",snail:"",octopus:"",shell:"",tropical_fish:"",fish:"",dolphin:"",whale:"",racehorse:"",dragon_face:"",blowfish:"",camel:"",poodle:"",feet:"",bouquet:"",cherry_blossom:"",tulip:"",four_leaf_clover:"",rose:"",sunflower:"",hibiscus:"",maple_leaf:"",leaves:"",fallen_leaf:"",herb:"",ear_of_rice:"",mushroom:"",cactus:"",palm_tree:"",chestnut:"",seedling:"",blossom:"",new_moon:"",first_quarter_moon:"",moon:"",full_moon:"",first_quarter_moon_with_face:"",crescent_moon:"",earth_asia:"",volcano:"",milky_way:"",stars:"",partly_sunny:"",snowman:"",cyclone:"",foggy:"",rainbow:"",ocean:""},objects:{tophat:"",crown:"",womans_hat:"",athletic_shoe:"",mans_shoe:"",sandal:"",high_heel:"",boot:"",shirt:"",necktie:"",womans_clothes:"",dress:"",running_shirt_with_sash:"",jeans:"",kimono:"",bikini:"",briefcase:"",handbag:"",pouch:"",purse:"",eyeglasses:"",ribbon:"",closed_umbrella:"",fire:"",sparkles:"",star:"",star2:"",dizzy:"",boom:"",anger:"",sweat_drops:"",droplet:"",zzz:"",dash:"",lipstick:"",yellow_heart:"",blue_heart:"",purple_heart:"",green_heart:"",broken_heart:"",heartpulse:"",heartbeat:"",two_hearts:"",sparkling_heart:"",revolving_hearts:"",cupid:"",love_letter:"",kiss:"",ring:"",gem:"",speech_balloon:"",footprints:"",bamboo:"",gift_heart:"",dolls:"",school_satchel:"",mortar_board:"",flags:"",fireworks:"",sparkler:"",wind_chime:"",rice_scene:"",jack_o_lantern:"",ghost:"",santa:"",christmas_tree:"",gift:"",tanabata_tree:"",confetti_ball:"",balloon:"",crossed_flags:"",crystal_ball:"",movie_camera:"",camera:"",video_camera:"",vhs:"",cd:"",dvd:"",minidisc:"",floppy_disk:"",computer:"",iphone:"",telephone_receiver:"",pager:"",fax:"",satellite:"",tv:"",radio:"",loud_sound:"",bell:"",loudspeaker:"",mega:"",hourglass_flowing_sand:"",hourglass:"",alarm_clock:"",watch:"",unlock:"",lock:"",lock_with_ink_pen:"",closed_lock_with_key:"",key:"",mag_right:"",bulb:"",flashlight:"",electric_plug:"",battery:"",mag:"",bath:"",toilet:"",wrench:"",nut_and_bolt:"",hammer:"",door:"",smoking:"",bomb:"",gun:"",hocho:"",pill:"",syringe:"",moneybag:"",yen:"",dollar:"",credit_card:"",money_with_wings:"",calling:"","e-mail":"",inbox_tray:"",outbox_tray:"",envelope_with_arrow:"",incoming_envelope:"",mailbox:"",mailbox_closed:"",postbox:"",package:"",memo:"",page_facing_up:"",page_with_curl:"",bookmark_tabs:"",bar_chart:"",chart_with_upwards_trend:"",chart_with_downwards_trend:"",scroll:"",clipboard:"",date:"",calendar:"",card_index:"",file_folder:"",open_file_folder:"",pushpin:"",paperclip:"",straight_ruler:"",triangular_ruler:"",closed_book:"",green_book:"",blue_book:"",orange_book:"",notebook:"",notebook_with_decorative_cover:"",ledger:"",books:"",book:"",bookmark:"",name_badge:"",newspaper:"",art:"",clapper:"",microphone:"",headphones:"",musical_score:"",musical_note:"",notes:"",musical_keyboard:"",violin:"",trumpet:"",saxophone:"",guitar:"",space_invader:"",video_game:"",black_joker:"",flower_playing_cards:"",mahjong:"",game_die:"",dart:"",football:"",basketball:"",soccer:"",baseball:"",tennis:"","8ball":"",bowling:"",golf:"",checkered_flag:"",trophy:"",ski:"",snowboarder:"",swimmer:"",surfer:"",fishing_pole_and_fish:"",tea:"",sake:"",beer:"",beers:"",cocktail:"",tropical_drink:"",wine_glass:"",fork_and_knife:"",pizza:"",hamburger:"",fries:"",poultry_leg:"",meat_on_bone:"",spaghetti:"",curry:"",fried_shrimp:"",bento:"",sushi:"",fish_cake:"",rice_ball:"",rice_cracker:"",rice:"",ramen:"",stew:"",oden:"",dango:"",egg:"",bread:"",doughnut:"",custard:"",icecream:"",ice_cream:"",shaved_ice:"",birthday:"",cake:"",cookie:"",chocolate_bar:"",candy:"",lollipop:"",honey_pot:"",apple:"",green_apple:"",tangerine:"",cherries:"",grapes:"",watermelon:"",strawberry:"",peach:"",melon:"",banana:"",pineapple:"",sweet_potato:"",eggplant:"",tomato:"",corn:"",arrow_right:"",arrow_left:"",arrow_up:"",arrow_down:""},places:{house:"",house_with_garden:"",school:"",office:"",post_office:"",hospital:"",bank:"",convenience_store:"",love_hotel:"",hotel:"",wedding:"",church:"",department_store:"",city_sunrise:"",city_sunset:"",japanese_castle:"",european_castle:"",tent:"",factory:"",tokyo_tower:"",japan:"",mount_fuji:"",sunrise_over_mountains:"",sunrise:"",night_with_stars:"",statue_of_liberty:"",bridge_at_night:"",carousel_horse:"",ferris_wheel:"",fountain:"",roller_coaster:"",ship:"",boat:"",speedboat:"",rocket:"",seat:"",station:"",bullettrain_side:"",bullettrain_front:"",metro:"",railway_car:"",bus:"",blue_car:"",car:"",taxi:"",truck:"",rotating_light:"",police_car:"",fire_engine:"",ambulance:"",bike:"",barber:"",busstop:"",ticket:"",traffic_light:"",construction:"",beginner:"",fuelpump:"",izakaya_lantern:"",slot_machine:"",moyai:"",circus_tent:"",performing_arts:"",round_pushpin:"",triangular_flag_on_post:"",no_smoking:"",100:"",no_entry_sign:"",white_check_mark:""}};n("7ae3");p=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935)/g,d={},a()(m,(function(e,t){return a()(e,(function(e,t){return d[t]=e}))})),u=/\:[a-zA-Z0-9-_+]+\:/g;var f=function(e){return e&&":"===e[0]&&":"===e[e.length-1]?e.substring(1,e.length-1):e},h=function(e){return _(f(e))},_=function(e){return d[v(e)]||":".concat(v(e),":")},v=function(e){var t;return t={"+1":"thumbsup","-1":"thumbsdown",thinking_face:"thinking",crossed_fingers:"fingers_crossed",nerd_face:"nerd",hugging_face:"hugging",slightly_frowning_face:"slight_frown"},null!=t[e]?t[e]:e},b=function(e){return e.replace(u,h)},g=function(e,t){var n,o;return e=e.match(p)[0],n="/img/emojis/",o=".png",n+c()(e).toLowerCase().replace(" ","-")+o},y=function(e){return'<img class="emoji" src="'+g(e)+'">'},k=function(){var e,t;return t=document.createElement("canvas"),!(!t.getContext||!t.getContext("2d")||"function"!==typeof t.getContext("2d").fillText)&&(e=t.getContext("2d"),e.textBaseline="top",e.font="32px Arial",e.fillText("",0,0),0!==e.getImageData(16,16,1,1).data[0])}(),w=function(e){return k?e:e.replace(p,(function(e){return y(e)}))}},"571d":function(e,t,n){"use strict";n("e751")},"583e":function(e,t,n){},5913:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.poll.closingAt?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_percent_voted.sentence",args:{numerator:e.poll.decidedVotersCount,denominator:e.poll.votersCount,percent:e.poll.castStancesPct}},expression:"{ path: 'poll_common_percent_voted.sentence', args: { numerator: poll.decidedVotersCount, denominator: poll.votersCount, percent: poll.castStancesPct } }"}],staticClass:"text--secondary"}):e._e()},r=[],i={props:{poll:Object}},a=i,s=n("2877"),c=Object(s["a"])(a,o,r,!1,null,null,null);t["a"]=c.exports},"5a68":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var o=function(e){return e?window.location.href=e:window.location.reload()},r=function(){return window.devicePixelRatio>=2}},"5c9b":function(e,t,n){},6062:function(e,t,n){"use strict";var o,r,i,a,s,c=n("c228"),l=n.n(c),u=n("7ae3"),d=n("cd6d"),p=(n("44e4"),n("f98e"),n("65c3")),m=n("f4a7"),f=n("2b0e"),h=n("5a68");function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}i=["en"],s=function(e){return m["a"].locale=e,document.querySelector("html").setAttribute("lang",e)},a=function(e){return e.replace("-","_")},o=function(e){return e.startsWith("nl")?"nl":e.replace("_","-")},r=function(e){if(m["a"].locale!==e)return i.includes(e)?s(e):(n("8668")("./".concat(o(e),"/index.js")).then((function(e){return m["a"].dateLocale=e})),n("0d6d")("./client.".concat(a(e),".yml")).then((function(t){return t=t[e],i.push(e),m["a"].setLocaleMessage(e,t),s(e)})))},t["a"]=new(function(){function e(){_(this,e)}return b(e,[{key:"defaultFormat",value:function(){return this.user().experiences["html-editor.uses-markdown"]?"md":"html"}},{key:"apply",value:function(e){var t;return f["a"].set(u["a"],"currentUserId",e.current_user_id),f["a"].set(u["a"],"pendingIdentity",e.pending_identity),d["a"].import(e),t=this.user(),this.updateLocale(t.locale),this.isSignedIn()&&(t.timeZone!==u["a"].timeZone&&(t.timeZone=u["a"].timeZone,d["a"].users.updateProfile(t)),p["a"].$emit("signedIn",t)),t}},{key:"signOut",value:function(){return u["a"].currentUserId=null,d["a"].sessions.remote.destroy("").then((function(){return Object(h["a"])("/")}))}},{key:"isSignedIn",value:function(){return u["a"].currentUserId&&null==this.user().restricted}},{key:"user",value:function(){return d["a"].users.find(u["a"].currentUserId)||d["a"].users.build()}},{key:"currentGroupId",value:function(){return null!=this.currentGroup&&this.currentGroup.id}},{key:"updateLocale",value:function(e){return r(e)}},{key:"providerIdentity",value:function(){var e;if(u["a"].pendingIdentity)return e=u["a"].identityProviders.map((function(e){return e.name})),e.includes(u["a"].pendingIdentity.identity_type)?u["a"].pendingIdentity:void 0}}]),e}())},"60e8":function(e,t,n){},6204:function(e,t,n){"use strict";n("9e3b")},"62aa":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chip",{attrs:{small:"",outlined:"",color:e.color}},[e.poll.closingAt?n("abbr",{staticClass:"closing-in timeago--inline"},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:e.translationKey,args:{time:e.timeMethod(e.time)}},expression:"{ path: translationKey, args: { time: timeMethod(time) } }"}],attrs:{title:e.exact(e.time)}})]):n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_wip_field.title",expression:"'poll_common_wip_field.title'"}]})])},r=[],i=n("4116"),a={props:{poll:Object,approximate:Boolean},methods:{exact:i["b"],timeMethod:function(){return this.approximate?Object(i["a"])(this.time):Object(i["b"])(this.time)}},computed:{time:function(){var e;return e=this.poll.isActive()?"closingAt":"closedAt",this.poll[e]},translationKey:function(){return this.poll.isActive()?"common.closing_in":"common.closed_ago"},color:function(){return this.poll.isActive()?"accent":"warning"}}},s=a,c=n("2877"),l=n("6544"),u=n.n(l),d=n("cc20"),p=Object(c["a"])(s,o,r,!1,null,null,null);t["a"]=p.exports;u()(p,{VChip:d["a"]})},"65c3":function(e,t,n){"use strict";var o=n("2b0e");t["a"]=new o["a"]},6609:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"poll-common-closing-at-field my-3"},[n("div",{staticClass:"poll-common-closing-at-field__inputs"},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{disabled:!e.poll.closingAt,rules:[e.validDate],placeholder:"2000-12-30","prepend-icon":"mdi-calendar"},scopedSlots:e._u([{key:"label",fn:function(){return[e.poll.closingAt?n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"common.closing_in",args:{time:e.label}},expression:"{ path: 'common.closing_in', args: { time: label } }"}],attrs:{title:e.exact(e.poll.closingAt)}}):e._e(),e.poll.closingAt?e._e():n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_closing_at_field.no_closing_date",expression:"'poll_common_closing_at_field.no_closing_date'"}]})]},proxy:!0}],null,!0),model:{value:e.closingDate,callback:function(t){e.closingDate=t},expression:"closingDate"}},"v-text-field",r,!1),o))]}}]),model:{value:e.isShowingDatePicker,callback:function(t){e.isShowingDatePicker=t},expression:"isShowingDatePicker"}},[n("v-date-picker",{staticClass:"poll-common-closing-at-field__datepicker",attrs:{disabled:!e.poll.closingAt,min:e.dateToday,"no-title":""},on:{input:function(t){e.isShowingDatePicker=!1}},model:{value:e.closingDate,callback:function(t){e.closingDate=t},expression:"closingDate"}})],1)],1),n("v-spacer"),n("v-select",{staticClass:"poll-common-closing-at-field__timepicker",attrs:{disabled:!e.poll.closingAt,"prepend-icon":"mdi-clock-outline",label:e.$t("poll_meeting_time_field.closing_hour"),items:e.times},model:{value:e.closingHour,callback:function(t){e.closingHour=t},expression:"closingHour"}})],1)],1),n("validation-errors",{attrs:{subject:e.poll,field:"closingAt"}})],1),n("div",{staticClass:"poll-common-notify-on-closing-soon"},[e.reminderEnabled?e._e():n("p",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_settings.notify_on_closing_soon.closes_too_soon",args:{pollType:e.poll.translatedPollType()}},expression:"{path: 'poll_common_settings.notify_on_closing_soon.closes_too_soon', args: {pollType: poll.translatedPollType()}}"}]}),e.reminderEnabled?n("v-select",{attrs:{disabled:!e.poll.closingAt,label:e.$t("poll_common_settings.notify_on_closing_soon.title",{pollType:e.poll.translatedPollType()}),items:e.closingSoonItems},model:{value:e.poll.notifyOnClosingSoon,callback:function(t){e.$set(e.poll,"notifyOnClosingSoon",t)},expression:"poll.notifyOnClosingSoon"}}):e._e()],1)])},r=[],i=n("7ae3"),a=n("b166"),s=n("0b1b"),c=n("49ef"),l=n("2cf3"),u=n("1556"),d=n("1212"),p=n("0dae"),m=n("4116"),f={props:{poll:Object},data:function(){var e=this;return{closingHour:Object(a["a"])(Object(s["a"])(this.poll.closingAt||new Date),"HH:mm"),closingDate:Object(a["a"])(this.poll.closingAt||new Date,"yyyy-MM-dd"),dateToday:Object(a["a"])(new Date,"yyyy-MM-dd"),times:m["c"],timeZone:i["a"].timeZone,isShowingDatePicker:!1,validDate:function(){return Object(c["a"])(Object(l["a"])("".concat(e.closingDate," ").concat(e.closingHour),"yyyy-MM-dd HH:mm",new Date))}}},methods:{exact:m["b"],updateClosingAt:function(){var e;if(e=Object(l["a"])("".concat(this.closingDate," ").concat(this.closingHour),"yyyy-MM-dd HH:mm",new Date),Object(c["a"])(e))return this.poll.closingAt=e}},computed:{label:function(){return!!this.poll.closingAt&&Object(u["a"])(this.poll.closingAt,new Date,{addSuffix:!0})},closingSoonItems:function(){var e=this;return"nobody author undecided_voters voters".split(" ").map((function(t){return{text:e.$t("poll_common_settings.notify_on_closing_soon.".concat(t)),value:t}}))},reminderEnabled:function(){return!this.poll.closingAt||Object(d["a"])(this.poll.closingAt,Object(p["a"])(new Date,24))}},watch:{"poll.closingAt":function(e){if(e)return this.closingHour=Object(a["a"])(Object(s["a"])(e),"HH:mm"),this.closingDate=Object(a["a"])(e,"yyyy-MM-dd")},closingDate:function(e){return this.updateClosingAt()},closingHour:function(e){return this.updateClosingAt()}}},h=f,_=n("2877"),v=n("6544"),b=n.n(v),g=n("2e4b"),y=n("0e8f"),k=n("a722"),w=n("e449"),x=n("b974"),C=n("2fa4"),O=n("8654"),j=n("f275"),S=Object(_["a"])(h,o,r,!1,null,null,null);t["a"]=S.exports;b()(S,{VDatePicker:g["a"],VFlex:y["a"],VLayout:k["a"],VMenu:w["a"],VSelect:x["a"],VSpacer:C["a"],VTextField:O["a"],ValidationErrors:j["a"]})},"66ef":function(e,t,n){"use strict";n("7ae3");var o,r,i=n("65c3");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r=function(e,t){return function(n,o,r,a){if(n)return i["a"].$emit("flashMessage",{level:e,duration:t||3500,message:n,options:o,action:r,actionFn:a})}},t["a"]=o=function(){var e=function e(){a(this,e)};return e.success=r("success"),e.info=r("info"),e.warning=r("warning"),e.error=r("error"),e.loading=r("loading",1),e.update=r("update",1),e.dismiss=r("loading",1),e}.call(void 0),window.Loomio.flash=o},6801:function(e,t,n){"use strict";var o,r,i=n("bba4"),a=n.n(i),s=n("dd61"),c=n.n(s),l=n("ec69"),u=n.n(l),d=n("c641"),p=n.n(d),m=n("e3ee");function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}t["a"]=new(function(){function e(){f(this,e)}return _(e,[{key:"parseJSONList",value:function(e){return c()(e,this.parseJSON)}},{key:"parseJSON",value:function(e){var t;return t=r(e,a.a),p()(u()(t),(function(e){return null!=t[e]&&(o(e)?t[e]=Object(m["a"])(t[e]):t[e]=t[e]),!0})),t}},{key:"isTimeAttribute",value:function(e){return o(e)}}]),e}()),r=function(e,t){var n;return n={},p()(u()(e),(function(o){return n[t(o)]=e[o],!0})),n},o=function(e){return/At$/.test(e)}},"6ad1":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showPanel()?n("v-alert",{staticClass:"my-4 poll-common-set-outcome-panel",attrs:{outlined:"",color:"primary",elevation:"3"}},[n("p",{staticClass:"text--secondary",domProps:{innerHTML:e._s(e.$t("poll_common_set_outcome_panel."+e.poll.pollType))}}),n("v-layout",{attrs:{"justify-space-around":""}},[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"poll_common_set_outcome_panel.enter_outcome",expression:"'poll_common_set_outcome_panel.enter_outcome'"}],staticClass:"poll-common-set-outcome-panel__submit",attrs:{color:"primary"},on:{click:function(t){return e.openOutcomeForm()}}})],1)],1):e._e()},r=[],i=n("cd6d"),a=n("9953"),s=n("6062"),c=n("65c3"),l={props:{poll:Object},methods:{showPanel:function(){return a["a"].canSetPollOutcome(this.poll)},openOutcomeForm:function(){var e;return e=i["a"].outcomes.build({pollId:this.poll.id,groupId:this.poll.groupId,statementFormat:s["a"].defaultFormat()}),c["a"].$emit("openModal",{component:"PollCommonOutcomeModal",props:{outcome:e}})}}},u=l,d=n("2877"),p=n("6544"),m=n.n(p),f=n("0798"),h=n("8336"),_=n("a722"),v=Object(d["a"])(u,o,r,!1,null,null,null);t["a"]=v.exports;m()(v,{VAlert:f["a"],VBtn:h["a"],VLayout:_["a"]})},"6cfa":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m}));var o=n("c707"),r=n.n(o),i=n("a59b"),a=n.n(i),s=n("7ae3"),c=n("cd6d"),l=(n("f4a7"),function(){return{agree:s["a"].pollColors.proposal[0],abstain:s["a"].pollColors.proposal[1],disagree:s["a"].pollColors.proposal[2],block:s["a"].pollColors.proposal[3],consent:s["a"].pollColors.proposal[0],tension:s["a"].pollColors.proposal[1],objection:s["a"].pollColors.proposal[2]}}),u=function(){return{agree:"agree",abstain:"abstain",disagree:"disagree",block:"block",consent:"agree",objection:"disagree",yes:"yes",no:"no"}},d=function(e,t){return(s["a"].pollTemplates[e]||{})[t]},p=function(e){return d(e.pollType,"material_icon")},m=function(e){return a()(r()(c["a"].stances.find({pollId:e.id,participantId:s["a"].currentUserId,revokedAt:null,latest:!0}),"createdAt"))}},"6d2b":function(e,t,n){"use strict";n("18d2")},"70ad":function(e,t,n){"use strict";n("02c8")},7328:function(e,t,n){"use strict";n("e36f")},"73ab":function(e,t,n){"use strict";n("f679")},7539:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-meeting-form-options"},[n("poll-meeting-add-option-menu",{attrs:{poll:e.poll},on:{close:function(t){e.menu=!1}}}),n("v-combobox",{staticClass:"poll-meeting-time-field__datepicker-container",attrs:{multiple:"",chips:"","small-chips":"","deletable-chips":"",readonly:"",label:e.$t("poll_meeting_form.timeslots")},on:{change:function(t){return e.persistOptions()}},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-chip",{attrs:{close:e.canRemove(t.item),color:e.colorFor(t.item)},on:{"click:close":function(n){return e.removeOptionName(t.item)}}},[n("poll-meeting-time",{attrs:{name:t.item}})],1)]}}]),model:{value:e.poll.pollOptionNames,callback:function(t){e.$set(e.poll,"pollOptionNames",t)},expression:"poll.pollOptionNames"}}),n("validation-errors",{attrs:{subject:e.poll,field:"pollOptions"}})],1)},r=[],i=n("4e20"),a={mixins:[i["a"]],props:{poll:Object,addOptionsOnly:{type:Boolean,default:!1}},data:function(){return{menu:!1}}},s=a,c=n("2877"),l=n("6544"),u=n.n(l),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-meeting-add-option-menu"},[n("v-subheader",{directives:[{name:"t",rawName:"v-t",value:"poll_meeting_form.add_option_placeholder",expression:"'poll_meeting_form.add_option_placeholder'"}]}),n("date-time-picker",{attrs:{min:e.min},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("v-simple-table",{staticStyle:{"max-height":"100px","overflow-y":"scroll"},attrs:{dense:""}},[n("tbody",e._l(e.zoneCounts,(function(t){return n("tr",{key:t[0]},[n("td",[e._v(e._s(t[0].replace("_"," ")))]),n("td",[e._v(e._s(e.timeInZone(t[0])))])])})),0)]),n("div",{staticClass:"d-flex justify-end"},[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"poll_meeting_time_field.add_time_slot",expression:"'poll_meeting_time_field.add_time_slot'"}],staticClass:"poll-meeting-form__option-button",attrs:{color:"accent"},on:{click:function(t){return e.addOption()}}})],1)],1)},p=[],m=n("cd6d"),f=n("66ef"),h=n("4116"),_=n("0b1b"),v={props:{poll:Object},created:function(){var e=this;return m["a"].users.fetchTimeZones().then((function(t){return e.zoneCounts=t}))},data:function(){return{value:Object(_["a"])(new Date),min:new Date,zoneCounts:[]}},methods:{addOption:function(){return this.poll.addOption(this.value.toJSON())?f["a"].success("poll_meeting_form.time_slot_added"):f["a"].error("poll_meeting_form.time_slot_already_added")},timeInZone:function(e){return Object(h["b"])(this.value,e)}}},b=v,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"date-time-picker"},[n("v-menu",{ref:"dateTimePicker",attrs:{"offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({staticClass:"date-time-picker__date-field",attrs:{placeholder:"2000-12-31",rules:[e.validDate],"prepend-icon":"mdi-calendar"},model:{value:e.dateStr,callback:function(t){e.dateStr=t},expression:"dateStr"}},"v-text-field",r,!1),o))]}}]),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[n("v-date-picker",{staticClass:"date-time-picker__date-picker",attrs:{"no-title":"",min:e.minStr},on:{input:function(t){e.dateMenu=!1}},model:{value:e.dateStr,callback:function(t){e.dateStr=t},expression:"dateStr"}})],1),n("v-spacer"),n("v-combobox",{staticClass:"date-time-picker__time-field",attrs:{items:e.times,"prepend-icon":"mdi-clock-outline"},model:{value:e.timeStr,callback:function(t){e.timeStr=t},expression:"timeStr"}})],1)},y=[],k=n("b166"),w=n("49ef"),x=n("2cf3"),C={props:{value:Date,min:Date,dateLabel:Object,timeLabel:Object},created:function(){return this.newValue=this.value,this.dateStr=Object(k["a"])(this.value,"yyyy-MM-dd"),this.timeStr=Object(k["a"])(this.value,"HH:mm"),this.minStr=Object(k["a"])(this.min,"yyyy-MM-dd")},data:function(){return{dateStr:null,timeStr:null,dateMenu:!1,times:h["c"],validDate:function(e){return Object(w["a"])(Object(x["a"])(e,"yyyy-MM-dd",new Date))}}},methods:{updateNewValue:function(){if(Object(w["a"])(Object(x["a"])("".concat(this.dateStr," ").concat(this.timeStr),"yyyy-MM-dd HH:mm",new Date)))return this.newValue=Object(x["a"])("".concat(this.dateStr," ").concat(this.timeStr),"yyyy-MM-dd HH:mm",new Date),this.$emit("input",this.newValue)}},watch:{dateStr:function(){return this.updateNewValue()},timeStr:function(){return this.updateNewValue()}}},O=C,j=n("2b5d"),S=n("2e4b"),I=n("a722"),P=n("e449"),T=n("2fa4"),A=n("8654"),R=Object(c["a"])(O,g,y,!1,null,null,null),V=R.exports;u()(R,{VCombobox:j["a"],VDatePicker:S["a"],VLayout:I["a"],VMenu:P["a"],VSpacer:T["a"],VTextField:A["a"]});var $=n("8336"),N=n("1f4f"),E=n("e0c7"),M=Object(c["a"])(b,d,p,!1,null,null,null),D=M.exports;u()(M,{DateTimePicker:V,VBtn:$["a"],VSimpleTable:N["a"],VSubheader:E["a"]});var L=n("f829"),F=n("cc20"),q=n("f275"),U=Object(c["a"])(s,o,r,!1,null,null,null);t["a"]=U.exports;u()(U,{PollMeetingAddOptionMenu:D,PollMeetingTime:L["a"],VChip:F["a"],VCombobox:j["a"],ValidationErrors:q["a"]})},"774c":function(e,t,n){},"78ab":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.model.groupId?n("v-autocomplete",{staticClass:"tags-field__input",attrs:{multiple:"","hide-selected":"","item-text":"name","item-value":"id",label:e.$t("loomio_tags.tags"),items:e.items,"append-outer-icon":e.model.isA("discussion")?"mdi-tag-plus":null},on:{"click:append-outer":e.openTagsSelectModal},scopedSlots:e._u([{key:"no-data",fn:function(){return[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[0==e.items.length?n("span",{directives:[{name:"t",rawName:"v-t",value:"loomio_tags.no_tags_in_group",expression:"'loomio_tags.no_tags_in_group'"}]}):e._e(),e.items.length?n("span",{directives:[{name:"t",rawName:"v-t",value:"common.no_results_found",expression:"'common.no_results_found'"}]}):e._e()])],1)],1)]},proxy:!0},{key:"selection",fn:function(t){return[n("v-chip",{staticClass:"chip--select-multi",attrs:{value:t.item.id,close:"",outlined:"",color:t.item.color},on:{"click:close":function(n){return e.remove(t.item.id)}}},[n("span",[e._v(e._s(t.item.name))])])]}},{key:"item",fn:function(t){return[n("v-chip",{staticClass:"chip--select-multi",attrs:{outlined:"",color:t.item.color}},[n("span",[e._v(e._s(t.item.name))])])]}}],null,!1,961331051),model:{value:e.model.tagIds,callback:function(t){e.$set(e.model,"tagIds",t)},expression:"model.tagIds"}}):e._e()},r=[],i=n("6062"),a=n("65c3"),s={props:{model:Object},methods:{remove:function(e){return this.model.tagIds.splice(this.model.tagIds.indexOf(e),1)},openTagsSelectModal:function(){return a["a"].$emit("openModal",{component:"TagsSelect",props:{model:this.model.clone()}})}},computed:{items:function(){return this.model.group().parentOrSelf().tags()},actor:function(){return i["a"].user()}}},c=s,l=n("2877"),u=n("6544"),d=n.n(u),p=n("c6a6"),m=n("cc20"),f=n("da13"),h=n("5d23"),_=Object(l["a"])(c,o,r,!1,null,null,null);t["a"]=_.exports;d()(_,{VAutocomplete:p["a"],VChip:m["a"],VListItem:f["a"],VListItemContent:h["a"],VListItemTitle:h["c"]})},"793c":function(e,t,n){"use strict";n("e00b")},"7ae3":function(e,t,n){"use strict";var o=n("2b0e");window.Loomio=o["a"].prototype.$loomio=o["a"].observable({}),t["a"]=window.Loomio},"7b57":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return w}));var o=n("b8ce"),r=n.n(o),i=n("0e54"),a=n.n(i),s=n("5300"),c={"":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"u","":"y","":"th","":"y"},l={"":"(c)"},u={"":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"a","":"e","":"i","":"o","":"y","":"h","":"w","":"s","":"i","":"y","":"y","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"A","":"E","":"I","":"O","":"Y","":"H","":"W","":"I","":"Y"},d={"":"s","":"S","":"i","":"I","":"c","":"C","":"u","":"U","":"o","":"O","":"g","":"G"},p={"":"a","":"b","":"v","":"g","":"d","":"e","":"yo","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"","":"y","":"","":"e","":"yu","":"ya","":"A","":"B","":"V","":"G","":"D","":"E","":"Yo","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"","":"Y","":"","":"E","":"Yu","":"Ya"},m={"":"Ye","":"I","":"Yi","":"G","":"ye","":"i","":"yi","":"g"},f={"":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z"},h={"":"a","":"c","":"e","":"l","":"n","":"o","":"s","":"z","":"z","":"A","":"C","":"e","":"L","":"N","":"o","":"S","":"Z","":"Z"},_={"":"a","":"c","":"e","":"g","":"i","":"k","":"l","":"n","":"s","":"u","":"z","":"A","":"C","":"E","":"G","":"i","":"k","":"L","":"N","":"S","":"u","":"Z"},v=new Array;v[0]=c,v[1]=l,v[2]=u,v[3]=d,v[4]=p,v[5]=m,v[6]=f,v[7]=h,v[8]=_;var b=new Object;b.Initialize=function(){if(!b.map){for(var e in b.map={},b.chars="",v){var t=v[e];for(var n in t)b.map[n]=t[n],b.chars+=n}b.regex=new RegExp("["+b.chars+"]|[^"+b.chars+"]+","g")}};var g=function(e){b.Initialize();var t="",n=e.match(b.regex);if(n)for(var o=0;o<n.length;o++){if(1==n[o].length){var r=b.map[n[o]];if(null!=r){t+=r;continue}}t+=n[o]}else t=e;return t},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return e=g(e),e=e.replace(/[^-\w\s]/g,""),e=e.replace(/^\s+|\s+$/g,""),e=e.replace(/[-\s]+/g,"-"),e.toLowerCase().substring(0,t)},k=function(e){var t,n;return t=new a.a.Renderer(e),n=r()(t),n.paragraph=function(e){return t.paragraph(Object(s["b"])(e))},n.listitem=function(e){return t.listitem(Object(s["b"])(e))},n.tablecell=function(e,n){return t.tablecell(Object(s["b"])(e),n)},n.heading=function(e,n){return t.heading(Object(s["b"])(e),n,e,{slug:y})},n.link=function(e,n,o){return t.link(e,n,o).replace("<a ",'<a rel="ugc noreferrer" target="_blank" ')},n},w={gfm:!0,breaks:!0,smartypants:!1,tables:!0}},"7dc1":function(e,t,n){},"80ab":function(e,t,n){"use strict";n("b6c4")},"81a6":function(e,t,n){"use strict";n("e40c")},8498:function(e,t,n){},"84a6":function(e,t,n){},"850e":function(e,t,n){},8668:function(e,t,n){var o={"./_lib/buildFormatLongFn/index.js":["1f21","chunk-2d0b6c4a"],"./_lib/buildLocalizeFn/index.js":["af03","chunk-2d213dde"],"./_lib/buildMatchFn/index.js":["b028","chunk-2d20e7ca"],"./_lib/buildMatchPatternFn/index.js":["9686","chunk-2d0e5bd1"],"./af/_lib/formatDistance/index.js":["73c8","chunk-2d0d6d07"],"./af/_lib/formatLong/index.js":["d78c","chunk-10e7b593"],"./af/_lib/formatRelative/index.js":["30ee","chunk-2d0b90b3"],"./af/_lib/localize/index.js":["6701","chunk-7744d643"],"./af/_lib/match/index.js":["f301","chunk-b26a4006"],"./af/index.js":["22a0","chunk-40c99397"],"./ar-DZ/_lib/formatDistance/index.js":["43fb","chunk-2d0c1071"],"./ar-DZ/_lib/formatLong/index.js":["3579","chunk-10d16799"],"./ar-DZ/_lib/formatRelative/index.js":["5d9e","chunk-2d0d3751"],"./ar-DZ/_lib/localize/index.js":["89d0","chunk-7745ccce"],"./ar-DZ/_lib/match/index.js":["bdee","chunk-b26c65de"],"./ar-DZ/index.js":["2550","chunk-7b4c623b"],"./ar-MA/_lib/formatDistance/index.js":["f906","chunk-2d22dacf"],"./ar-MA/_lib/formatLong/index.js":["2157","chunk-10d0e3f6"],"./ar-MA/_lib/formatRelative/index.js":["b897","chunk-2d2106aa"],"./ar-MA/_lib/localize/index.js":["25f0","chunk-774303ce"],"./ar-MA/_lib/match/index.js":["6db9","chunk-b2946798"],"./ar-MA/index.js":["fbb9","chunk-0e9f771a"],"./ar-SA/_lib/formatDistance/index.js":["b0ab","chunk-2d20eda5"],"./ar-SA/_lib/formatLong/index.js":["a30b","chunk-10e64879"],"./ar-SA/_lib/formatRelative/index.js":["c7c6","chunk-2d217c5d"],"./ar-SA/_lib/localize/index.js":["4dc9","chunk-77449ca7"],"./ar-SA/_lib/match/index.js":["5547","chunk-b296bc5c"],"./ar-SA/index.js":["c4c8","chunk-6675125b"],"./az/_lib/formatDistance/index.js":["85c4","chunk-2d0de8e4"],"./az/_lib/formatLong/index.js":["fac3","chunk-10e94100"],"./az/_lib/formatRelative/index.js":["7f38","chunk-2d0e26aa"],"./az/_lib/localize/index.js":["1c36","chunk-774335f6"],"./az/_lib/match/index.js":["a056","chunk-b26ee102"],"./az/index.js":["8c47","chunk-72b064e0"],"./be/_lib/formatDistance/index.js":["c4e9","chunk-2d21715b"],"./be/_lib/formatLong/index.js":["2b7b","chunk-10d19c50"],"./be/_lib/formatRelative/index.js":["de6f","chunk-7b043aeb"],"./be/_lib/localize/index.js":["67ab","chunk-7744dc63"],"./be/_lib/match/index.js":["5787","chunk-b296ac60"],"./be/index.js":["6048","chunk-29bb0452"],"./bg/_lib/formatDistance/index.js":["d48a","chunk-2d21e06f"],"./bg/_lib/formatLong/index.js":["c4bb","chunk-10e73b06"],"./bg/_lib/formatRelative/index.js":["a75f","chunk-424abad6"],"./bg/_lib/localize/index.js":["e681","chunk-775a30eb"],"./bg/_lib/match/index.js":["4849","chunk-b2978e90"],"./bg/index.js":["8acc","chunk-3629f13b"],"./bn/_lib/formatDistance/index.js":["c7e4","chunk-20df1f3a"],"./bn/_lib/formatLong/index.js":["2ba6","chunk-10d1a13a"],"./bn/_lib/formatRelative/index.js":["ab29","chunk-2d212f1e"],"./bn/_lib/localize/index.js":["cacd","chunk-7759ef00"],"./bn/_lib/match/index.js":["90c4","chunk-b2933392"],"./bn/index.js":["f9be","chunk-26c24dea"],"./ca/_lib/formatDistance/index.js":["95f8","chunk-2d0e5da4"],"./ca/_lib/formatLong/index.js":["2f70","chunk-10d1ab22"],"./ca/_lib/formatRelative/index.js":["3308","chunk-2d0b955e"],"./ca/_lib/localize/index.js":["bf0a","chunk-77598736"],"./ca/_lib/match/index.js":["b471","chunk-b26dd9ca"],"./ca/index.js":["5706","chunk-fa428728"],"./cs/_lib/formatDistance/index.js":["cdd4","chunk-2d222567"],"./cs/_lib/formatLong/index.js":["6152","chunk-10d2b56d"],"./cs/_lib/formatRelative/index.js":["ada3","chunk-2d213c4b"],"./cs/_lib/localize/index.js":["a3cb","chunk-77585992"],"./cs/_lib/match/index.js":["5e7f","chunk-b29552e4"],"./cs/index.js":["76f8","chunk-27438599"],"./cy/_lib/formatDistance/index.js":["f013","chunk-2d22b922"],"./cy/_lib/formatLong/index.js":["7619","chunk-10d33c1c"],"./cy/_lib/formatRelative/index.js":["2e3f","chunk-2d0bdd3c"],"./cy/_lib/localize/index.js":["5fd8","chunk-774518a6"],"./cy/_lib/match/index.js":["67cd","chunk-b295b8de"],"./cy/index.js":["1d05","chunk-92813d98"],"./da/_lib/formatDistance/index.js":["e954","chunk-2d226709"],"./da/_lib/formatLong/index.js":["bc2f","chunk-10e7714a"],"./da/_lib/formatRelative/index.js":["f9eb","chunk-2d22e166"],"./da/_lib/localize/index.js":["971e","chunk-774633b3"],"./da/_lib/match/index.js":["2c660","chunk-2fca4290"],"./da/index.js":["eeea","chunk-353d1b53"],"./de-AT/_lib/localize/index.js":["c64b","chunk-775947e2"],"./de-AT/index.js":["758b","chunk-1f4843ef"],"./de/_lib/formatDistance/index.js":["8656","chunk-2d0de715"],"./de/_lib/formatLong/index.js":["627b","chunk-10d2b99c"],"./de/_lib/formatRelative/index.js":["0c2d","chunk-2d0aecdb"],"./de/_lib/localize/index.js":["f5ad","chunk-775aa6b3"],"./de/_lib/match/index.js":["2113","chunk-b2999560"],"./de/index.js":["6e0c","chunk-545befda"],"./el/_lib/formatDistance/index.js":["450d","chunk-2d0c116b"],"./el/_lib/formatLong/index.js":["61c5","chunk-10d2bb02"],"./el/_lib/formatRelative/index.js":["3cad","chunk-2d0c4fa9"],"./el/_lib/localize/index.js":["d43b","chunk-7759b4a0"],"./el/_lib/match/index.js":["fee7","chunk-b268bbc0"],"./el/index.js":["747d","chunk-ebbf6f7e"],"./en-AU/_lib/formatLong/index.js":["9c47","chunk-10d4ce22"],"./en-AU/index.js":["5477","chunk-3f8256fa"],"./en-CA/_lib/formatDistance/index.js":["23c2","chunk-2d0b2726"],"./en-CA/_lib/formatLong/index.js":["7b87","chunk-10d3e21f"],"./en-CA/index.js":["c178","chunk-51984c34"],"./en-GB/_lib/formatLong/index.js":["aad0","chunk-10e6fb41"],"./en-GB/index.js":["9f02","chunk-05af1f0b"],"./en-IN/_lib/formatLong/index.js":["7141","chunk-10d329ac"],"./en-IN/index.js":["1516","chunk-0131998c"],"./en-NZ/_lib/formatLong/index.js":["f41d","chunk-10e89236"],"./en-NZ/index.js":["4733","chunk-ecf3e46c"],"./en-US/_lib/formatDistance/index.js":["ab11","chunk-2d212ef7"],"./en-US/_lib/formatLong/index.js":["b335","chunk-10e6bd08"],"./en-US/_lib/formatRelative/index.js":["f1f6","chunk-2d22c351"],"./en-US/_lib/localize/index.js":["4a2a","chunk-77448b9d"],"./en-US/_lib/match/index.js":["b7a2","chunk-b26db916"],"./en-US/index.js":["2288","chunk-674387b1"],"./en-ZA/_lib/formatLong/index.js":["b761","chunk-10e6cc65"],"./en-ZA/index.js":["0711","chunk-70d03f3f"],"./eo/_lib/formatDistance/index.js":["6ffd","chunk-2d0db8a4"],"./eo/_lib/formatLong/index.js":["ecc4","chunk-10e8d424"],"./eo/_lib/formatRelative/index.js":["79b1","chunk-2d0d8367"],"./eo/_lib/localize/index.js":["5d0b","chunk-77450b02"],"./eo/_lib/match/index.js":["e54c","chunk-b26b1864"],"./eo/index.js":["501ee","chunk-7c9922c0"],"./es/_lib/formatDistance/index.js":["18d4","chunk-2d0ac5ad"],"./es/_lib/formatLong/index.js":["260f","chunk-10d0f64f"],"./es/_lib/formatRelative/index.js":["0962","chunk-2d0a4f7b"],"./es/_lib/localize/index.js":["b1e0","chunk-7758c67b"],"./es/_lib/match/index.js":["579a","chunk-b296abce"],"./es/index.js":["fd2d","chunk-095f0fc2"],"./et/_lib/formatDistance/index.js":["d8dc","chunk-2d21f4c9"],"./et/_lib/formatLong/index.js":["f8d4","chunk-10e8a737"],"./et/_lib/formatRelative/index.js":["65b1","chunk-2d0d0004"],"./et/_lib/localize/index.js":["5d4a","chunk-77450b7d"],"./et/_lib/match/index.js":["1cf3","chunk-b298f9e4"],"./et/index.js":["06bd","chunk-56eac12a"],"./eu/_lib/formatDistance/index.js":["d669","chunk-2d21e78b"],"./eu/_lib/formatLong/index.js":["8cd9","chunk-10d45f95"],"./eu/_lib/formatRelative/index.js":["aadf","chunk-2d213198"],"./eu/_lib/localize/index.js":["705e","chunk-7745312a"],"./eu/_lib/match/index.js":["dd33","chunk-b26aa0e2"],"./eu/index.js":["d751","chunk-0571ace5"],"./fa-IR/_lib/formatDistance/index.js":["2b9f","chunk-2d0bd2b3"],"./fa-IR/_lib/formatLong/index.js":["8a09","chunk-10d451c7"],"./fa-IR/_lib/formatRelative/index.js":["a2f6","chunk-2d208137"],"./fa-IR/_lib/localize/index.js":["1b99","chunk-774332f2"],"./fa-IR/_lib/match/index.js":["134e","chunk-b29a6dfc"],"./fa-IR/index.js":["8041","chunk-c256742a"],"./fi/_lib/formatDistance/index.js":["a91b","chunk-2d20953f"],"./fi/_lib/formatLong/index.js":["1df8","chunk-10d134fa"],"./fi/_lib/formatRelative/index.js":["03df","chunk-2d0a3ebb"],"./fi/_lib/localize/index.js":["9e86","chunk-7746e10b"],"./fi/_lib/match/index.js":["8fd4","chunk-b29286a6"],"./fi/index.js":["9dd5","chunk-c8cae3fa"],"./fr-CA/_lib/formatLong/index.js":["74f3","chunk-10d33aff"],"./fr-CA/index.js":["2938","chunk-1b9603fa"],"./fr-CH/_lib/formatDistance/index.js":["470b","chunk-2d0c18eb"],"./fr-CH/_lib/formatLong/index.js":["e9e2","chunk-10e836b6"],"./fr-CH/_lib/formatRelative/index.js":["7685","chunk-2d0d7312"],"./fr-CH/_lib/formatters/index.js":["1d79","chunk-2d0b656b"],"./fr-CH/_lib/localize/index.js":["cbf5","chunk-7759f2ef"],"./fr-CH/_lib/match/index.js":["1551","chunk-b29a5f22"],"./fr-CH/index.js":["c993","chunk-6d552db2"],"./fr/_lib/formatDistance/index.js":["f730","chunk-2d22d3a4"],"./fr/_lib/formatLong/index.js":["aea1","chunk-10e709e9"],"./fr/_lib/formatRelative/index.js":["bbdf","chunk-2d21a9b8"],"./fr/_lib/formatters/index.js":["be2c","chunk-2d21aeea"],"./fr/_lib/localize/index.js":["5d00","chunk-77450ad0"],"./fr/_lib/match/index.js":["c035","chunk-b26d1004"],"./fr/index.js":["2ca0","chunk-21347228"],"./gd/_lib/formatDistance/index.js":["e25d","chunk-2d224cf2"],"./gd/_lib/formatLong/index.js":["92c7","chunk-10d41be2"],"./gd/_lib/formatRelative/index.js":["64d6","chunk-2d0cfc86"],"./gd/_lib/localize/index.js":["21c3","chunk-7742f470"],"./gd/_lib/match/index.js":["69a8","chunk-b295aaae"],"./gd/index.js":["321e","chunk-ea05cfa6"],"./gl/_lib/formatDistance/index.js":["108c","chunk-2d0aa280"],"./gl/_lib/formatLong/index.js":["e81d","chunk-10e82cdb"],"./gl/_lib/formatRelative/index.js":["7373","chunk-2d0d67ae"],"./gl/_lib/localize/index.js":["ef67","chunk-775ae4e3"],"./gl/_lib/match/index.js":["a150","chunk-b26ed98c"],"./gl/index.js":["e1b8","chunk-00ef7c01"],"./gu/_lib/formatDistance/index.js":["1962","chunk-2d0ac3da"],"./gu/_lib/formatLong/index.js":["be41","chunk-10e778d5"],"./gu/_lib/formatRelative/index.js":["f1d9","chunk-2d22c316"],"./gu/_lib/localize/index.js":["fb52","chunk-775b4a1a"],"./gu/_lib/match/index.js":["7c73","chunk-b29390d2"],"./gu/index.js":["dede","chunk-20990ff3"],"./he/_lib/formatDistance/index.js":["a6bf","chunk-2d208fef"],"./he/_lib/formatLong/index.js":["7028","chunk-10d325b4"],"./he/_lib/formatRelative/index.js":["1ee6","chunk-2d0b6ebb"],"./he/_lib/localize/index.js":["c0a4","chunk-775936a1"],"./he/_lib/match/index.js":["2b5f","chunk-b2982420"],"./he/index.js":["ef93","chunk-6f75e342"],"./hi/_lib/formatDistance/index.js":["3057","chunk-d254dca8"],"./hi/_lib/formatLong/index.js":["f696","chunk-10e89a82"],"./hi/_lib/formatRelative/index.js":["5936","chunk-2d0c94fd"],"./hi/_lib/localize/index.js":["cee0","chunk-7759fe0e"],"./hi/_lib/match/index.js":["1016","chunk-d3a8b840"],"./hi/index.js":["0947","chunk-90aadb80"],"./hr/_lib/formatDistance/index.js":["1ce9","chunk-2d0b673c"],"./hr/_lib/formatLong/index.js":["79f9","chunk-10d34dca"],"./hr/_lib/formatRelative/index.js":["a2d5","chunk-2d2080f8"],"./hr/_lib/localize/index.js":["92a8","chunk-77462691"],"./hr/_lib/match/index.js":["21ac","chunk-b2998960"],"./hr/index.js":["2fd2","chunk-39688dc2"],"./ht/_lib/formatDistance/index.js":["ad13","chunk-2d21367b"],"./ht/_lib/formatLong/index.js":["59f7","chunk-10d2650a"],"./ht/_lib/formatRelative/index.js":["8a79","chunk-2d0e88c1"],"./ht/_lib/formatters/index.js":["19b4","chunk-2d0ac930"],"./ht/_lib/localize/index.js":["c6c4","chunk-77594d65"],"./ht/_lib/match/index.js":["f9c0","chunk-b26a06a2"],"./ht/index.js":["2440","chunk-c962f3ea"],"./hu/_lib/formatDistance/index.js":["65a7","chunk-2d0cffeb"],"./hu/_lib/formatLong/index.js":["35f7","chunk-10d16d48"],"./hu/_lib/formatRelative/index.js":["e745","chunk-2d225f69"],"./hu/_lib/localize/index.js":["c707a","chunk-73d014e5"],"./hu/_lib/match/index.js":["1a1e","chunk-b299155a"],"./hu/index.js":["366f","chunk-595db8c6"],"./hy/_lib/formatDistance/index.js":["5279","chunk-2d0c7b35"],"./hy/_lib/formatLong/index.js":["97f7","chunk-10d42f04"],"./hy/_lib/formatRelative/index.js":["7403","chunk-2d0d6a96"],"./hy/_lib/localize/index.js":["068f","chunk-77421975"],"./hy/_lib/match/index.js":["bd82","chunk-b26c712a"],"./hy/index.js":["9deb","chunk-6b2934d4"],"./id/_lib/formatDistance/index.js":["592c","chunk-2d0c950b"],"./id/_lib/formatLong/index.js":["a5b6","chunk-10e655dd"],"./id/_lib/formatRelative/index.js":["cbd4","chunk-2d221de5"],"./id/_lib/localize/index.js":["9f9c","chunk-7746e518"],"./id/_lib/match/index.js":["6dfe","chunk-b2946648"],"./id/index.js":["03a0","chunk-13af2204"],"./is/_lib/formatDistance/index.js":["87b4","chunk-2d0df047"],"./is/_lib/formatLong/index.js":["c882","chunk-10e744c4"],"./is/_lib/formatRelative/index.js":["0977","chunk-2d0a4f9f"],"./is/_lib/localize/index.js":["6023","chunk-7744bc3c"],"./is/_lib/match/index.js":["d104","chunk-b26c2080"],"./is/index.js":["3786","chunk-0b61a7a5"],"./it/_lib/formatDistance/index.js":["e18d","chunk-2d22498e"],"./it/_lib/formatLong/index.js":["ed62","chunk-10e8d270"],"./it/_lib/formatRelative/index.js":["55a4","chunk-559514c9"],"./it/_lib/localize/index.js":["914b","chunk-77461d87"],"./it/_lib/match/index.js":["b65b","chunk-b26dcae0"],"./it/index.js":["8666","chunk-e971bdba"],"./ja/_lib/formatDistance/index.js":["9095","chunk-2d0e4569"],"./ja/_lib/formatLong/index.js":["8e69","chunk-10d46185"],"./ja/_lib/formatRelative/index.js":["c402","chunk-2d216ae9"],"./ja/_lib/localize/index.js":["9d87","chunk-7746dd4b"],"./ja/_lib/match/index.js":["c857","chunk-b26cd374"],"./ja/index.js":["b805","chunk-36d7e388"],"./ka/_lib/formatDistance/index.js":["5f54","chunk-2d0d3e26"],"./ka/_lib/formatLong/index.js":["2ee6","chunk-10d1acf9"],"./ka/_lib/formatRelative/index.js":["374b","chunk-2d0ba508"],"./ka/_lib/localize/index.js":["11cd","chunk-77428042"],"./ka/_lib/match/index.js":["f1c4","chunk-b26a42aa"],"./ka/index.js":["a702","chunk-5ab23263"],"./kk/_lib/formatDistance/index.js":["c0ca","chunk-2d216241"],"./kk/_lib/formatLong/index.js":["b88e","chunk-10e6d098"],"./kk/_lib/formatRelative/index.js":["a61b","chunk-c6e5b394"],"./kk/_lib/localize/index.js":["dc9f","chunk-775a65cd"],"./kk/_lib/match/index.js":["ee72","chunk-b269afac"],"./kk/index.js":["cc63","chunk-e5580a14"],"./kn/_lib/formatDistance/index.js":["b55b","chunk-2d20fb16"],"./kn/_lib/formatLong/index.js":["448f","chunk-10d1d883"],"./kn/_lib/formatRelative/index.js":["0936","chunk-2d0a4f22"],"./kn/_lib/localize/index.js":["8476","chunk-7745b49c"],"./kn/_lib/match/index.js":["3e0a","chunk-b297261c"],"./kn/index.js":["d279","chunk-ce39bc64"],"./ko/_lib/formatDistance/index.js":["b109","chunk-2d20eb4e"],"./ko/_lib/formatLong/index.js":["9155","chunk-10d4128d"],"./ko/_lib/formatRelative/index.js":["32c2","chunk-2d0b97c4"],"./ko/_lib/localize/index.js":["d97e","chunk-7759c7e4"],"./ko/_lib/match/index.js":["0ffc","chunk-b299cbbc"],"./ko/index.js":["896f","chunk-73e1d652"],"./lb/_lib/formatDistance/index.js":["8519","chunk-2d0de2db"],"./lb/_lib/formatLong/index.js":["b566","chunk-10e6c4e8"],"./lb/_lib/formatRelative/index.js":["264c","chunk-2d0b2ce9"],"./lb/_lib/localize/index.js":["d468","chunk-7759b4d3"],"./lb/_lib/match/index.js":["268b","chunk-b2996dc6"],"./lb/index.js":["7315","chunk-04ced163"],"./lt/_lib/formatDistance/index.js":["5b84","chunk-2d0d2f7f"],"./lt/_lib/formatLong/index.js":["e74d","chunk-10e82977"],"./lt/_lib/formatRelative/index.js":["2506","chunk-2d0b287f"],"./lt/_lib/localize/index.js":["694f","chunk-7744de76"],"./lt/_lib/match/index.js":["8ce0","chunk-b2929cf6"],"./lt/index.js":["c63f","chunk-23365f0e"],"./lv/_lib/formatDistance/index.js":["9b48","chunk-2d0f0083"],"./lv/_lib/formatLong/index.js":["45b1","chunk-10d1e125"],"./lv/_lib/formatRelative/index.js":["0421","chunk-4cfa5219"],"./lv/_lib/localize/index.js":["9cfc","chunk-7746df48"],"./lv/_lib/match/index.js":["2801","chunk-b2996114"],"./lv/index.js":["c79a","chunk-2e1404fa"],"./mk/_lib/formatDistance/index.js":["e0ac","chunk-2d224ac3"],"./mk/_lib/formatLong/index.js":["8999","chunk-10d3bcb6"],"./mk/_lib/formatRelative/index.js":["dfe2","chunk-406e486d"],"./mk/_lib/localize/index.js":["6db3","chunk-77458540"],"./mk/_lib/match/index.js":["f8a6","chunk-b26a0e94"],"./mk/index.js":["1b30","chunk-5c15558b"],"./mn/_lib/formatDistance/index.js":["5223","chunk-2d0c7a94"],"./mn/_lib/formatLong/index.js":["c1d1","chunk-10e72fd0"],"./mn/_lib/formatRelative/index.js":["0f63","chunk-2d0af869"],"./mn/_lib/localize/index.js":["d69b","chunk-7759bcdc"],"./mn/_lib/match/index.js":["9574","chunk-b29318b0"],"./mn/index.js":["5ecc","chunk-81b89500"],"./ms/_lib/formatDistance/index.js":["dbad","chunk-2d229217"],"./ms/_lib/formatLong/index.js":["3279","chunk-10d15c56"],"./ms/_lib/formatRelative/index.js":["51d0","chunk-2d0c7cde"],"./ms/_lib/localize/index.js":["927d","chunk-774621a7"],"./ms/_lib/match/index.js":["b13c","chunk-b26df0e4"],"./ms/index.js":["8145","chunk-5dbdbabd"],"./mt/_lib/formatDistance/index.js":["3434","chunk-2d0b9978"],"./mt/_lib/formatLong/index.js":["c995b","chunk-0c01cc9b"],"./mt/_lib/formatRelative/index.js":["b8bf","chunk-2d210bd0"],"./mt/_lib/localize/index.js":["aa24","chunk-77590023"],"./mt/_lib/match/index.js":["b5cd","chunk-b26dc73a"],"./mt/index.js":["eb3c","chunk-61b31ccf"],"./nb/_lib/formatDistance/index.js":["d4e5","chunk-2d21e5b6"],"./nb/_lib/formatLong/index.js":["4582","chunk-10d1dc10"],"./nb/_lib/formatRelative/index.js":["9a6f","chunk-2d0efd2e"],"./nb/_lib/localize/index.js":["9ccb","chunk-7746deea"],"./nb/_lib/match/index.js":["bd06","chunk-b26c7312"],"./nb/index.js":["ef7b","chunk-6e0448d4"],"./nl-BE/_lib/formatDistance/index.js":["e96f","chunk-2d22675a"],"./nl-BE/_lib/formatLong/index.js":["b78c","chunk-10e6ccd5"],"./nl-BE/_lib/formatRelative/index.js":["8023","chunk-2d0dd02f"],"./nl-BE/_lib/localize/index.js":["7a7f","chunk-7745e95a"],"./nl-BE/_lib/match/index.js":["67c1","chunk-b295b944"],"./nl-BE/index.js":["9549","chunk-2e13601c"],"./nl/_lib/formatDistance/index.js":["0f5e","chunk-2d0af87c"],"./nl/_lib/formatLong/index.js":["4df9","chunk-10d29218"],"./nl/_lib/formatRelative/index.js":["b0b0","chunk-2d20ed92"],"./nl/_lib/localize/index.js":["4d5f","chunk-77449742"],"./nl/_lib/match/index.js":["db46","chunk-b26aafa2"],"./nl/index.js":["8424","chunk-0b654864"],"./nn/_lib/formatDistance/index.js":["8a57","chunk-2d0e8881"],"./nn/_lib/formatLong/index.js":["3e74","chunk-10d21bc4"],"./nn/_lib/formatRelative/index.js":["622f","chunk-2d0cef26"],"./nn/_lib/localize/index.js":["56b1","chunk-77446431"],"./nn/_lib/match/index.js":["5430","chunk-b296c42a"],"./nn/index.js":["bce4","chunk-8d679888"],"./pl/_lib/formatDistance/index.js":["a573","chunk-2d2086c6"],"./pl/_lib/formatLong/index.js":["9931","chunk-10d43053"],"./pl/_lib/formatRelative/index.js":["2d16","chunk-7944cc76"],"./pl/_lib/localize/index.js":["a7c3","chunk-77586867"],"./pl/_lib/match/index.js":["bfca","chunk-b26c575e"],"./pl/index.js":["07ac","chunk-178f4c9c"],"./pt-BR/_lib/formatDistance/index.js":["7389","chunk-2d0d67d3"],"./pt-BR/_lib/formatLong/index.js":["f502","chunk-10e895a6"],"./pt-BR/_lib/formatRelative/index.js":["a1f4","chunk-2d207d74"],"./pt-BR/_lib/localize/index.js":["f7d6","chunk-775aae64"],"./pt-BR/_lib/match/index.js":["c56c","chunk-b26ce964"],"./pt-BR/index.js":["d9d6","chunk-85f70136"],"./pt/_lib/formatDistance/index.js":["9248","chunk-2d0e4c53"],"./pt/_lib/formatLong/index.js":["f5a3","chunk-10e89b96"],"./pt/_lib/formatRelative/index.js":["c7ea","chunk-2d217cc6"],"./pt/_lib/localize/index.js":["aae9","chunk-77590655"],"./pt/_lib/match/index.js":["ccc7","chunk-b26b857a"],"./pt/index.js":["81d9","chunk-8a1eea74"],"./ro/_lib/formatDistance/index.js":["2f25","chunk-2d0be0ad"],"./ro/_lib/formatLong/index.js":["e978","chunk-10e8312a"],"./ro/_lib/formatRelative/index.js":["688b","chunk-2d0d0662"],"./ro/_lib/localize/index.js":["4ef5","chunk-7744a0c1"],"./ro/_lib/match/index.js":["f8e6","chunk-b26a0d9c"],"./ro/index.js":["af6c","chunk-238287c5"],"./ru/_lib/formatDistance/index.js":["9ac7","chunk-2d0f0272"],"./ru/_lib/formatLong/index.js":["43ba","chunk-10d1d9d3"],"./ru/_lib/formatRelative/index.js":["8667","chunk-c693b6c6"],"./ru/_lib/localize/index.js":["aee7","chunk-77591557"],"./ru/_lib/match/index.js":["e995","chunk-b26af982"],"./ru/index.js":["9f3f","chunk-d79868a6"],"./sk/_lib/formatDistance/index.js":["c551","chunk-2d216f44"],"./sk/_lib/formatLong/index.js":["ca9a","chunk-10e7defb"],"./sk/_lib/formatRelative/index.js":["0c3f","chunk-22aeb994"],"./sk/_lib/localize/index.js":["e7c1","chunk-775a39e1"],"./sk/_lib/match/index.js":["2c21","chunk-b2981dc2"],"./sk/index.js":["5aa6","chunk-023768b3"],"./sl/_lib/formatDistance/index.js":["11ca","chunk-2d0aab74"],"./sl/_lib/formatLong/index.js":["e8dd","chunk-10e83308"],"./sl/_lib/formatRelative/index.js":["c01f","chunk-2d215c38"],"./sl/_lib/localize/index.js":["4ffa","chunk-7744a4ae"],"./sl/_lib/match/index.js":["b626","chunk-b26dcbf2"],"./sl/index.js":["2984","chunk-1d755acf"],"./sq/_lib/formatDistance/index.js":["743fc","chunk-749ff9fd"],"./sq/_lib/formatLong/index.js":["79da","chunk-10d34db4"],"./sq/_lib/formatRelative/index.js":["c918","chunk-2d217dd3"],"./sq/_lib/localize/index.js":["4ff2","chunk-7744a47f"],"./sq/_lib/match/index.js":["ce1a","chunk-b26b823e"],"./sq/index.js":["d580","chunk-38d07c84"],"./sr-Latn/_lib/formatDistance/index.js":["a218","chunk-2d207ace"],"./sr-Latn/_lib/formatLong/index.js":["f576","chunk-10e89683"],"./sr-Latn/_lib/formatRelative/index.js":["4871","chunk-2d0c1d54"],"./sr-Latn/_lib/localize/index.js":["955f","chunk-77462cae"],"./sr-Latn/_lib/match/index.js":["5caa","chunk-b29557c6"],"./sr-Latn/index.js":["3b64","chunk-7b0719c8"],"./sr/_lib/formatDistance/index.js":["edef","chunk-2d230e76"],"./sr/_lib/formatLong/index.js":["acbf","chunk-10e702bb"],"./sr/_lib/formatRelative/index.js":["83eb","chunk-2d0de1ce"],"./sr/_lib/localize/index.js":["8813","chunk-7745c2e3"],"./sr/_lib/match/index.js":["e9c2","chunk-b26aef5c"],"./sr/index.js":["ee65","chunk-ee63e360"],"./sv/_lib/formatDistance/index.js":["b818","chunk-2d2105b3"],"./sv/_lib/formatLong/index.js":["c4f0","chunk-10e73b50"],"./sv/_lib/formatRelative/index.js":["8367","chunk-2d0ddbf2"],"./sv/_lib/localize/index.js":["73c82","chunk-7162f8a0"],"./sv/_lib/match/index.js":["1593","chunk-b29a5e26"],"./sv/index.js":["8718","chunk-14aa7983"],"./ta/_lib/formatDistance/index.js":["dfe8","chunk-2d22a16b"],"./ta/_lib/formatLong/index.js":["ea85","chunk-10e8c76e"],"./ta/_lib/formatRelative/index.js":["163f","chunk-2d0ab86e"],"./ta/_lib/localize/index.js":["c2a4","chunk-77593e23"],"./ta/_lib/match/index.js":["6679","chunk-b295cb5e"],"./ta/index.js":["d6cb","chunk-2332ed01"],"./te/_lib/formatDistance/index.js":["146c","chunk-2d0ab146"],"./te/_lib/formatLong/index.js":["4f5d","chunk-10d293d6"],"./te/_lib/formatRelative/index.js":["b8f2","chunk-2d210c18"],"./te/_lib/localize/index.js":["bd84","chunk-7759807f"],"./te/_lib/match/index.js":["349d","chunk-b29893ca"],"./te/index.js":["486a","chunk-62076714"],"./th/_lib/formatDistance/index.js":["2d8d","chunk-2d0bda14"],"./th/_lib/formatLong/index.js":["f24a","chunk-10e88b0e"],"./th/_lib/formatRelative/index.js":["5067","chunk-2d0c7392"],"./th/_lib/localize/index.js":["9496","chunk-77462939"],"./th/_lib/match/index.js":["17ae","chunk-b29a450e"],"./th/index.js":["3e4f","chunk-3e994275"],"./tr/_lib/formatDistance/index.js":["f767","chunk-2d22d408"],"./tr/_lib/formatLong/index.js":["b7e9","chunk-10e6d21e"],"./tr/_lib/formatRelative/index.js":["7592","chunk-2d0d6f6d"],"./tr/_lib/localize/index.js":["9e46","chunk-7746e08f"],"./tr/_lib/match/index.js":["81c0","chunk-b29414d6"],"./tr/index.js":["dd95","chunk-0447d630"],"./ug/_lib/formatDistance/index.js":["41fa","chunk-2d0c08ee"],"./ug/_lib/formatLong/index.js":["64a5","chunk-10d2c607"],"./ug/_lib/formatRelative/index.js":["4ec6","chunk-2d0ccb9a"],"./ug/_lib/localize/index.js":["9a9f","chunk-7746d256"],"./ug/_lib/match/index.js":["5ca0a","chunk-2ff529f5"],"./ug/index.js":["c93d","chunk-7d48b7d2"],"./uk/_lib/formatDistance/index.js":["6ad3","chunk-2d0da570"],"./uk/_lib/formatLong/index.js":["1a15","chunk-10d12349"],"./uk/_lib/formatRelative/index.js":["8d01","chunk-00ec8522"],"./uk/_lib/localize/index.js":["f86c","chunk-775aacc0"],"./uk/_lib/match/index.js":["8904","chunk-b293e518"],"./uk/index.js":["2c21a","chunk-23ce78ac"],"./uz/_lib/formatDistance/index.js":["9e5f","chunk-2d0f0c13"],"./uz/_lib/formatLong/index.js":["4b4b","chunk-10d284b1"],"./uz/_lib/formatRelative/index.js":["cb87","chunk-2d221894"],"./uz/_lib/localize/index.js":["1c75","chunk-77433671"],"./uz/_lib/match/index.js":["0543","chunk-b29b481a"],"./uz/index.js":["0972","chunk-7164a115"],"./vi/_lib/formatDistance/index.js":["c7a1","chunk-2d217c1a"],"./vi/_lib/formatLong/index.js":["9b49","chunk-10d4ca63"],"./vi/_lib/formatRelative/index.js":["feab","chunk-2d238616"],"./vi/_lib/localize/index.js":["2381","chunk-7742f6bb"],"./vi/_lib/match/index.js":["3ad1","chunk-b29737ec"],"./vi/index.js":["7464","chunk-348483a8"],"./zh-CN/_lib/formatDistance/index.js":["786c","chunk-2d0d7a84"],"./zh-CN/_lib/formatLong/index.js":["169a","chunk-10d08302"],"./zh-CN/_lib/formatRelative/index.js":["bce0","chunk-464f9ae0"],"./zh-CN/_lib/localize/index.js":["bcfb","chunk-7759827e"],"./zh-CN/_lib/match/index.js":["78a9","chunk-b294c970"],"./zh-CN/index.js":["509a","chunk-147bd488"],"./zh-TW/_lib/formatDistance/index.js":["c9e0","chunk-2d218417"],"./zh-TW/_lib/formatLong/index.js":["4365","chunk-10d1d453"],"./zh-TW/_lib/formatRelative/index.js":["41bf","chunk-2d0c0877"],"./zh-TW/_lib/localize/index.js":["23d0","chunk-7742fc0e"],"./zh-TW/_lib/match/index.js":["5a57","chunk-b29571c6"],"./zh-TW/index.js":["ce7f","chunk-415806b0"]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(o)},r.id="8668",e.exports=r},8705:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.outcome?n("v-alert",{staticClass:"my-4 poll-common-outcome-panel",attrs:{color:"primary lighten-2","colored-border":"",border:"left",elevation:"3"}},[n("div",{directives:[{name:"t",rawName:"v-t",value:"poll_common.outcome",expression:"'poll_common.outcome'"}],staticClass:"title"}),n("div",{staticClass:"poll-common-outcome-panel__authored-by caption my-2"},[n("span",{directives:[{name:"t",rawName:"v-t",value:{path:"poll_common_outcome_panel.authored_by",args:{name:e.outcome.authorName()}},expression:"{ path: 'poll_common_outcome_panel.authored_by', args: { name: outcome.authorName() } }"}]}),n("space"),n("time-ago",{attrs:{date:e.outcome.createdAt}}),e.outcome.reviewOn?n("span",[n("mid-dot"),n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common.review_due",expression:"'poll_common.review_due'"}]}),n("space"),n("time-ago",{attrs:{date:e.outcome.reviewOn}})],1):e._e()],1),e.outcome.poll().datesAsOptions()&&e.outcome.pollOption()?n("div",{staticClass:"poll-common-outcome__event-info"},[n("div",{staticClass:"title"},[e._v(e._s(e.outcome.eventSummary))]),n("span",[e._v(e._s(e.exactDate(e.parseISO(e.outcome.pollOption().name))))]),n("p",[e._v(e._s(e.outcome.eventLocation))])]):e._e(),n("formatted-text",{staticStyle:{"font-size":"15px"},attrs:{model:e.outcome,column:"statement"}}),n("link-previews",{attrs:{model:e.outcome}}),n("document-list",{attrs:{model:e.outcome}}),n("attachment-list",{attrs:{attachments:e.outcome.attachments}}),n("v-layout",{attrs:{"align-center":""}},[n("v-spacer"),n("action-dock",{attrs:{model:e.outcome,actions:e.actions}})],1)],1):e._e()},r=[],i=n("4a20"),a=n("e3ee"),s={props:{outcome:Object},methods:{parseISO:a["a"]},computed:{actions:function(){return i["a"].actions(this.outcome,this)}}},c=s,l=n("2877"),u=n("6544"),d=n.n(u),p=n("5173"),m=n("4bde"),f=n("0f27"),h=n("c442"),_=n("42f1"),v=n("fe39"),b=n("cc56"),g=n("f55c"),y=n("0798"),k=n("a722"),w=n("2fa4"),x=Object(l["a"])(c,o,r,!1,null,null,null);t["a"]=x.exports;d()(x,{ActionDock:p["a"],AttachmentList:m["a"],DocumentList:f["a"],FormattedText:h["a"],LinkPreviews:_["a"],MidDot:v["a"],Space:b["a"],TimeAgo:g["a"],VAlert:y["a"],VLayout:k["a"],VSpacer:w["a"]})},"890d":function(e,t,n){},"8a43":function(e,t,n){"use strict";n("24f8")},"8af8":function(e,t,n){},"8c78":function(e,t,n){"use strict";n("19b0")},"8d27":function(e,t,n){},"900e":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"tags-display"},e._l(e.tags,(function(t){return n("v-chip",{key:t.id,staticClass:"ml-1",class:{"mb-1":e.showCounts},attrs:{small:"",outlined:"",color:t.color,to:"/g/"+t.group().key+"/tags/"+t.name}},[n("span",[e._v(e._s(t.name))]),e.showCounts?n("span",[n("space"),n("span",[e._v(e._s(t.taggingsCount))])],1):e._e()])})),1)},r=[],i=(n("cd6d"),{props:{tags:Array,showCounts:Boolean}}),a=i,s=n("2877"),c=n("6544"),l=n.n(c),u=n("cc56"),d=n("cc20"),p=Object(s["a"])(a,o,r,!1,null,null,null);t["a"]=p.exports;l()(p,{Space:u["a"],VChip:d["a"]})},9172:function(e,t,n){},"93ba":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"translation"},[e.isMd?n("div",{directives:[{name:"marked",rawName:"v-marked",value:e.translated,expression:"translated"}],staticClass:"translated-body"}):e._e(),e.isHtml?n("div",{staticClass:"translated-body",domProps:{innerHTML:e._s(e.translated)}}):e._e()])},r=[],i={props:{model:Object,field:String},computed:{isMd:function(){return"md"===this.format},isHtml:function(){return"html"===this.format},translated:function(){return this.model.translation[this.field]},format:function(){return this.model[this.field+"Format"]?this.model[this.field+"Format"]:"html"}}},a=i,s=(n("ae44"),n("2877")),c=Object(s["a"])(a,o,r,!1,null,null,null);t["a"]=c.exports},"94d4":function(e,t,n){"use strict";var o=n("345a"),r=n.n(o),i=n("c707"),a=n.n(i),s=n("c228"),c=n.n(s),l=n("3092"),u=n.n(l),d=n("d180"),p=n.n(d),m=n("dd61"),f=n.n(m),h=n("abdd"),_=n.n(h),v=n("4416"),b=n.n(v),g=n("63ea"),y=n.n(g),k=n("c641"),w=n.n(k);function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}t["a"]=new(function(){function e(){x(this,e)}return O(e,[{key:"parse",value:function(e){return f()(e.split(","),(function(e){return f()(e.split("-"),(function(e){return parseInt(e)}))}))}},{key:"serialize",value:function(e){return f()(e,(function(e){return e.join("-")})).join(",")}},{key:"reduce",value:function(e){var t;return e=a()(e,(function(e){return e[0]})),t=c()([e.shift()]),w()(e,(function(e){var n;return n=b()(t),n[1]>=e[0]-1?(t.pop(),t.push([n[0],_()([e[1],n[1]])])):t.push(e)})),t}},{key:"length",value:function(e){return p()(f()(e,(function(e){return e[1]-e[0]+1})))}},{key:"arrayToRanges",value:function(e){return this.reduce(e.map((function(e){return[e,e]})))}},{key:"intersectRanges",value:function(e,t){var n=this;return this.arrayToRanges(this.rangesToArray(e).filter((function(e){return n.includesValue(t,e)})))}},{key:"rangesToArray",value:function(e){var t,n=this;return t=[],e.forEach((function(e){return t=t.concat(n.rangeToArray(e[0],e[1],1))})),t}},{key:"rangeToArray",value:function(e,t,n){return Array.from({length:(t-e)/n+1},(function(t,o){return e+o*n}))}},{key:"overlaps",value:function(e,t){var n;return n=a()([e,t],(function(e){return e[0]})),n[0][1]>=n[1][0]}},{key:"includesValue",value:function(e,t){return u()(e,(function(e){return r()(t,e[0],e[1]+1)}))}},{key:"subtractRange",value:function(e,t){return 0===t.length||t[0]>e[1]||t[1]<e[0]?[e]:t[0]<=e[0]&&t[1]>=e[1]?[]:t[0]>e[0]&&t[1]<e[1]?[[e[0],t[0]-1],[t[1]+1,e[1]]]:t[0]===e[0]&&t[1]<e[1]?[[t[1]+1,e[1]]]:t[0]>e[0]&&t[1]===e[1]?[[e[0],t[0]-1]]:void 0}},{key:"subtractRanges",value:function(e,t){var n=this;return e=this.reduce(e),t=this.reduce(t),t.forEach((function(t){var o;return o=[],e.forEach((function(e){return o=o.concat(n.subtractRange(e,t))})),e=n.reduce(o)})),e}},{key:"selfTest",value:function(){return{length1:1===this.length([[1,1]]),length2:2===this.length([[1,2]]),serialize:"1-2,4-5"===this.serialize([[1,2],[4,5]]),parse:y()(this.parse("1-2,4-5"),[[1,2],[4,5]]),reduceSimple:y()(this.reduce([[1,1]]),[[1,1]]),reduceMerge:y()(this.reduce([[1,2],[3,4]]),[[1,4]]),reduceEmpty:y()(this.reduce([]),[]),subtractWhole:y()(this.subtractRange([1,1],[1,1]),[]),subtractNone:y()(this.subtractRange([1,1],[2,2]),[[1,1]]),subtractLeft:y()(this.subtractRange([1,2],[1,1]),[[2,2]]),subtractRight:y()(this.subtractRange([1,2],[2,2]),[[1,1]]),subtractMiddle:y()(this.subtractRange([1,3],[2,2]),[[1,1],[3,3]]),overlapsNone:!1===this.overlaps([1,2],[3,4]),overlapsPart:!0===this.overlaps([1,2],[2,3]),overlapsWhole:!0===this.overlaps([1,2],[1,2]),subtractRanges1:y()(this.subtractRanges([[1,1]],[[1,1]]),[]),subtractRanges2:y()(this.subtractRanges([[1,2]],[[1,1]]),[[2,2]]),subtractRanges3:y()(this.subtractRanges([[1,2],[4,6]],[[1,1],[5,5]]),[[2,2],[4,4],[6,6]]),subtractRanges4:y()(this.subtractRanges([[1,2],[4,8]],[[5,6],[7,8]]),[[1,2],[4,4]])}}},{key:"hardTest",value:function(){return{subtractRanges5:y()(this.subtractRanges)}}}]),e}())},9669:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.poll.singleChoice()?e._e():n("div",{staticClass:"poll-common-stance-choices"},[e.stance.castAt&&0==e.stance.totalScore()?n("span",{directives:[{name:"t",rawName:"v-t",value:"poll_common_votes_panel.none_of_the_above",expression:"'poll_common_votes_panel.none_of_the_above'"}],staticClass:"caption"}):e._e(),e.datesAsOptions?e._l(e.stanceChoices,(function(t){return t.show()?n("v-chip",{key:t.id,staticClass:"mr-1 my-1",attrs:{outlined:"",color:e.colorFor(t.score)},on:{click:e.emitClick}},[n("poll-meeting-time",{attrs:{name:t.pollOption().name}})],1):e._e()})):e._l(e.stanceChoices,(function(t){return t.show()?n("div",{key:t.id,staticClass:"poll-common-stance-choice mt-1",class:"poll-common-stance-choice--"+e.pollType},[e.variableScore?e._e():n("v-icon",{attrs:{small:"",color:t.pollOption().color}},[e._v("mdi-check")]),e.variableScore?n("span",{style:{color:t.pollOption().color}},[e._v(e._s(t.rankOrScore))]):e._e(),n("span",{staticClass:"ml-2 text--secondary"},[e._v(e._s(t.pollOption().optionName()))])],1):e._e()}))],2)},r=[],i=n("6cfa"),a=n("7ae3"),s={props:{stance:Object},data:function(){return{optionColors:Object(i["d"])(),optionImages:Object(i["e"])()}},computed:{poll:function(){return this.stance.poll()},variableScore:function(){return this.poll.hasVariableScore()},color:function(){return this.pollOption.color},pollType:function(){return this.poll.pollType},stanceChoices:function(){return this.stance.orderedStanceChoices().filter((function(e){return e.score>0}))},datesAsOptions:function(){return this.poll.datesAsOptions()}},methods:{emitClick:function(){return this.$emit("click")},colorFor:function(e){switch(e){case 2:return a["a"].pollColors.proposal[0];case 1:return a["a"].pollColors.proposal[1];case 0:return a["a"].pollColors.proposal[2]}}}},c=s,l=n("2877"),u=n("6544"),d=n.n(u),p=n("f829"),m=n("cc20"),f=n("132d"),h=Object(l["a"])(c,o,r,!1,null,null,null);t["a"]=h.exports;d()(h,{PollMeetingTime:p["a"],VChip:m["a"],VIcon:f["a"]})},"96d7":function(e,t,n){"use strict";n("84a6")},"978a":function(e,t,n){},9953:function(e,t,n){"use strict";var o,r=n("d173"),i=n.n(r),a=n("7ae3"),s=(n("cd6d"),n("6062"));n("44e4");function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}o=function(){return s["a"].user()},t["a"]=new(function(){function e(){c(this,e)}return u(e,[{key:"isNotEmailVerified",value:function(){return s["a"].isSignedIn()&&!s["a"].user().emailVerified}},{key:"isEmailVerified",value:function(){return s["a"].isSignedIn()&&s["a"].user().emailVerified}},{key:"isUser",value:function(){return null!=a["a"].currentUserId}},{key:"canContactUser",value:function(e){return s["a"].isSignedIn()&&s["a"].user().id!==e.id&&i()(s["a"].user().groupIds(),e.groupIds()).length}},{key:"canAddComment",value:function(e){return e.membersInclude(s["a"].user())}},{key:"canRespondToComment",value:function(e){return!e.discardedAt&&e.discussion().membersInclude(s["a"].user())}},{key:"canEditStance",value:function(e){return s["a"].user()===e.author()}},{key:"canEditThread",value:function(e){return e.adminsInclude(s["a"].user())||e.membersInclude(s["a"].user())&&(e.group().membersCanEditDiscussions||e.author()===s["a"].user())}},{key:"canCloseThread",value:function(e){return!e.closedAt&&this.canEditThread(e)}},{key:"canReopenThread",value:function(e){return e.closedAt&&this.canEditThread(e)}},{key:"canPinThread",value:function(e){return!e.closedAt&&!e.pinned&&this.canEditThread(e)}},{key:"canUnpinThread",value:function(e){return!e.closedAt&&e.pinned&&this.canEditThread(e)}},{key:"canExportThread",value:function(e){return!e.discardedAt&&e.membersInclude(s["a"].user())}},{key:"canPinEvent",value:function(e){return 1===e.depth&&!e.model().discardedAt&&!e.pinned&&this.canEditThread(e.discussion())}},{key:"canUnpinEvent",value:function(e){return e.pinned&&this.canEditThread(e.discussion())}},{key:"canMoveThread",value:function(e){return this.canEditThread(e)}},{key:"canDeleteThread",value:function(e){return e.adminsInclude(s["a"].user())||e.author()===s["a"].user()}},{key:"canChangeGroupVolume",value:function(e){return e.membersInclude(s["a"].user())}},{key:"canAdminister",value:function(e){switch(e.constructor.singular){case"group":return e.adminsInclude(s["a"].user());case"discussion":case"comment":return e.discussion().adminsInclude(s["a"].user());case"outcome":case"stance":case"poll":return e.poll().adminsInclude(s["a"].user())}}},{key:"canChangeVolume",value:function(e){return e.membersInclude(s["a"].user())}},{key:"canManageGroupSubscription",value:function(e){return e.isParent()&&e.adminsInclude(s["a"].user())&&null!=e.subscriptionKind&&"trial"!==e.subscriptionKind&&"manual"!==e.subscriptionPaymentMethod}},{key:"canStartThread",value:function(e){return e.adminsInclude(o())||e.membersInclude(o())&&e.membersCanStartDiscussions}},{key:"canAnnounceDiscussion",value:function(e){return!e.discardedAt&&(e.groupId?e.group().adminsInclude(o())||e.group().membersCanAnnounce&&e.group().membersInclude(o()):!e.id||e.adminsInclude(o()))}},{key:"canNotifyGroup",value:function(e){return e.adminsInclude(s["a"].user())||e.membersCanAnnounce&&e.membersInclude(s["a"].user())}},{key:"canAnnounce",value:function(e){return("function"===typeof e.isA?e.isA("poll"):void 0)?this.canAnnouncePoll(e):this.canAnnounceDiscussion(e)}},{key:"canAddGuests",value:function(e){return("function"===typeof e.isA?e.isA("poll"):void 0)?this.canAddGuestsPoll(e):this.canAddGuestsDiscussion(e)}},{key:"canAddGuestsDiscussion",value:function(e){return e.groupId?e.group().adminsInclude(o())||e.group().membersCanAddGuests&&e.membersInclude(o()):!e.id||e.adminsInclude(o())}},{key:"canAnnouncePoll",value:function(e){return!e.discardedAt&&(e.groupId?e.group().adminsInclude(o())||e.group().membersCanAnnounce&&e.adminsInclude(o())||e.group().membersCanAnnounce&&!e.specifiedVotersOnly&&e.membersInclude(o()):e.adminsInclude(o()))}},{key:"canAddMembersPoll",value:function(e){return e.adminsInclude(o())}},{key:"canAddGuestsPoll",value:function(e){return e.groupId?e.group().adminsInclude(o())||e.group().membersCanAddGuests&&e.adminsInclude(o())||e.group().membersCanAddGuests&&!e.specifiedVotersOnly&&e.membersInclude(o()):e.adminsInclude(o())}},{key:"canAddMembersToGroup",value:function(e){return e.adminsInclude(s["a"].user())||e.membersInclude(s["a"].user())&&e.membersCanAddMembers}},{key:"canCreateSubgroups",value:function(e){return e.isParent()&&(e.adminsInclude(s["a"].user())||e.membersInclude(s["a"].user())&&e.membersCanCreateSubgroups)}},{key:"canEditGroup",value:function(e){return e.adminsInclude(s["a"].user())}},{key:"canLeaveGroup",value:function(e){return null!=s["a"].user().membershipFor(e)}},{key:"canArchiveGroup",value:function(e){return e.adminsInclude(s["a"].user())}},{key:"canEditOwnComment",value:function(e){return e.authorIs(s["a"].user())&&this.canEditComment(e)}},{key:"canEditComment",value:function(e){return e.discussion().adminsInclude(s["a"].user())&&e.group().adminsCanEditUserContent||e.authorIs(s["a"].user())&&e.group().membersCanEditComments&&e.discussion().membersInclude(s["a"].user())}},{key:"canDeleteComment",value:function(e){return e.group().membersCanDeleteComments&&e.authorIs(s["a"].user())||e.discussion().adminsInclude(s["a"].user())}},{key:"canDiscardComment",value:function(e){return!e.discardedAt&&this.canDeleteComment(e)}},{key:"canUndiscardComment",value:function(e){return e.discardedAt&&this.canDeleteComment(e)}},{key:"canRemoveMembership",value:function(e){return e&&(e.user()===s["a"].user()||this.canAdminister(e.group()))}},{key:"canSetMembershipTitle",value:function(e){return s["a"].user()===e.user()||this.canAdminister(e.group())}},{key:"canResendMembership",value:function(e){return e&&!e.acceptedAt&&e.inviter()===s["a"].user()}},{key:"canManageMembershipRequests",value:function(e){return e.membersCanAddMembers&&e.membersInclude(s["a"].user())||e.adminsInclude(s["a"].user())}},{key:"canViewPublicGroups",value:function(){return a["a"].features.app.public_groups}},{key:"canStartGroups",value:function(){return this.isEmailVerified()&&(a["a"].features.app.create_group||s["a"].user().isAdmin)}},{key:"canViewGroup",value:function(e){return!e.privacyIsSecret()||e.membersInclude(s["a"].user())}},{key:"canViewPrivateContent",value:function(e){return e.membersInclude(s["a"].user())}},{key:"canJoinGroup",value:function(e){return!(!this.canViewGroup(e)||e.membersInclude(s["a"].user()))&&("request"===e.membershipGrantedUpon||e.parentOrSelf().adminsInclude(s["a"].user()))}},{key:"canRequestMembership",value:function(e){return"approval"===e.membershipGrantedUpon&&this.canViewGroup(e)&&!e.membersInclude(s["a"].user())&&!this.canJoinGroup(e)}},{key:"canTranslate",value:function(e){return!e.discardedAt&&(a["a"].inlineTranslation.isAvailable&&0===Object.keys(e.translation).length&&e.contentLocale&&e.contentLocale!==s["a"].user().locale||!e.contentLocale&&e.author().locale!==s["a"].user().locale)}},{key:"canStartPoll",value:function(e){return e.adminsInclude(s["a"].user())||e.membersInclude(s["a"].user())&&e.group().membersCanRaiseMotions}},{key:"canParticipateInPoll",value:function(e){return!!e&&(!!e.isActive()&&(e.anyoneCanParticipate||e.myStance()||!e.specifiedVotersOnly&&e.membersInclude(s["a"].user())))}},{key:"canMovePoll",value:function(e){return!e.discussionId&&e.adminsInclude(s["a"].user())}},{key:"canEditPoll",value:function(e){return e.isActive()&&e.adminsInclude(s["a"].user())}},{key:"canDeletePoll",value:function(e){return!e.discardedAt&&e.adminsInclude(s["a"].user())}},{key:"canExportPoll",value:function(e){return!e.discardedAt&&e.membersInclude(s["a"].user())&&(!e.hideResultsUntilClosed||e.closedAt)}},{key:"canAddPollToThread",value:function(e){return!e.discardedAt&&!e.discussionId&&e.adminsInclude(s["a"].user())}},{key:"canSetPollOutcome",value:function(e){return!e.discardedAt&&e.closedAt&&e.adminsInclude(s["a"].user())}},{key:"canClosePoll",value:function(e){return!e.discardedAt&&!e.closedAt&&this.canEditPoll(e)}},{key:"canReopenPoll",value:function(e){return!e.discardedAt&&e.closedAt&&!e.anonymous&&e.adminsInclude(s["a"].user())}}]),e}())},"9c9b":function(e,t,n){"use strict";n("ac21")},"9e2e":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{staticClass:"list",attrs:{transitionDuration:250,lockAxis:"y"}},[e._t("default")],2)},r=[],i=n("11b0"),a={mixins:[i["ContainerMixin"]]},s=a,c=n("2877"),l=n("6544"),u=n.n(l),d=n("8860"),p=Object(c["a"])(s,o,r,!1,null,null,null);t["a"]=p.exports;u()(p,{VList:d["a"]})},"9e3b":function(e,t,n){},"9f09":function(e,t,n){"use strict";var o=n("95ae"),r=n.n(o),i=n("bba4"),a=n.n(i),s=n("4245"),c=n.n(s),l=n("cd6d");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}t["a"]=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e),this.exhausted=!1,this.loading=!1,this.collection=t.collection,this.params=c()({from:0,per:25,order:"id"},t.params),this.path=t.path,this.total=0,this.err=null,this.status=null}return p(e,[{key:"reset",value:function(){return this.params["from"]=0}},{key:"fetchRecords",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.loading=!0,this.params=r()({},t,this.params),l["a"][a()(this.collection)].fetch({path:this.path,params:this.params}).then((function(t){return e.total=t.meta.total,e.params.from=e.params.from+e.params.per,e.exhausted=e.params.from>=e.total,t})).finally((function(){return e.loading=!1})).catch((function(t){return e.err=t,e.status=t.status}))}}]),e}()},a30e:function(e,t,n){"use strict";n("774c")},a329:function(e,t,n){"use strict";n("bc35")},a43a:function(e,t,n){"use strict";n("65c3");var o=n("9953"),r=n("6062"),i=n("cd6d"),a=n("17b9");n("66ef");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}t["a"]=new(function(){function e(){s(this,e)}return l(e,[{key:"actions",value:function(e,t){return{notification_history:{name:"action_dock.notification_history",icon:"mdi-alarm-check",perform:function(){return Object(a["a"])({component:"AnnouncementHistory",props:{model:e}})},canPerform:function(){return!e.discardedAt}},react:{canPerform:function(){return!e.discardedAt&&o["a"].canAddComment(e.discussion())}},reply_to_comment:{name:"common.action.reply",icon:"mdi-reply",canPerform:function(){return o["a"].canRespondToComment(e)},perform:function(){return t.newComment=i["a"].comments.build({bodyFormat:"html",body:"",discussionId:e.discussion().id,authorId:r["a"].user().id,parentId:e.id}),t.showReplyForm=!t.showReplyForm}},edit_comment:{name:"common.action.edit",icon:"mdi-pencil",canPerform:function(){return!e.discardedAt&&e.authorIs(r["a"].user())&&o["a"].canEditComment(e)},perform:function(){return Object(a["a"])({component:"EditCommentForm",maxWidth:800,props:{comment:e.clone()}})}},admin_edit_comment:{name:"common.action.edit",icon:"mdi-pencil",canPerform:function(){return!e.authorIs(r["a"].user())&&o["a"].canEditComment(e)},perform:function(){return Object(a["a"])({component:"EditCommentForm",props:{comment:e.clone()}})}},translate_comment:{name:"common.action.translate",icon:"mdi-translate",canPerform:function(){return e.body&&o["a"].canTranslate(e)},perform:function(){return r["a"].user()&&e.translate(r["a"].user().locale)}},show_history:{name:"action_dock.show_edits",icon:"mdi-history",menu:!0,canPerform:function(){return e.edited()&&(!e.discardedAt||e.discussion().adminsInclude(r["a"].user()))},perform:function(){return Object(a["a"])({component:"RevisionHistoryModal",props:{model:e}})}},discard_comment:{icon:"mdi-delete",name:"common.action.delete",canPerform:function(){return o["a"].canDiscardComment(e)},perform:function(){return Object(a["a"])({component:"ConfirmModal",props:{confirm:{submit:function(){return e.discard()},text:{title:"delete_comment_dialog.title",helptext:"delete_comment_dialog.question",confirm:"delete_comment_dialog.confirm",flash:"comment_form.messages.destroyed"}}}})}},undiscard_comment:{icon:"mdi-delete-restore",name:"common.action.undo_remove",canPerform:function(){return o["a"].canUndiscardComment(e)},perform:function(){return e.undiscard()}}}}}]),e}())},a4eb:function(e,t,n){"use strict";n("d6b2")},a5fc:function(e,t,n){"use strict";n("7dc1")},a65a:function(e,t,n){},a6c1:function(e,t){function n(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then((function(e){var t,o=n(e);try{for(o.s();!(t=o.n()).done;){var r=t.value;r.unregister()}}catch(i){o.e(i)}finally{o.f()}})),caches.keys().then((function(e){e.forEach((function(e){caches.delete(e)}))})))},a921:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return f}));var o,r,i,a=n("8a30"),s=n.n(a),c=n("cd6d"),l=n("f4a7"),u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=function(){switch(e.kind){case"new_comment":return r(e,n);case"stance_created":return i(e,n);case"discussion_edited":return o(e);case"poll_created":return"poll_created_no_title";default:return e.kind}}(),"thread_item.".concat(t)},d=function(e){switch(e.eventableType){case"Comment":return e.model().parentAuthorName;case"Poll":case"Outcome":return e.model().poll().title;case"Group":case"Membership":return e.model().group().name;case"Stance":return e.model().poll().title;case"Discussion":return"discussion_moved"===e.kind?(c["a"].groups.find(e.sourceGroupId)||{fullName:l["a"].t("thread_item.deleted_group")}).fullName:e.model().title}},p=function(e){return s()(["Poll","Stance","Outcome"],e.eventableType)?"poll_types.".concat(e.model().poll().pollType):""},m=function(e,t){if(t=t||e.groupPrivacy,e.isParent())switch(t){case"open":return"group_form.group_privacy_is_open_description";case"secret":return"group_form.group_privacy_is_secret_description";case"closed":return e.allowPublicThreads?"group_form.group_privacy_is_closed_public_threads_description":"group_form.group_privacy_is_closed_description"}else switch(t){case"open":return"group_form.subgroup_privacy_is_open_description";case"secret":return"group_form.subgroup_privacy_is_secret_description";case"closed":return e.isSubgroupOfSecretParent()?"group_form.subgroup_privacy_is_closed_secret_parent_description":e.allowPublicThreads?"group_form.subgroup_privacy_is_closed_public_threads_description":"group_form.subgroup_privacy_is_closed_description"}},f=function(e){if(e.parentId&&e.parent().privacyIsSecret())return e.privacyIsClosed()?"group_form.privacy_statement.private_to_parent_members":"group_form.privacy_statement.private_to_group";switch(e.groupPrivacy){case"open":return"group_form.privacy_statement.public_on_web";case"closed":return"group_form.privacy_statement.public_on_web";case"secret":return"group_form.privacy_statement.private_to_group"}};r=function(e,t){return e.isNested()&&!t?"comment_replied_to":"new_comment"},i=function(e,t){return e.isNested()&&t?"new_comment":"stance_created"},o=function(e){var t;return t=e.customFields.changed_keys,s()(t,"title")?"discussion_title_edited":s()(t,"private")?"discussion_privacy_edited":s()(t,"description")?"discussion_context_edited":s()(t,"document_ids")?"discussion_attachments_edited":"discussion_edited"}},a9bb:function(e,t,n){},aa15:function(e,t,n){"use strict";n("2038")},aaf7:function(e,t,n){"use strict";n("03bf")},aba1:function(e,t,n){"use strict";n("1220")},ac16:function(e,t,n){"use strict";n("890d")},ac21:function(e,t,n){},acd8:function(e,t,n){},ad52:function(e,t,n){},ae44:function(e,t,n){"use strict";n("0018")},ae6e:function(e,t,n){},b1b0:function(e,t,n){},b215:function(e,t,n){},b24e:function(e,t,n){"use strict";n("a9bb")},b27c:function(e,t,n){"use strict";n("f6e3")},b4d8:function(e,t,n){},b5ea:function(e,t,n){"use strict";n("a65a")},b6c4:function(e,t,n){},b727:function(e,t,n){},b909:function(e,t){const n=[{en:{tasks:{tasks:"Tasks",your_tasks:"Your tasks"},loomio_onboarding:{group_progress_card:{title:"Let's get started!",activities:{set_description:"Set your group's description",set_cover_photo:"Upload a cover photo & logo for your group",customize_group:"Add a group picture, logo and description",invite_people_in:"Invite people in",start_thread:"Start a discussion thread",make_decision:"Start a decision"},learn_more:"Learn more at Loomio Help",celebration_message:"Nice! Your group is good to go!  ",dismiss_this_card:"Dismiss this card"}},plan_names:{free:"Free",starter:"Starter",trial:"Trial",pro:"Pro",pro_nonprofit:"Pro Nonprofit",community:"Community",small:"Small",medium:"Medium",large:"Large",monthly:"Monthly",yearly:"Annually"},current_plan_button:{upgrade:"Upgrade",buy_now:"Buy now",is_old_plan:"Loomio's simplified pricing plans include unlimited users",change_plan:"Change plan",view_plans:"View plans",free_trial:"Free trial. {days} days remaining.",trial_expired:"Your trial has expired. Upgrade to continue using Loomio.",tooltip:"Our prices are fantastic! Upgrade today and enjoy what Loomio can offer your group.",was_gift_trial:"Your group has been using Loomio for free since {createdDate}. We are unable to continue providing a free service. Please upgrade to continue using Loomio. <a href='https://help.loomio.org/en/plan-changes/' target='_blank' style='text-decoration: underline;'>Read more.</a>",was_gift_remaining:"{days} days remaining.",was_gift_expired:"Your free plan has now expired."},subscription_status:{plan:"Plan",state:"Status",members:"Members",active_members:"Active members",max_threads:"Max threads",max_members:"Max members",expires_at:"Expires",renews_at:"Renews",referral_code:"Referral code",chargify_link:"Billing portal",referral_code_help:"Give a friend a discount, get yourself some credit!",manage_payment_details:"Manage payment details"},loomio_tags:{all_tags:"All tags",tags:"Tags",apply_tags:"Apply tags",new_tag:"New tag",name_label:"Name",color_label:"Color",card_title:"Category Tags",modal_title:"Create a new tag",modal_edit_title:"Edit tag",modal_destroy_title:"Remove tag",destroy_tag:"Delete tag",destroy_helptext:"This will delete this tag and remove it from all threads in the group. Are you sure?",helptext:"Tags allow you to categorize conversations and easily find them later",discussions_count_singular:"({count} thread)",discussions_count_plural:"({count} threads)",tag_created:"Tag saved",tag_destroyed:"Tag deleted",tags_marked:"Threads marked '{name}' in {groupName}",no_tags_present:"No threads were found with that tag! Try selecting another one",no_tags_in_group:"This group has no category tags yet",only_admins_can_edit_tags:"Sorry, only admins of {group} can create, rename or delete tags"},reactions:{slight_smile:"Like",heart:"Love",laughing:"Laugh",clap:"Clap",hugging:"Hug",sunglasses:"Cool",wink:"Wink",nerd:"Smart",relieved:"Relieved",worried:"Worried",confused:"Confused",confounded:"Confounded",neutral_face:"Neutral",slight_frown:"Frown",disappointed:"Disappointed",angry:"Angry",weary:"Weary",astonished:"Astonished",rolling_eyes:"Rolling eyes",cry:"Cry",scream:"Scream",sleeping:"Bored",thinking:"Thinking",raised_hands:"Raised hands",pray:"Pray",fingers_crossed:"Fingers crossed",v:"Peace",metal:"Metal",ok_hand:"Ok",wave:"Wave",thumbsup:"Thumb up",thumbsdown:"Thumb down"},poll_types:{proposal:"proposal",count:"check",poll:"poll",dot_vote:"dot vote",meeting:"time poll",ranked_choice:"ranked choice",score:"score poll"},new_poll_types:{proposal:"proposal",count:"count",poll:"choose",score:"score",ranked_choice:"rank",dot_vote:"allocate",meeting:"time poll"},timezones:{local:"Local time ({value})"},common:{none:"None",empty:"Empty",no_results_found:"No results found",view:"View",history:"History",option:"Option",add:"Add",you:"You",expand:"Expand",all_day:"All day",ok_got_it:"Ok, got it",learn_more:"Learn more",not_found:"Not found",time_zone:"Time zone",local_time:"Local time",attachments:"Attachments",links:"Links",active_time_ago:"Last active {time_ago}",confirm_discard_changes:"Discard your changes?",time:{am:"am",pm:"pm"},closing_in:"Closing {time}",closed_ago:"Closed {time}",volume:"Volume",notification_volume:"Notification Volume",group:"Group",groups:"Groups",organization:"Organization",organizations:"Organizations",threads:"Threads",decisions:"Decisions",settings:"Settings",help:"Help",anonymous:"Anonymous",required:"Required",email_address:"Email address",privacy:{privacy:"Privacy",public:"Public",open:"Open",closed:"Closed",private:"Private",secret:"Secret"},selected:"Selected",date_range:{today:"Today",yesterday:"Yesterday",thisweek:"This Week",thismonth:"This Month",older:"Older"},more_help:"More help",models:{proposal:"Proposal"},copy:"Copy",reset:"Reset",copy_text:"Copy text",copied:"Copied to clipboard",points_abbrev:"Each vote worth {score} points",total:"Total",action:{print:"Print",preview:"Preview",pin:"Pin",unpin:"Unpin",search:"Search",filter:"Filter",back:"Back",next:"Next",close:"Close",reopen:"Reopen",save:"Save",move:"Move",save_changes:"Save changes",update_settings:"Update settings",reply:"Reply",edit:"Edit",remove:"Remove",undo_remove:"Undo remove",like:"Like",unlike:"Unlike",update:"Update",cancel:"Cancel",show_more:"Show more",show_fewer:"Show fewer",view_count_more:"View {count} more",view_count_responses:"View {count} responses",count_more:"{count} more",count_responses:"{count} responses",view_all:"View All",new_thread:"New thread",add_subgroup:"New subgroup",loading:"Loading",translate:"Translate",upload:"Upload",uploading:"Uploading",load_more:"Load More",share:"Share",ok:"Ok",retry:"Retry",done:"Done",start:"Start",delete:"Delete",unsubscribe:"Unsubscribe",subscribe:"Subscribe",unignore:"Unignore",remind:"Remind",resend:"Resend",send:"Send",joined:"Joined",last_seen:"Last seen",invite:"Invite",resent:"Invitation resent",export:"Export",fork:"Fork",apply:"Apply",add_people:"Add People"},formatting_help:{label:"Formatting",title:"Learn how to use Markdown to format your text"}},merge_accounts:{modal:{title:"Merge accounts",helptext:"You can merge the account under <strong>{sourceEmail}</strong> into that of <strong>{targetEmail}</strong>. Click Verify and a verification email will be sent to {targetEmail} to begin the process.",submit:"Verify",flash:"Verification email sent!"},email_taken:"Sorry, that email is already associated with another user. Does that email belong to you?",find_out_more:"Find out more.",placeholder_modal_text:'<p>If you would like to merge two accounts together, simply enter the respective email address (belonging to the other account) into your Profile page email field, and follow the instructions that appear.</p>\n<p>Need help? <a href="/contact" target="_blank">Contact us</a>.\n'},emoji_picker:{search:"Search",common:"Frequently used",expressions:"Faces",hands:"Hands",people:"People",nature:"Nature",objects:"Things",places:"Places"},ordinal:{_1:"1st",_2:"2nd",_3:"3rd",_4:"4th",_5:"5th",_6:"6th",_7:"7th",_8:"8th",_9:"9th",_10:"10th"},devise:{sessions:{signed_up:"Signed up successfully!"},failure:{inactive:"There is a deactivated account associated with this email address. If you want to reactivate your account, contact us."}},error_page:{forbidden:"You do not have permission to do this.",page_not_found:"We were unable to find that. It may have been deleted or moved.",internal_server_error:"We're sorry, but something went wrong. Please try again."},verify_email_notice:{please_verify:"Thanks for participating! Please check your email for a link to verify your vote."},previous_polls_page:{heading:"Activities in {name}",polls_count:"Showing {loaded} of {total} decisions",search_activities:"Search decisions"},volume_levels:{loud:"Loud",normal:"Normal",quiet:"Quiet",mute:"Mute",unmute:"Unmute"},pin_event_form:{title:"Pin to timeline",title_label:"Title",hint:'Hint for next time: Try highlighting some text before you click "Pin".'},change_volume_form:{explain_scope:{thread:"This changes when you'll be notified about this thread",group:"This changes when you'll be notified about all threads in the group"},simple:{label:"Notifications",loud:"Subscribed",normal:"Normal",quiet:"Ignore",question:"When do you want to be notified?",loud_explain:"whenever there is activity",normal_explain:"when someone asks for your attention",quiet_explain:"no notifications"},aria_label:"Change email settings form",loud_label:"All activity",normal_label:"Announcements",quiet_label:"No emails",mute_label:"Mute",saved:"Notification settings updated",discussion:{title:"Thread notifications",loud_description:"You will be emailed all activity in this thread.",normal_description:"You will only be emailed important activity in this thread.",quiet_description:"You won't be emailed any activity in this thread.",apply_to_all:"Apply these settings to all threads in this group.",only_this_thread:"Applies to this thread only",group:"Change notifications for group",user:"Change user notification settings",messages:{loud:"You will be emailed activity in this thread.",normal:"You will be emailed about proposals in this thread.",quiet:"You won't be emailed about this thread."}},membership:{title:"Notifications for {title}",loud_description:"You will be emailed whenever there is activity in this group.",normal_description:"You will be emailed whenever there is activity in this group.",quiet_description:"You won't be emailed about activity in this group.",apply_to_all:"Apply these settings to all my groups.",apply_to_organization:"Apply to all groups in {organization}",messages:{loud:"You will be emailed all activity in this group.",normal:"You will only be emailed announcements in this group.",quiet:"You won't be emailed about this group."}},all_groups:{title:"Notification preferences for all groups",loud_description:"You will be emailed all activity in all your groups.",normal_description:"You will only be emailed important activity in all your groups.",quiet_description:"You won't be emailed any activity in any of your groups.",messages:{loud:"You will be emailed all activity in all your groups.",normal:"You will only be emailed announcements in all your groups.",quiet:"You won't be emailed about any of your groups."}},user:{title:"Email settings for new groups",loud_description:"You will be emailed whenever there is activity in any new groups you join.",normal_description:"You will be emailed about announcements in any new groups you join.",quiet_description:"You won't be emailed about activity in any new groups you join.",apply_to_all:"Apply these settings to all my groups.",messages:{loud:"You will be emailed all activity in new groups.",normal:"You will be emailed about announcements in new groups.",quiet:"You won't be emailed about new groups."}}},close_explanation_modal:{aria_label:"Close thread",close_thread:"Close thread",body:"<p>Close old or irrelevant threads to remove them from view and indicate the discussion has closed.</p>\n<p>Anyone may still comment or start a poll in a closed thread, but it will not appear in the group's thread list or on the dashboard.</p>\n",image_alt:"Closing threads all"},mute_explanation_modal:{aria_label:"Mute thread",mute_thread:"Mute thread",body_html:"Muting means you <strong>won't be notified about proposals</strong>, or any other activity in this thread, unless someone <strong>@mentions you</strong>.\n",body_html_2:"Muted threads are hidden from <strong>Recent</strong> and <strong>Unread</strong> pages too. To find your Muted threads, select the <strong>Muted</strong> option in the sidebar\n",image_alt:"Muted threads option in sidebar"},dismiss_explanation_modal:{aria_label:"Dismiss thread",dismiss_thread:"Dismiss thread",body_html:"<p>Dismissing a thread removes it from your unread items. If any new\n  activity occurs in the thread, it will show as unread again.</p>\n"},inbox:{clear:"Clear",latest:"Latest",unread:"Unread",closing_in:"Closing "},sign_up_form:{password_label:"Password:",password_confirmation_label:"That password again:"},signed_out_modal:{aria_label:"Session ended",title:"Your session has ended",message:"You have been logged out from another window. Please sign back in to continue.",ok:"Ok"},comment_reply_form:{aria_label:"Add a reply"},comment_form:{aria_label:"Add a comment",attachments:{add_attachment:"Attach file",remove_attachment:"Remove attachment"},messages:{created:"Comment added",replied:"{name} notified of reply",updated:"Comment updated",destroyed:"Comment deleted",removed:"Comment removed"},say_something:"Say something...",edit_comment:"Edit comment",delete_comment:"Delete comment",cancel_reply:"Cancel Reply",confirm_delete_message:"Are you sure you want to delete this comment?",confirm_delete:"Delete comment",in_reply_to:"Reply to {name}",write_a_comment:"Write a comment...",post_comment:"Post comment",submit_button:{label:"Post"},private_privacy_notice:"Your comment will only be visible to members of {groupName}.",public_privacy_notice:"Your comment will be visible to anyone on the web.",sign_in:"Log in to join the conversation"},thread_nav:{participants:"Participants"},sidebar:{threads:"Threads",my_groups:"My groups",other_groups:"Other groups",all_groups:"All groups",recent_threads:"Recent threads",invite_only_threads:"Invite-only threads",direct_threads:"Direct threads",unread_threads:"Unread threads ({count})",muted_threads:"Muted threads",start_group:"New organization",start_subgroup:"New subgroup",explore:"Public groups",explore_groups:"Explore groups",start_thread:"New thread",start_decision:"New decision",more_groups:"More groups",aria_labels:{heading:"Sidebar",threads_list:"Threads actions",groups_list:"Groups",user_list:"User actions"}},strand_nav:{newest_first:"Latest activity",oldest_first:"Beginning of the thread",all_pinned:"All pinned items",whole_thread:"The whole thread",from_comment:"From a comment url",from_sequence_id:"From a thread item url",unread:"New to you"},navbar:{search_all_threads:"Search all threads",search_threads:"Search threads in {name}",search_polls:"Search polls in {name}",search_members:"Search members in {name}",search_subgroups:"Search members in {name}",search_files:"Search files in {name}",recent_title:"Go to dashboard",unread_title:"View unread activity",start_thread:"New thread",notifications:"Notifications panel",search:{label:"Search field; search for groups and threads",results_aria_label:"Search results",no_results:"No threads found",close:"Close search panel",placeholder:"Search",loading:"Loading results...",discussions:"Threads",proposals:"Proposals",comments:"Comments"},sign_in:"Log In",toggle_sidebar:"Toggle sidebar",open_sidebar:"Open sidebar",close_sidebar:"Close sidebar",logo_title:"Home page",group_and_subgroups:"{group} & subgroups"},user_dropdown:{pin_sidebar:"Pin sidebar",unpin_sidebar:"Unpin sidebar",enable_beta_features:"Enable beta features",disable_beta_features:"Disable beta features",enable_dark_mode:"Enable Dark mode",disable_dark_mode:"Disable Dark mode",button_label:"User menu",edit_profile:"Edit profile",email_settings:"Notification settings",help:"Help",contact_site_name:"Contact {site_name}",contact_support:"Contact support",sign_out:"Sign out",beta_collab:" Beta features enabled!"},membership_card:{group_members:"Group members",discussion_members:"Thread members",poll_members:"{pollType} members",voters:"Voters",invite_to_group:"Invite to group",invite_to_discussion:"Invite to thread",invite_to_poll:"Invite to vote",invitations:"Invitations"},membership_dropdown:{set_title:"Set title",resend:"Resend invitation",invitation_resent:"Invitation resent",make_coordinator:"Make admin",demote_coordinator:"Demote admin",remove_from:{discussion:"Remove from thread",group:"Remove from group",poll:"Remove from {pollType}"},cancel_invitation:"Cancel invitation"},notification_models:{discussion:"thread: ",comment:"comment in ",poll:"decision: ",outcome:"outcome: "},notifications:{header:"Notifications",no_notifications:"You don't have any notifications",new_discussion:"<strong>{name}</strong> started a thread <strong>{title}</strong>",discussion_edited:"<strong>{name}</strong> edited the thread <strong>{title}</strong>",discussion_announced:"<strong>{name}</strong> shared a thread <strong>{title}</strong>",new_motion:"<strong>{name}</strong> created a proposal <strong>{title}</strong>",motion_closed:"Proposal closed: <strong>{title}</strong>",publish_outcome:"Publish an outcome",motion_closed_by_user:"<strong>{name}</strong> closed the proposal <strong>{title}</strong>",motion_closed_by_expiry:"Proposal has closed <strong>{title}</strong>",new_vote:"<strong>{name}</strong> {position} on the proposal <strong>{title}</strong>",new_comment:"<strong>{name}</strong> commented on <strong>{title}</strong>",comment_replied_to:"<strong>{name}</strong> replied to your comment in <strong>{title}</strong>",reaction_created:"<strong>{name}</strong> reacted <img class='emojione' src='{reaction_src}' alt='{reaction}'/> to your {model}<strong>{title}</strong>",reaction_created_vue:"<strong>{name}</strong> reacted {reaction} to your {model}<strong>{title}</strong>",user_mentioned:"<strong>{name}</strong> mentioned you in <strong>{title}</strong>",user_reminded:"<strong>{name}</strong> is waiting on you to participate in <strong>{title}</strong>",membership_requested:"<strong>{name}</strong> requested membership to <strong>{title}</strong>",membership_request_approved:"<strong>{name}</strong> approved your request to join <strong>{title}</strong>",user_added_to_group:"<strong>{name}</strong> added you to the group <strong>{title}</strong>",user_added_to_group_no_inviter:"You were added the group <strong>{title}</strong>",motion_closing_soon:"Proposal is closing soon: <strong>{title}</strong>",motion_outcome_created:"<strong>{name}</strong> published an outcome for the proposal <strong>{title}</strong>",motion_outcome_updated:"<strong>{name}</strong> updated the outcome for the proposal <strong>{title}</strong>",invitation_accepted:"<strong>{name}</strong> accepted your invitation to join <strong>{title}</strong>",new_coordinator:"<strong>{name}</strong> made you an admin of <strong>{title}</strong>",poll_created:"<strong>{name}</strong> started a {poll_type}: <strong>{title}</strong>",poll_edited:"<strong>{name}</strong> edited a {poll_type}: <strong>{title}</strong>",poll_reminder:"<strong>{name}</strong> is reminding you to vote in: <strong>{title}</strong>",poll_announced:"<strong>{name}</strong> shared a {poll_type}: <strong>{title}</strong>",poll_closing_soon:"{poll_type} is closing soon: <strong>{title}</strong>",poll_expired:"{poll_type} closed: <strong>{title}</strong>",poll_option_added:"<strong>{name}</strong> added options to: <strong>{title}</strong>",outcome_created:"<strong>{name}</strong> shared an outcome: <strong>{title}</strong>",outcome_announced:"<strong>{name}</strong> shared an outcome: <strong>{title}</strong>",stance_created:"<strong>{name}</strong> participated in: <strong>{title}</strong>",group_announced:"<strong>{name}</strong> invited you to the group <strong>{title}</strong>"},discussion_fork_actions:{helptext:"Select items you'd like to move to another thread",move:"Move",search_placeholder:"Find thread by title",moved:"Moving comments, this might take a moment",move_to_existing_thread:"Move to existing thread",start_new_thread:"Or, start new thread"},discussion_form:{to:"To",direct_thread:"Direct thread",invite_only_thread:"Invite-only thread",none_direct_thread:"Direct thread (no group)",none_invite_only_thread:"Invite-only thread (no group)",change_log_placeholder:"Optionally, describe your changes. This message will be added to the thread.",change_log_label:"What's changed?",invite:"Invite",aria_label:"Thread form",start_thread:"Start thread",messages:{created:"Thread started",updated:"Thread updated",forked:"Thread fork created"},new_discussion_title:"Start new thread",moving_items_title:"Move items to new thread",edit_discussion_title:"Edit thread",group_label:"Group",group_placeholder:"Select a group",title_label:"Title",title_placeholder:"What is the topic you want to discuss?",context_label:"Context",context_placeholder:"Give enough background information for the group to have a productive discussion. This can be updated as the discussion progresses",privacy_label:"Privacy",privacy_public:"Anyone can see the thread. Only members can participate.",privacy_private:"The thread will only be visible to members of {group}.",privacy_organisation:"The thread will be visible to members of {parent} and members of {group}.",fork_notice:"A new thread will be created with {count} items from {title}",one_person_notified:"1 person will be notified",notify_group:"Notify group"},announcement:{send_discussion:"Send thread",send_discussion_explain:"Invite people to participate in the discussion",send_group:"Invite people to {name}",send_group_explain:"",send_poll:"Send {type}",send_poll_explain:"Invite people to participate in the {type}",send_outcome:"Send outcome",send_outcome_explain:"Notify people about the outcome of the {type}",discussion_notification_history:"Thread notification history",group_notification_history:"Group invitation history",poll_notification_history:"Poll notification history",outcome_notification_history:"Outcome notification history",comment_notification_history:"Comment notification history",notification_history_explanation:" indicates that the notification has been read or the email has been opened",quick_add:"Quick add:",any_other_groups:"Any other groups?",notified_people:"{name} notified {length} people:",preview:"Preview Email",no_notifications_sent:"No notifications have been sent",history_error:"Something went wrong! Could not load history.",inviting_guests_to_thread:"Guests do not belong to your group, and have access to this thread only",select_groups:"Select groups",search_by_name_or_email:"Search by name, or enter emails to invite",search_by_name:"Search for people by name",only_admins_can_announce:"Only admins can notify the whole group",only_admins_can_invite:"Only admins can invite guests",only_admins_can_announce_or_invite:"Only admins can notify the whole group or invite guests",user_mentioned:"{name} mentioned {length} people:",comment_replied_to:"{name} replied to {length} people:",new_discussion:"{name} invited {length} people to the thread:",discussion_announced:"{name} invited {length} people to the thread:",poll_created:"{name} invited {length} people to vote:",poll_announced:"{name} invited {length} people to vote:",outcome_created:"{name} shared an outcome with {length} people:",outcome_announced:"{name} shared an outcome with {length} people:",announcement_created:"{name} invited {length} people to the thread:",discussion_edited:"{name} edited the thread, notifying {length} people:",poll_edited:"{name} edited a poll, notifying {length} people:",outcome_edited:"{name} edited an outcome, notifying {length} people:",outcome_updated:"{name} edited an outcome, notifying {length} people:",poll_closing_soon:"{name}'s poll closing reminder notified {length} people:",poll_reminder:"{name} reminded {length} people to vote:",audiences:{group:"Members of {name}",discussion_group:"Everyone in the thread",voters:"Everyone invited to vote",decided_voters:"Everyone who voted",undecided_voters:"Undecided voters",non_voters:"Members of {name} not yet invited"},form:{too_many_invitations:'Invitation limit exceeded. <a href="{upgradeUrl}" target="_blank">Upgrade</a>\n',no_invitations_remaining:'<p>You have used all {maxMembers} invitations available to this group.</p>\n<p>Next step, <a href="{upgradeUrl}" target="_blank">choose a plan</a> to continue collaborating on Loomio.</p>\n',invitations_remaining:'{count} invitations remaining. <a href="{upgradeUrl}" target="_blank">Upgrade</a>',who_to_invite:"Who would you like to invite?",invitation_message_placeholder:"A message to include in the invitation email. (optional)",invitation_message_label:"Message",group_announced:{title:"Invite to group",helptext:"Who would you like to invite to the group?"},discussion_announced:{title:"Invite to thread",helptext:"Who would you like to invite to the thread?",notify_helptext:"Who would you like to notify about the thread?"},discussion_edited:{title:"Notify of edits",helptext:"Who would you like to notify about this update? (optional)"},poll_announced:{title:"Invite to vote",helptext:"Who would you like to invite to vote?"},poll_reminder:{title:"Remind to vote",helptext:"Who would you like to remind to vote?",message_label:"Message",message_placeholder:"Optional message to tell people why they should vote"},poll_edited:{title:"Notify of edits",helptext:"Who would you like to notify about this update?"},outcome_announced:{title:"Share outcome",helptext:"Summarise the results of the process, including any understandings found or issues brought to light."},anyone_can_participate:"Anyone with link can participate",placeholder:"You can enter names or email addresses",notified_empty:"Nobody selected yet",notified:"{notified} people will be notified.",notified_singular:"1 person will be notified.",notified_none:"Nobody will be notified.",group_title:"{name} ({count} people)",visible_to_group:"Anyone in {group} will be able to see this thread.",visible_to_guests:"Only invited people can see this thread.",click_group_to_see_individuals:"Click group to see individuals"},members_list:{title:"Shared with",last_notified:"Notified",not_notified:"Not notified yet",no_members:"This hasn't been shared with anyone yet!",group_admin:"Group admin",thread_admin:"Thread admin",last_read_at:"Last viewed {time}",has_not_read_thread:"Has not viewed thread"},group_form:{search_placeholder:"Search for people...",modal_title:"Select group members"},flash:{success:"{count} notifications sent"}},action_dock:{actions_menu:"Actions menu",more_actions:"More actions",react:"React",notify:"Notify",add_resource:"Add an attachment",edit_group:"Edit group context",add_comment:"Comment",copy_url:"Copy link",edit_thread:"Edit context",announce_thread:"Send thread",invite_guests:"Invite guests",translate_thread:"Translate context",edit_poll:"Edit poll",edit_poll_type:"Edit {pollType}",move_items:"Move items",announce_poll:"Invite people to vote",announce_poll_active:"(No one has been invited yet)",translate_poll:"Translate poll",edit_stance:"Change position",translate_stance:"Translate vote",edit_comment:"Edit comment",delete_comment:"Delete comment",reply_to_comment:"Reply",fork_comment:"Fork thread",translate_comment:"Translate comment",edit_outcome:"Edit outcome",announce_outcome:"Notify people about this outcome",announce_outcome_active:"(No one has been notified of this outcome yet)",translate_outcome:"Translate outcome",show_history:"Show edit history",edited:"Edited",show_edits:"Show edits",show_notifications:"Show notifications",history:"History",pin_thread:"Pin thread",unpin_thread:"Un-pin thread",pin_event:"Pin to timeline",unpin_event:"Unpin from timeline",comment_copied:"Comment URL copied to clipboard",move_thread:"Move to group",poll_copied:"Decision URL copied to clipboard",discussion_copied:"Thread URL copied to clipboard",url_copied:"Link copied to clipboard",tag_thread:"Manage tags",close_thread:"Close thread",reopen_thread:"Re-open thread",delete_thread:"Delete thread",notification_history:"Notification history",move_item:"Move item",add_poll_to_thread:"Add to thread",count_members:"{count} members",count_voters:"{count} voters"},formatting:{formatting_tools:"Text formatting tools",colors:"Colors",alignment:"Alignment",lists:"Lists",expand:"Show more formatting tools",collapse:"Show fewer formatting tools",bold:"Bold",italicize:"Italicize",blockquote:"Quote",strikethrough:"Strikethrough",underline:"Underline",link:"Insert link",code_block:"Code block",insert_image:"Insert image",insert_emoji:"Insert emoji",attach:"Attach file",heading_size:"Heading size",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",left_align:"Left align",center_align:"Center align",right_align:"Right align",justify_align:"Justify align",paragraph:"Paragraph",bullet_list:"List",number_list:"Numbered list",check_list:"Checklist",reset:"Reset",text_color:"Text color",background_color:"Background color",quote:"Quote",embed:"Embed video",divider:"Divider",add_table:"Add table",remove_table:"Remove table",add_column_before:"Add column before",add_column_after:"Add column after",remove_column:"Remove column",add_row_before:"Add row before",add_row_after:"Add row after",remove_row:"Remove row",merge_selected:"Merge selected cells",wysiwyg:"wysiwyg",edit_markdown:"Edit Markdown",markdown_confirm:"Some formatting may be lost converting wysiwyg content to markdown.",upload_failed:"Upload failed"},cover_photo_form:{aria_label:"Change cover photo form",heading:"New cover photo",upload_link:"Upload new cover photo",image_size_helptext:"Ideal image size is 1400320px",upload_success:"Cover photo successfully updated"},logo_photo_form:{aria_label:"Change group logo form",heading:"New group logo",upload_link:"Upload new group logo",image_size_helptext:"Ideal image size is 100100px",upload_success:"Logo successfully updated"},join_group_button:{not_a_member:"You're not currently a member of this group.",join_group:"Join group",membership_requested:"Membership requested",messages:{joined_group:"You are now a member of {group}"}},membership_request_form:{aria_label:"Membership request form",heading:"Ask to join group",name_label:"Name",email_label:"Email",introduction_label:"Why do you want to join?",submit_button:"Ask to join",introduction_over_limit:"Response too long",messages:{membership_requested:"You have requested membership to {group}"}},revision_history_modal:{aria_label:"Revision history",discussion_header:"Discussion edits",comment_header:"Comment edits",poll_header:"Poll edits",outcome_header:"Outcome edits",stance_header:"Stance edits",started_by:"Started by <strong>{name}</strong>",edited_by:"Edited by <strong>{name}</strong>",edit_by:"Edit by {name}  {date}",posted:"Posted",field:"Field",before:"Before",after:"After",original_text:"Original",current_revision:"Latest",closing_at_changed:"closing time set to {time}",private_changed:"privacy set to {private}",group_id_changed:"moved to {name}"},reactions_input:{add_your_reaction:"Add your reaction"},reactions_display:{more_reactions:"{count} more",you:"You",you_and_name:"You and {name}",you_and_name_and_count_more:"You, {name} and {count} more",name_and_count_more:"{name} and {count} more"},context_panel:{aria_intro:"Thread context by {author}",thread_status:{pinned:"This thread has been pinned. It will remain at the top of the group's list of threads for all users.",closed:"This thread has been closed. It will no longer appear on the dashboard, and will be listed under 'closed' on the group page"}},delete_group_modal:{title:"Delete group",body:"Are you sure you want to delete this group?\nAll threads, polls, files and other group content will be permanently deleted.\nIt is recommended that you export the group data and manually download any important files before you continue.\n",confirm:"Type '%{name}' to confirm you want to delete this group.",success:"This group has been archived and is scheduled for permanent deletion in 2 weeks."},group_page:{stats:"Group stats",threads:"Threads",polls:"Polls",members:"Members",files:"Files",settings:"Settings",subgroups:"Subgroups",show_opened:"{count} Open",show_closed:"{count} Closed",no_threads_here:"No threads to see here!",search_threads:"Search for threads...",private_threads:"You'll need to be a member to view private threads in this group",no_more_threads:"No more threads to load",view_closed_threads:"View closed threads",messages:{privacy:{members:"This group is now visible only to members",parent_members:"This group is now visible only to members of your organization",public:"This group is now visible to the public"},leave_group_success:"You have left this group",archive_group_success:"This group has been deactivated"},group_logo:"Group logo",new_photo:"new photo",new_cover_photo:"Upload new cover photo",new_group_logo:"Upload new group logo",open_discussions:"Open threads",closed_discussions:"Closed threads",discussions_placeholder:"A thread is where everyone can discuss a topic and make decisions together.",members_placeholder:"You're the only one here: invite some people to join you!",member_options:"Member options",see_all_members:"See all {count} members",pending_invitations:"+ {count} pending",subgroups_placeholder:"Subgroups give teams their own space and keep notifications focused to the right people.",invite_people:"Invite",visibility_label:"Visibility",options_label:"Options",options:{label:"Options",edit_group:"Edit group settings",become_coordinator:"Become admin",export_data:"Export group data",export_data_as_json:"Export group data as JSON",export_data_as_csv:"Export group data as CSV",export_data_as_html:"Export group data as HTML",manage_members:"Manage Members",add_subgroup:"Add Subgroup",manage_subscription:"Manage group subscription",email_settings:"Email preferences",leave_group:"Leave group",deactivate_group:"Deactivate group",subscription_status:"Subscription status"},volume:{loud:"Email whenever there is activity.",loud_aria_description:"Your notification volume for this group is set to Loud. You will be emailed whenever there is activity.",loud_message:'You will be emailed about all activity in "{name}."',normal:"Just email important activity: New threads and proposals, outcomes etc.",normal_aria_description:"Your notification volume for this group is set to Normal. You will just be emailed important activity, such as when someone starts a new thread, raises a proposal, or sets an outcome.",normal_message:'You will only be emailed about important events in "{name}".',quiet:"Don't email about this group. Activity will be displayed on the dashboard.",quiet_aria_description:"Your notification volume for this group is set to Quiet. You won't be emailed about activity in this group. Group activity will be displayed on your Dashboard.",quiet_message:'You won\'t be emailed about activity in "{name}".',mute:"Hide this group from the dashboard and do not notify unless @mentioned.",mute_aria_description:"Your notification volume for this group is set to Mute. You won't be emailed unless someone mentions you, and group activity will not be displayed on your Dashboard.",mute_message:'"{name}" has been removed from your dashboard.'},privacy:{private:"Privacy: This group is only visible to members",parent_members:"Privacy: This group is visible to members of {parentGroupName} and members of {groupName}",public:"Privacy: This group is visible on the web",aria_label:"Group privacy: {privacy}"}},export_data_modal:{title:"How do you want to use your data?",as_csv:"Open it in a spreadsheet",as_html:"Open it in a browser",as_json:"Host this group on my own server"},description_card:{title:"Group description",placeholder:"Group admins can use this area to describe the groups purpose, so everyone knows why they are here.",messages:{description_updated:"Description updated"}},leave_group_form:{aria_label:"Leave group",title:"Leave group",question:"Are you sure you want to leave this group?",submit:"Yes, leave this group"},archive_group_form:{aria_label:"Deactivate group",title:"Deactivate group",question:"Are you sure you want to deactivate this group?",submit:"Yes, Deactivate this group"},group_form:{thread_defaults_help:"Default settings for new threads",click_to_change_image:"Cover Image and Logo (click to change)",permissions_explaination:"There are two levels of membership a person can have to a group: admin and member.\nAdmins can edit group settings, make other people admins, and perform all the actions listed below.\n",aria_label:"Group form",parent_group:"Parent group",new_organisation:"New organization",new_group:"New group",new_subgroup:"New subgroup",new_group_explainer:"Start a new Loomio group - an online home for your organization's discussions and decisions",new_subgroup_explainer:"Start a subgroup within an existing group - a private space for a team of people from the organization",start_group_heading:"Start a group",start_subgroup_heading:"Start a subgroup",edit_group_heading:"Edit group settings",edit_subgroup_heading:"Edit subgroup settings",group_settings:"Group settings",subgroup_settings:"Subgroup settings",group_name:"Group name",subgroup_name:"Subgroup name",organization_name:"Organization name",handle:"Handle",group_handle_placeholder:"Used in your group URL: www.loomio.org/{handle}",start_organization_heading:"New organization",edit_organization_heading:"Edit organization settings",group_name_placeholder:"What is the name of your group?",subgroup_name_placeholder:"What is the name of your subgroup?",organization_name_placeholder:"What is the name of your organization?",description:"Description",description_placeholder:"Describe the purpose of your group so your group members know why they are here.",secret_by_default:"Your group will only be accessible by those who are invited to join. You can change this later.",privacy_statement:{public_on_web:"Name, description, and attachments to the group context will be visible to the public",private_to_group:"Name and description will only be visible to members.",private_to_parent_members:"Name and description will be visible to members of {parent}"},privacy:"Privacy",group_privacy_is_open_description:"Publicly listed. Anyone can ask to join. All threads are public.",group_privacy_is_closed_description:"Unlisted. Anyone with the link can ask to join. All threads are private.",group_privacy_is_closed_public_threads_description:"Unlisted. Anyone with the link can ask to join. Threads can be public or private.",group_privacy_is_secret_description:"Only invited people can find the group. All threads are private.",confirm_change_to_secret:"If you proceed, all threads in this group and its subgroups will be made private.",confirm_change_to_secret_subgroup:"If you proceed, all threads will be made private.",confirm_change_to_public:"If you proceed, all threads in this group will be made public on the web.",confirm_change_to_private_discussions_only:"If you proceed, any public threads in this group will be made private.",profile:"Profile",subgroup_privacy_is_open_description:"Anyone can find this subgroup and ask to join. Only members can see who is in the group. All threads are public.",subgroup_privacy_is_closed_description:"Anyone can find this subgroup and ask to join. Only members can see who is in the group. All threads are private.",subgroup_privacy_is_closed_public_threads_description:"Anyone can find this subgroup and ask to join. Only members can see who is in the group. Threads can be public or private.",subgroup_privacy_is_closed_secret_parent_description:"Members of {parent} can find this subgroup and ask to join. All threads are private. Only members can see who is in the group.",subgroup_privacy_is_secret_description:"Only invited members can find this subgroup, see who is in it and see threads.",advanced_settings:"Advanced settings",how_do_people_join:"How do people join?",membership_granted_upon_request:"Anyone can join the group.",membership_granted_upon_approval:"Anyone can request to join but must be approved.",membership_granted_upon_approval_secret_parent:"<strong>By request</strong>  anyone from {parent} can ask to join the group.",permissions:"Permissions",features:"Group-specific features",thread_privacy:"Thread privacy",public_threads:"Public threads only",public_discussions_subgroup:"Anyone in {parentGroupName} can see discussions",public_or_private_threads:"Allow public and private threads",private_threads:"Only members can see discussions",allow_public_threads:"Allow public threads in this group.",parent_members_can_see_discussions:"Members of {parent} can see private threads",parent_members_can_see_discussions_help:"Allow members of the parent group to see, but not participate in, threads and polls within this group",members_can_announce:"Members can notify everyone in the group",members_can_announce_help:"Allow members to notify everyone in the group about a thread or poll",members_can_add_members:"Members can invite members",members_can_add_members_help:"Allow members to invite people to join this group",members_can_add_guests:"Members can invite guests",members_can_add_guests_help:"Allow members to invite guests into threads or polls in this group",members_can_create_subgroups:"Members can create subgroups",members_can_create_subgroups_help:"Allow members to create and become admins of new subgroups",members_can_edit_discussions:"Members can manage threads and comments",members_can_edit_discussions_help:"Allow members to edit, move, pin, tag or close threads",members_can_edit_comments:"Members can edit their own comments",members_can_edit_comments_help:"Allow members to edit their own comments at any time",members_can_delete_comments:"Members can delete their own comments",members_can_delete_comments_help:"Allow members to delete their own comments from threads",members_can_start_discussions:"Members can start new threads",members_can_start_discussions_help:"Allow members to start new threads within the group",members_can_raise_motions:"Members can start polls",members_can_raise_motions_help:"Allow members to start polls and proposals within discussions or the group",admins_can_edit_user_content:"Admins can edit members' comments",admins_can_edit_user_content_help:"Allow admins to edit content written by members",submit_start_group:"Start group",submit_start_subgroup:"Start subgroup",submit_update:"Update settings",messages:{group_created:"Group started",group_updated:"Group updated"},upload_logo:"Upload logo",upload_cover_photo:"Upload cover photo"},group_export_modal:{title:"Export group data",body:"<p>\n  You may download a copy of your group's data at any time.\n  <a href=\"https://help.loomio.org/en/user_manual/groups/data_export/\">Find out more.</a>\n</p>\n<p>\n  It takes a few minutes to complete, depending on the size of your group.\n  When it's ready you'll receive an email with a link to download the file.\n</p>\n",submit:"Start export",flash:"Group data export started"},membership_requests_card:{heading:"Membership Requests",manage_requests:"Manage requests",manage_requests_with_count:"Manage requests ({count})"},membership_requests_page:{heading:"Membership Requests",approve:"Approve",ignore:"Ignore",no_pending_requests:"There are currently no pending membership requests for this group.",no_previous_requests:"There are currently no previous membership requests for this group.",previous_requests:"Previous Requests",previous_request_response:"{response} by {responder} ",messages:{request_approved_success:"Membership request approved",request_ignored_success:"Membership request ignored"}},group_previous_proposals_card:{heading:"Previous proposals",see_more:"See more"},group_decisions_card:{see_more:"See all: ({count}) decisions"},invitation_form:{group_url:"Group URL",reusable_invitation_link:"Reusable invitation link",error:"Error when trying to copy to clipboard",aria_label:"Invitation form",invite_people:"Invite people",invite_guests:"Invite guests",notify_people:"Notify people",invite_people_to_group:"Invite to {name}",group:"Group",group_placeholder:"Select a group",shareable_link:"Shareable link",share_group:"Share your group",copy_link:"Copy",email_addresses:"Email addresses",email_addresses_placeholder:"e.g. helperbot@loomio.org, friendlybot@loomio.org",secret_group_url_explanation:"This is the address for your group. Only invited members will be able to see the group.",shareable_group_url_explanation:"You can share this link publicly. People can request to join and you can approve or ignore requests.",shareable_invitation_explanation:"Do not share this link publicly. Anyone with it can join your group without your approval. Share this only within private communications to allow people in your organization to join.",shareable_link_reset:"Shareable link reset. The previous link will no longer work.",email_explanation:"Alternatively, enter email addresses below to send invitations by email.",add_custom_message:"Make your invite personal, ",add_custom_message_link:"add a custom message.",custom_message:"Custom message",custom_message_placeholder:"Enter a personal message to include with the invitation.",team_invitation_message:"Alternatively, ",team_invitation_link:"get a link to share.",add_members:"Add members",from_parent_group:"from {name}.",send:"Send",done:"Done",messages:{invitation_sent:"Invitation sent.",invitations_sent:"{count} invitations sent.",no_invitations:"Uhoh! Please verify the email address is correct and try again.",max_invitations:"If you want to send more than 100 invitations, use a team link."}},memberships_page:{members:"Members",name_label:"Name",coordinator_label:"Admin",remove_member_label:"Remove",fragment_placeholder:"Filter users by name or username...",only_one_admin:"There is only one admin in this group. It's recommended that you appoint at least one more member as an admin.",messages:{remove_member_success:"Removed {name}",make_admin_success:"{name} is now an admin",remove_admin_success:"{name} is no longer an admin"},remove_admin_from_self:{question:"Are you sure you no longer want to be an admin?"}},membership_remove_modal:{invitation:{title:"Cancel invitation",message:"Are you sure you want to cancel the invitation to {name}?",flash:"Invitation cancelled",submit:"Cancel invitation"},membership:{title:"Remove member",message:"Are you sure you want to remove {name}?",impact_for_subgroup:"This will remove their access to the subgroup (including threads and polls), but they will remain a member of the parent group.",impact_for_group:"This will remove their access to the group (including threads and polls) and any subgroups.",flash:"Member removed",submit:"Remove member"}},memberships_panel:{add_coordinator:"Make Admin",remove_coordinator:"Demote admin"},membership_form:{modal_title:{group:"Set group title"},title_helptext:{group:"This title will appear beside {name}'s name within this group. Use it to let people know their role."},title_label:"title",title_placeholder:"E.g. 'Coordinator', or 'Facilitator'",updated:"Membership title updated"},user_page:{contact_user:"Contact {name}",location_field:"Location: {value}",locale_field:"Language: {value}",online_field:"Online: {value}",invited:"Invited {value}",message_user:"Message {name}"},contact_request_form:{modal_title:"Email {name}",message_placeholder:"Introduce yourself and share why you'd like to make contact.",helptext:"{name} will be emailed your name, email address, and message",email_sent:"Email sent to {name}"},profile_page:{messages:{updated:"Profile updated",picture_changed:"Profile picture updated",password_changed:"Password updated",deactivated:"Account deactivated"},merge_accounts:"Merge accounts",change_picture_link:"Change picture",change_password_link:"Reset password",delete_account:"Permanently Delete account",delete_user_link:"Delete account",profile:"Profile",edit_profile:"Edit Profile",picture_label:"Picture",name_label:"Name",username_label:"Username",username_helptext:"All lowercase letters and numbers, maximum 30 characters",email_label:"Email",short_bio_label:"Introduction",locale_label:"Language",short_bio_placeholder:"Please introduce yourself, include areas of expertise, topics of interest, and any affiliated organizations",locale_placeholder:"Select your preferred language",location_label:"Location",location_placeholder:"Where are you based?",update_profile:"Update profile",deactivate_account:"Deactivate user account",help_translate:"Help us translate Loomio"},text_editor:{select_text_to_link:"First, select some text to link",insert_link:"Insert link",insert_embedded_url:"Embed video"},change_picture_form:{aria_label:"Profile photo form",title:"Set profile photo",helptext:'You can upload your own profile picture, or if you have a <a href="https://en.gravatar.com/support/whatisgravatar/">Gravatar</a> account, you can use that.',use_initials:"Use initials",use_gravatar:"Use Gravatar",use_uploaded:"Upload new photo",use_provider:"Use {provider} photo"},change_password_form:{set_password_title:"Set your password",set_password_helptext:"Please enter a password - minimum 8 characters",set_password:"Set password",password_changed:"Your password has been updated"},deactivation_modal:{aria_label:"Deactivate user account",introduction:"When you deactivate your account:",you_will_be_deleted:"Your user account including your name, email address and other personally identifying data will be deleted from our systems.",name_removed:"Comments, proposals and discussions youve made will remain but your name will be removed from them",no_longer_group_member:"You will no longer be listed as a member of any groups",no_emails:"You will no longer receive notification emails",you_can_reactivate:"You can reactivate your account later if you wish",submit:"Yes, I want to deactivate",submit_delete:"Delete my account now"},email_settings_page:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday",every_day:"Every day",every_second_day:"Every second day",never:"Off",header:"Notification settings",account_deactivated:"Your account has been deactivated. You will not receive any emails, ever.",deactivate_header:"Stop all emails forever",deactivate_description:"If you never want to get another email from us ever again, you can deactivate your user account.",email_newsletter:"Loomio Newsletter",email_newsletter_description:"Get updates about new features, training, events in your city and the future of Loomio. Usually 2 or 3 emails per year.",email_catch_up_day:"Catch-up summary email",daily_summary_description:"Choose when to receive the catch-up summary email. This email contains any new activity that you have not seen. A good way to stay up-to-date if you're not a regular user.\n",on_participation_label:"Subscribe on participation",on_participation_description:"When you participate in a thread, all further activity will be emailed to you immediately.",announcement_label:"Announcements",announcement_description:"You will receive an email about all content that has been announced by people in your groups",mentioned_label:"Mentions & Replies",mentioned_description:"When someone @mentions you in a comment or replies to you, you'll get a notification email",update_settings:"Save changes",specific_groups:"Settings for specific groups",default_settings:{loud_description:"When you join a new group, you will be emailed <strong>whenever there is activity</strong>.",normal_description:"When you join a new group, you will be emailed about <strong>new threads and proposals</strong>.",quiet_description:"When you join a new group, you <strong>won't be emailed about activity</strong>."},edit:"Edit",messages:{updated:"Email settings updated"},learn_more:"Learn more about email settings..."},thread_preview:{replies_count:"{count} replies",unread_count:"{count} unread"},dashboard_page:{aria_label:"Dashboard",no_groups:{show_all:'Welcome! You are not a member of any groups yet. <a href="/explore">Browse public groups</a> or <a href="/g/new">Start a group</a>.',show_muted:"You don't have any muted threads because you are not a member of any groups."},no_threads:{show_all:"You don't have any recent threads.",show_proposals:"There are no proposals currently active.",show_muted:"You don't have any muted threads."},view_recent:"View all recent threads?",load_more:"Load more threads",mark_as_read:"Mark as read",dismiss:"Dismiss",thread_dismissed:"Thread marked as read",thread_recalled:"Thread recalled",explain_mute:{title:"You haven't muted any threads yet.",explanation_html:"Muting is a way to hide or silence threads you're not interested in.\nMuting means you won't see it in <strong>Recent</strong> or <strong>Unread</strong>, and you won't be notified about activity in that thread, like proposals.\nYou'll only be alerted if someone <strong>@mentions</strong> your name.\n",instructions:"To mute a thread, hover over it and click the mute icon.",see_muted_html:'To see your muted threads, click <strong>"Muted"</strong>. You can unmute by hovering and clicking the same icon.'},filtering:{filter_threads:"Filter Threads",filter_threads_aria_label:"Filter Threads",dropdown_heading:"Filter dashboard",all:"Recent Threads",all_aria_label:"Currently showing recent threads",all_description:"View recent threads",proposals:"Proposals",proposals_aria_label:"Currently showing threads with active proposals",proposals_description:"View only threads with active proposals",muted:"Muted Threads",muted_aria_label:"Current showing muted threads",muted_description:"View only threads which have been muted"},aria_thread:{unread:"{count} unread items.",current_proposal:"Current proposal: {name}.",you_voted:"You voted: {position}."},thread_preview:{you_voted:"You voted {position}",undecided:"You are undecided"},threads_from:{group:"Threads from",pinned:"Pinned threads",proposals:"Threads with active decisions",starred:"Starred threads",today:"Today",yesterday:"Yesterday",thisweek:"This week",thismonth:"This month",older:"Older than a month"}},threads_page:{no_direct_threads:"You have no direct threads",no_invite_only_threads:"You have no invite-only threads"},inbox_page:{no_threads:"Woohoo! You've read all the threads in your inbox.",unread_threads:"Unread Threads",view_more:"View More",no_groups:{explanation:"You have no unread threads because you are not a member of any groups.",start:"Start",or:"or",join_group:'<a href="/explore">join</a> a group to see threads.'}},discussion:{invite_only:"Invite-only",private_thread:"Private thread",max_threads_reached:'<p>You have used all {maxThreads} threads available to this group.</p>\n<p>Next step, <a href="{upgradeUrl}" target="_blank">choose a plan</a> to continue collaborating on Loomio.</p>\n',subscription_canceled:'<p>Your subscription is not active.</p>\n<p>Please <a href="{upgradeUrl}" target="_blank">upgrade</a> to continue using Loomio.</p>\n',activity:"Activity",activity_placeholder:"No activity yet!",load_previous:"Load earlier activity",started_by:"Started by <strong>{name}</strong>",pin:{pinned:"Thread pinned",unpinned:"Thread unpinned"},volume:{mute_message:"Thread muted",unmute_message:"Thread unmuted"},closed:{reopened:"Thread reopened",closed:"Thread closed"}},discussion_last_seen_by:{title:"Seen by",no_one:"No one has seen this yet"},activity_card:{aria_label:"Comment or start a poll",count_responses:"{count} responses",event_pinned:"Pinned to timeline",event_unpinned:"Unpinned from timeline",beginning:"Beginning",end:"End",unread:"Unread ({count})",latest:"Latest",context:"Context",chronological:"Chronological",nested:"Nested",attachment_display:{aria_label:"File attached:",image_alt:"Attached image"},n_previous:"Load {count} previous responses",n_more:"Load {count} responses",add_comment:"Add comment",add_poll:"Add poll",add_outcome:"Add outcome",comment:"Comment",facilitate:"Facilitate"},thread_group:{aria_label:"Group name"},thread_context:{current_poll_type_banner:"Current {pollType}",item_maybe_deleted:"Cannot find the requested location within the thread. It may have been deleted.",aria_label:"Thread context",thread_options:"Thread options",email_settings:"Notification settings",edit:"Edit",edit_thread:"Edit",close_thread:"Close",reopen_thread:"Reopen",pin_thread:"Pin",unpin_thread:"Unpin",mute_thread:"Mute",move_thread:"Move",print_thread:"Print",delete_thread:"Delete",add_comment:"Comment",seen_by_count:"Seen by {count}",count_notified:"Notified {count}",forked_from:"Forked from"},pin_thread_modal:{title:"Pin thread",helptext:"Pinned threads always appear at the top of their group's list of threads. They can be used to inform members of important announcements, or to promote common material like a code of conduct or community guidelines.",helptext_two:"You may remove pins at any time by selecting 'Unpin' from the thread dropdown",pin_thread:"Pin thread"},thread_arrangement_form:{title:"Thread layout",for_everyone:"This changes the layout for everyone, not just you.",sorting:"Oldest or Newest first?",latest:"Newest",latest_description:"Read the newest things first",earliest:"Oldest",earliest_description:"Read from beginning to end",replies:"How to display replies?",linear:"Flat list",linear_description:"Items listed as they happened, one after the other.",nested_once:"Nest replies - first reply only",nested_once_description:"Indent replies under original comment",nested_twice:"Two levels of nested replies",nested_twice_description:"Indent replies upto 2 times.",changing_nesting_is_slow:"Changes to nesting can take a couple of minutes to process."},delete_thread_form:{aria_label:"Delete thread",title:"Delete thread",body:"Are you sure you want to delete this thread?",confirm:"Delete thread",messages:{success:"Thread deleted"}},move_thread_form:{aria_label:"Move thread",title:"Move thread",body:"Destination group",confirm:"Move thread",confirm_change_to_private_thread:"{groupName} is an open group. If you proceed, this thread will be made public.",messages:{success:"Thread has been moved to {name}"}},delete_comment_dialog:{title:"Delete comment",question:"Are you sure you want to delete this comment?",confirm:"Delete comment"},contact_message_form:{title:"Hi there! How can we help?",read_the_manual:'Have you seen our <a href="{link}" target="_blank">Help Manual</a>? We update it regularly with frequently asked questions and answers.\n',contact_us_email:'You can also email us: <a href="mailto:{email}">{email}</a>',contact_us:"Contact Us",name_label:"Your name",name_placeholder:"Enter your name...",subject_label:"Subject",subject_placeholder:"Eg: Trouble signing in, or Feature suggestion\n",email_label:"Your email address",email_placeholder:"Enter your email address...",message_label:"Your message",message_placeholder:"If requesting support please try to provide as much information as you can.",send_message:"Send Message",new_contact_message:"Thanks for getting in touch; we'll get back to you soon!",consent_message:"By contacting us you consent to our staff accessing your account as necessary. <br />\nOur support team speak English and will translate your message with Google Translate if required. <br />\nWe aim to respond to all messages within 24 hours.\n",success:"Thanks for your message, {name}. You'll hear back from us soon."},hint:{context:"Tips for using the context panel",discussion:"Tips for starting an engaging discussion",invitation:"Tips for writing a great invitation",proposal:"Tips for writing a clear proposal",vote:"You can change your position at any time"},explore_page:{header:"Explore groups",search_placeholder:"Search for public groups",single_search_result:"1 public group matching <strong>{searchTerm}:</strong>",multiple_search_results:"{resultCount} public groups matching <strong>{searchTerm}:</strong>",no_results_found:"<strong>Can't find the group you're looking for?</strong> If a group's privacy is set to 'secret', it won't appear here.",newest_first:"Newest first",biggest_first:"Biggest first",order_by:"Order groups by"},global:{messages:{app_update:"A new version of the app is available",reload:"Reload"}},decision_tools_card:{choose_type:"Choose poll type",title:"Facilitate",help_text:'<a href="https://help.loomio.org/en/user_manual/getting_started/decision_tools/" target="_blank">Help</a>',proposal_title:"Proposal",count_title:"Check",poll_title:"Poll",score_title:"Score poll",dot_vote_title:"Dot Vote",meeting_title:"Time poll",ranked_choice_title:"Ranked choice"},poll_common:{vote_now:"Vote now",review_due:"Review due",have_your_say:"Have your say",your_response:"Your response",change_your_response:"Edit response",reason:"Reason",reason_placeholder:"Briefly explain why you voted this way, then click 'Submit Vote'",message:"Message",results:"Results",responses:"Responses",close_poll_type:"Close {pollType}",totals:"Totals",participate:"Participate",vote:"Vote",votes:"Votes",update_outcome:"Update outcome",outcome:"Outcome",statement:"Statement",change_your_stance:"Edit response",load_more:"Load more",details:"Details",participant_name:"Your name",participant_email:"Email address",submit_vote:"Submit vote",update_vote:"Update vote",share_poll:"Share poll",share_proposal:"Share proposal",share_count:"Share check",start_poll:"Start a decision",publish_poll:"Share poll",view_all:"View all",save_changes:"Save",change_vote:"Change your vote",max_score:"Maximum score",min_score:"Minimum score",too_long:"Too long",edit_warning:"Editing is only recommended for minor changes or fixing spelling errors. For significant changes, close this {pollType} and start a new one.",no_voting:"For discussion only, voting disabled"},poll_common_attachment_form:{label:"Attachments"},poll_common_add_option:{button:{add_option:"Add another option"},modal:{title:"Add an option"},form:{add_options:"Add options",options_added:"New options added"}},poll_common_card:{show_results:"Show results",hide_results:"Hide results",deleted:"This poll has been deleted"},poll_common_index_card:{title:"Previous decisions",no_polls:"No previous decisions found",count:"See all: ({count}) decisions"},discussions_panel:{open:"Open",all:"All",unread:"Unread ({count})",closed:"Closed",include_subgroups_mine:"{name} and my subgroups",include_subgroups_all:"{name} and all subgroups",no_results_found:'No results for "{search}"'},members_panel:{no_results:"No members found",everyone:"Everyone",sort:"Sort",order_label:"Order",order_by_name:"Name",order_by_created:"Oldest",show_users_in_subgroups:"Show users in subgroups as well",order_by_created_desc:"Newest",order_by_admin_desc:"Admins",loaded_of_total:"{loaded} of {total}",view_requests:"View requests",header_name:"Name",header_username:"Username",header_role:"Role",header_invited_by:"Invited by",header_invited:"Invited",header_actions:"Actions",directory:"Directory",invitations:"Invitations",requests:"Requests",admin:"Admin",guest:"Guest",sharable_link:"Shareable Link",last_seen:"Last seen {date}",invited_by_name:"Invited by {name}",accepted:"Members"},polls_panel:{new_poll:"New poll",any_type:"All types",any_status:"Any status",all:"All",open:"Open",closed:"Closed",no_polls:"No polls found"},group_files_panel:{no_files:"No files found",filename:"Filename",uploaded_by:"Uploaded by",uploaded_at:"Uploaded at",delete_confirmation:"Are you sure you want to delete this attachment? It will be removed from any associated comment or thread. This cannot be undone.\n"},subgroups_panel:{search_subgroups_of_name:"Search subgroups of {name}",group_without_subgroups:"{name} without subgroups"},poll_common_action_panel:{anonymous:"Votes are anonymous",results_hidden_until_closed:"Results are hidden until the %{poll_type} has closed",unable_to_vote:"You have not been invited to vote in this %{poll_type}.",draft_mode:"This %{poll_type} is a work in progress. Voting is disabled."},current_polls_card:{title:"Current decisions",start_poll:"New decision",no_polls:"There are no active decisions right now."},poll_common_collapsed:{by_who:"by {name}"},poll_common_select_group:{loomio_group:"Group",loomio_group_placeholder:"(no group selected)"},poll_common_calendar_invite:{calendar_invite:"Include a calendar invitation with this outcome",poll_option_id:"Meeting time",helptext_on:"Users will be able to add this meeting to their calendar",helptext_off:"No meeting invite will be sent",event_duration:"Duration",event_summary:"Meeting name",event_summary_placeholder:"What would you like to call this meeting?",event_description:"Meeting description",event_description_placeholder:"What is the agenda for this meeting?",location:"Location",location_placeholder:"Where will this meeting take place?"},poll_common_settings:{who_can_vote:"Who can vote?",specified_voters_only_true:"Invited people only",specified_voters_only_false_group:"Anyone in the group",specified_voters_only_false_discussion:"Anyone in the thread",invite_people_next:"You can choose who is invited to vote after you start the {poll_type}",multiple_choice:{title:"Multiple choice",helptext_on:"When selected, participants will be able to select multiple options."},anyone_can_participate:{title:"Anyone with link can participate",helptext_on:"When selected, anyone with the link to the poll can participate."},notify_on_closing_soon:{closes_too_soon:"Because this {pollType} closes within 24 hours, no closing soon reminders will be sent.",title:"24 hours before {pollType} closes, send a reminder to",nobody:"Nobody",author:"Author (me)",undecided_voters:"Undecided voters",voters:"All voters"},notify_on_participate:{title:"Notify me when people participate",helptext_on:"When selected, you will be notified whenever someone participates."},anonymous:{title:"Anonymous voters",helptext_on:"When selected, participant info will not be shown with each response."},voter_can_add_options:{title:"Voters may add options",helptext_on:"When selected, participants may add their own options when voting."},can_respond_maybe:{title:'Voters can respond "if need be"',helptext_on:'Voters can indicate times as "If need be"'},hide_results_until_closed:{title:"Hide results until closed",helptext_on:"Don't show the how people have voted until the poll is closed"}},poll_common_close_form:{title:"Close a poll early",helptext:"Are you sure you want to close this %{poll_type} early?",close_proposal:"Close proposal",close_poll:"Close poll",close_count:"Close check",close_dot_vote:"Close dot vote",close_meeting:"Close time poll",close_ranked_choice:"Close ranked choice poll",proposal_closed:"Proposal closed",poll_closed:"Poll closed",count_closed:"Check closed",dot_vote_closed:"Dote vote closed",meeting_closed:"Time poll closed",ranked_choice_closed:"Ranked choice poll closed"},poll_common_reopen_form:{title:"Reopen {poll_type}",helptext:"Reopen the {poll_type} if people need more time to participate",success:"{poll_type} reopened"},poll_common_move_form:{title:"Move {poll_type}",success:"{poll_type} moved to {group}"},poll_common_wip_field:{title:"Work in progress",helptext:'Use "Work in progress" to collaborate on the %{poll_type} before voting'},poll_common_closing_at_field:{closing:"Closing",no_closing_date:"No closing date",closing_date:"Closing date",closing_hour:"Closing time",invalid_date:"Invalid date"},poll_card:{started_by:"Started by {name}"},poll_common_votes_panel:{undecided:"Undecided",newest_first:"Newest first",oldest_first:"Oldest first",priority_first:"Agree first",priority_last:"Block first",undecided_first:"Undecided first",no_votes_yet:"No votes have been placed yet.",change_results_order:"Change results order",none_of_the_above:"(None of the above)"},poll_common_undecided_panel:{show_undecided:"Show {count} undecided",show_invitations:"Show Pending Invitations",undecided_users:"Undecided ({count})",invitation_count_singular:"1 additional person has been invited to participate via email",invitation_count_plural:"{count} additional people have been invited to participate via email"},poll_common_undecided_user:{reminded:"Reminder sent!",reminder_sent:"Reminder notification sent"},poll_common_set_outcome_panel:{enter_outcome:"Enter outcome",share_outcome:"Share outcome",poll:"This poll has closed. <strong>Share the outcome</strong> with the group.",proposal:"This proposal has closed. Please consider what as been said and <strong>share an outcome</strong>, so people know whatll happen next.",count:"This check has closed. <strong>Share an outcome</strong> to complete the process.",meeting:"This time poll has closed. <strong>Share an outcome</strong> to let others know when the meeting will happen.",dot_vote:"This dot vote has closed. <storng>Share an outcome</strong> with the group.",ranked_choice:"This ranked choice poll has closed. <strong>Share an outcome</strong> with the group.",score:"This score poll has closed. <strong>Share an outcome</strong> with the group."},poll_common_outcome_form:{who_to_notify:"Who do you want to notify about this outcome?",new_title:"Enter an outcome",update_title:"Update outcome",outcome_created:"Outcome created",outcome_updated:"Outcome updated",statement_placeholder:"Summarise the responses and explain what will happen next.",you_will_be_notified:"You will be notified on the review date.",submit:"Share outcome"},poll_common_outcome_panel:{authored_by:"By {name}"},poll_common_delete_modal:{question:"Are you sure you want to delete this?",title:"Delete {pollType}",success:"Successfully deleted"},poll_common_form:{title:"Title",details:"Details",options:"Options",options_placeholder:"List the options available",no_options:"You haven't added any options yet.",closing:"Closing",closed:"Closed",start:"Start",start_poll_type:"Start {poll_type}",share_poll_type:"Share {poll_type}",update:"Update",loomio_school_link:'<p>Find out more at <a href="https://help.loomio.org/en/user_manual/getting_started/decision_tools/" target="_blank">Loomio Help</a>.</p>\n'},poll_proposal_form:{tool_tip_expanded:"<p>A proposal is a tool for seeking collective agreement about a statement or course of action.</p>\n<p>Participants can agree, abstain, disagree or block - and give a statement to explain their position.</p>\n<p>A pie chart gives an overview of the positions in the group, while the statements allow individual voices to be heard. </p>\n<p>Don't be discouraged if you don't see agreement at first, proposals are designed to surface issues that need resolving.</p>\n<p>With good participation a proposal is a powerful mandate to take action.</p>\n",tool_tip_collapsed:"Seek agreement or feedback from others.",start_header:"Start proposal",edit_header:"Edit proposal",tip:'Seek collective agreement through a process which allows all voices to be heard. <a href="https://help.loomio.org/en/user_manual/getting_started/decision_tools/#proposal" target="_blank">Learn more</a>',title_placeholder:"E.g. Let's go to the moon!",details_placeholder:"Give enough information so everyone knows what it means to agree or disagree",proposal_created:"Proposal started",proposal_updated:"Proposal updated"},poll_poll_form:{tool_tip_expanded:"<p>Use a poll to measure popularity or offer a choice.</p>\n<p>Provide some options to choose from. Decide if participants choose single or multiple options as their response.</p>\n<p>Everyone votes, and can enter a statement too if they like. Results are represented in a bar graph.</p>\n",tool_tip_collapsed:"Choose from a list of options",start_header:"Start poll",edit_header:"Edit poll",tip:"Offer a choice between options",title_placeholder:"E.g. Where do you want to go on holiday?",details_placeholder:"Provide any clarifying details people might need to answer the question.",add_option_placeholder:"Add option",remove_option:"Remove option",poll_created:"Poll created",poll_updated:"Poll updated"},poll_count_form:{tool_tip_expanded:'<p>A <em>check</em> is a tool with many possible uses but only 2 responses: a tick () or an x mark (). Participants will use the tick () to say yes and the x mark () to say no or unsure.</p>\n<p>Use it to engage people with an offer, like an RSVP: "I\'m coming to the event" or "I\'ll join the working group".</p>\n<p>Or use it to track completion of a task: "I\'ve checked my contact details are correct", or "I\'ve read the document and left my feedback".</p>\n<p>A check has a <em>goal</em>, which is the number of participants you\'d like. The goal indicates to the group if something needs more attention or is well subscribed.</p>\n<p>A day before the check closes, it will remind those who have not participated to do so - like a digital cat herder.</p>\n',tool_tip_collapsed:"Count how many people have completed a task, or ask for volunteers",start_header:"Start check",edit_header:"Edit check",tip:"Ask who has completed a task, or wishes to volunteer",title_placeholder:"E.g. Who wants to join the working group?",details_placeholder:"Explain what commitment is involved, or give details about how to participate.",count_created:"Check started",count_updated:"Check updated"},poll_dot_vote_form:{tool_tip_expanded:"<p>Dot voting is a way to prioritise a list of options.</p>\n<p>Participants are given a limited number of dots which they can allocate however they like among the options provided to represent their own preferences.</p>\n<p>The totals of the results are shown, as well as and the individual votes, so you can consider various points of view.</p>\n",tool_tip_collapsed:"Allocate a budget of points",start_header:"Start dot vote",edit_header:"Edit dot vote",tip:"Allocate a budget of points",title_placeholder:"E.g. How should we allocate our budget?",details_placeholder:"Provide any clarifying details people might need to participate",add_option_placeholder:"Add option",dots_per_person:"Points per person",dots_per_person_helptext:"The total number of points each person is asked to allocate.",dot_vote_created:"Dot vote created",dot_vote_updated:"Dot vote updated"},poll_score_form:{tool_tip_expanded:"<p>Score polls allow people to express their degree of preference for each option.</p>\n<p>The total score of each option is shown as part of the results.</p>\n",tool_tip_collapsed:"Score options on a scale",start_header:"Start score poll",edit_header:"Edit score poll",tip:"Score each option on a sliding scale",title_placeholder:"E.g. Score candidates on scale of 0-9",details_placeholder:"Provide any clarifying details people might need to participate",add_option_placeholder:"Add option",score_created:"Score poll created",score_updated:"Score poll updated"},poll_meeting_form:{tool_tip_expanded:"<p>Use a time poll to find when people are available to meet.</p>\n<p>Enter a list of dates or times when you could have your meeting.</p>\n<p>Participants tick those which theyre able to attend, or they can use the statement field to explain their circumstances, so you can update the options if necessary.</p>\n<p>If you add new times during a time poll, people who have already voted are prompted to update their response.</p>\n<p>You can then see whos available when, and decide when to meet.</p>\n<p>Times are automatically converted to the participant's local time zone.</p>\n",tool_tip_collapsed:"Find when people are available to meet",start_header:"Start time poll",edit_header:"Edit time poll",tip:"Find when people are available to meet",title_placeholder:"E.g. When should we have our next meetup?",details_placeholder:"Provide any clarifying details people might need to participate",meeting_created:"Time poll created",meeting_updated:"Time poll updated",timeslots:"Time slots",no_options:"Enter times in your current time zone ({zone}). Participants see times translated to their local time zone.",meeting_duration:"Meeting duration",add_option_placeholder:"Add new time",time_slot_added:"Time slot added",time_slot_already_added:"Time slot already added"},poll_ranked_choice_form:{tool_tip_expanded:"<p>Ranked choice is a voting method which allows each voter to respond with their preferences in order.</p>\n<p>It's preferable when 'vote stealing' is a concern (ie, two somewhat popular options are similar enough that they\n   end up sharing votes between them), and can be used to implement a Condorcet, or Instant Runoff style election.\n</p>\n",tool_tip_collapsed:"Rank options from first to last",start_header:"Start ranked choice",edit_header:"Edit ranked choice",tip:"Rank options from first to last",title_placeholder:"E.g. Who would you like as mayor?",details_placeholder:"Provide any clarifying details people might need to participate",meeting_created:"Ranked choice created",meeting_updated:"Ranked choice updated",no_options:"You haven't added any options yet.",add_option_placeholder:"Enter a new choice",minimum_stance_choices:"Options to rank",minimum_stance_choices_helptext:"Number of options each voter may rank",ranked_choice_created:"Ranked choice created",ranked_choice_updated:"Ranked choice updated",rank:"Rank",points:"Points"},poll_meeting_time_field:{add_time_slot:"Add time slot",new_time_slot:"New time slot",closing_hour:"Closing hour"},poll_proposal_vote_form:{default_reason_placeholder:"Please explain your reasoning",abstain_reason_placeholder:"Let people know why youre opting out of this decision",agree_reason_placeholder:"What do you like about the proposal and how will it benefit the group?",disagree_reason_placeholder:"How could this proposal be improved so that you can support it?",block_reason_placeholder:"Explain your objection to this proposal and why it should not go ahead",stance_created:"Vote created",stance_updated:"Vote updated",vote:"Vote"},poll_proposal_options:{agree:"Agree",consent:"Consent",agree_verb:"agreed",agree_meaning:"This proposal is good enough to be adopted by the group",abstain:"Abstain",abstain_verb:"abstained",abstain_meaning:"Not sure, dont know or dont mind. Will support the outcome either way",disagree:"Disagree",disagree_verb:"disagreed",disagree_meaning:"I dont support the proposal. It should not go ahead.",objection:"Objection",block:"Block",block_verb:"blocked",block_meaning:"The urgent attention of the group is required to address a deep concern",agree_abstain_disagree_block:"Agree, Abstain, Disagree, Block",agree_disagree:"Agree, Disagree",agree_abstain_disagree:"Agree, Abstain, Disagree",consent_abstain_object:"Consent, Abstain, Objection",no_voting:"No voting"},poll_count_options:{yes:"Yes",no:"No"},poll_count_vote_form:{reason_label:"Message",reason_placeholder:"Leave a message if you like",stance_created:"Vote created",stance_updated:"Vote updated"},poll_common_percent_voted:{sentence:"{numerator} of {denominator} people have voted ({percent}%)"},poll_count_chart_panel:{out_of:"out of {goal}"},poll_meeting_chart_panel:{total:"Total"},poll_poll_vote_form:{stance_created:"Vote created",stance_updated:"Vote updated"},poll_score_vote_form:{stance_created:"Vote created",stance_updated:"Vote updated"},poll_meeting_vote_form:{local_time_zone:"Local time - {zone}",can_attend:"Can attend",unable:"Unable",if_need_be:"If need be",your_response:"When can you attend?",stance_created:"Availability saved",stance_updated:"Availability updated",reason_placeholder:"Explain when you're free (or busy), in case the author wants to add options."},poll_dot_vote_vote_form:{dots_remaining:"{count} dots remaining",too_many_dots:"You have used too many dots",stance_created:"Vote created",stance_updated:"Vote updated"},poll_ranked_choice_vote_form:{helptext:"Drag and drop options in order of preference (1 being your most preferred option). Your top {count} choices will be recorded.",stance_created:"Choice recorded",stance_updated:"Choice updated"},thread_item:{aria:{deleted:"Item deleted",new_comment:"{actor} commented. {when}",poll_created:"{actor} started a {pollType}. {when}",stance_created:"{actor} voted. {when}",outcome_created:"{actor} shared an outcome. {when}",poll_expired:"{pollType} closed. {when}"},removed:"Item removed",deleted_group:"Deleted group",comment_replied_to:"<a class='actor-link' href='/u/{username}'>{author}</a> in reply to <strong>{title}</strong>",discussion_title_edited:"<a class='actor-link' href='/u/{username}'>{author}</a> edited the thread title",discussion_context_edited:"<a class='actor-link' href='/u/{username}'>{author}</a> edited the thread context",discussion_attachments_edited:"<a class='actor-link' href='/u/{username}'>{author}</a> edited the thread's attachments",discussion_privacy_edited:"<a class='actor-link' href='/u/{username}'>{author}</a> changed the thread privacy",discussion_edited:"<a class='actor-link' href='/u/{username}'>{author}</a> edited the thread",discussion_moved:"<a class='actor-link' href='/u/{username}'>{author}</a> moved the thread from <strong>{title}</strong>",discussion_closed:"<a class='actor-link' href='/u/{username}'>{author}</a> closed the thread",discussion_reopened:"<a class='actor-link' href='/u/{username}'>{author}</a> reopened the thread",discussion_forked:"<a class='actor-link' href='/u/{username}'>{author}</a> created a fork of this thread: <strong><a href='d/{key}'>{title}</a></strong>",new_comment:"<a class='actor-link' href='/u/{username}'>{author}</a>",outcome_created:"<a class='actor-link' href='/u/{username}'>{author}</a> shared an outcome",poll_reopened:"<a class='actor-link' href='/u/{username}'>{author}</a> reopened the {polltype}",poll_closed_by_user:"<a class='actor-link' href='/u/{username}'>{author}</a> closed the {polltype}",poll_created:"<a class='actor-link' href='/u/{username}'>{author}</a> started a {polltype}",poll_created_no_title:"<a class='actor-link' href='/u/{username}'>{author}</a> started a {polltype}",poll_edited:"<a class='actor-link' href='/u/{username}'>{author}</a> edited the {polltype}",poll_option_added:"<a class='actor-link' href='/u/{username}'>{author}</a> added options to the {polltype}",poll_expired:"{polltype} closed",stance_created:"<a class='actor-link' href='/u/{username}'>{author}</a> voted on: <strong>{title}</strong>",event_removed:"Removed from thread"},poll_common_subscribe_form:{receive_updates_title:"Your vote has been recorded",receive_updates_helptext:"If you'd like to receive an email about the outcome of this poll, enter your email address below",email_saved:"You will receive an email about the outcome of this poll",subscribe:"Subscribe",no_thanks:"No thanks"},poll_common_example_card:{what_is_this:"This is a live example of a {type}. You're a participant - give it a try!"},share_poll_page:{title:"Share poll - {title}"},add_poll_to_thread_modal:{success:"Success, {pollType} added to thread!"},auth_form:{code:"000000",youre_invited:"You have been invited to join {group_name}.",youre_invited_discussion:"You have been invited to join the discussion.",youre_invited_poll:"You have been invited to vote.",existing_account_can_sign_in:"If you are already a {site_name} user, sign in with your existing account",sign_up_or_log_in:"Create account or sign in to {site_name}",sign_in_to_loomio:"Sign in to {site_name}",sign_in_help:"Trouble signing in?",sign_in:"Sign in",continue:"Continue",create_account:"Create account",sign_up_as:"Create account as {email}",sign_in_as:"Sign in as {name}",continue_with_provider:"Continue with {provider}",continue_with_email:"Continue with email",or_enter_your_email:"Or, enter your email address",enter_your_name:"Enter your name",invitation_required:"You need an invitation to create an account.",more_providers:"More",email_not_present:"An email address is required",invalid_email:"Sorry, that doesn't look like a valid email address",invalid_password:"Sorry, that password doesn't match the one we have on file",invalid_token:"Sorry, we weren't able to use that token to log you in. Click below to send another one.",account_locked:"Your account has been locked after too many failed login attempts. Check your email for an unlock link",email_not_found:"Sorry, we couldn't find an account with that email address",email_taken:"Email address is already registered",email_placeholder:"you@example.com",login_with_token:"You're all set! Click the link below to continue.",login_link_helptext:"Click the button below and we'll send you a link to sign in.",enter_your_password:"Enter your password to continue",check_spam_folder:"If the email does not arrive soon, check your spam folder.",sign_up_helptext:"Please complete this form to create a user account",i_accept:"I accept the <a href='{termsUrl}' target='_blank'>Terms of service</a> and <a href='{privacyUrl}' target='_blank'>Privacy policy</a>",newsletter_label:"I want to receive the <a href='https://help.loomio.org/en/newsletter/' target='_blank'>Loomio newsletter</a>",name_placeholder:"Your name",name_required:"Please enter a name",terms_required:"You must agree to the Terms of Service",account_inactive:"Uh-oh, it looks like the account for {email} has been deactivated!",privacy_notice:"We will never sell your data. <br><a href='{privacyUrl}' target='_blank'>Privacy policy</a>",welcome:"New to {siteName}?",welcome_back:"Welcome back, {name}!",forgot_password:"Forgot password",login_link:"Send sign in email",sign_in_via_email:"Sign in via email",set_password:"Set password",set_password_helptext:"Want to use a password next time?",hello:"Hello, {name}!",new_to_loomio:"First time on {site_name}?",already_a_user:"Already have an account?",email_address_of_existing_account:"Enter email address of your existing account",link_accounts:"Link accounts",check_your_email:"Check your email!",login_link_sent:"We've sent an email to {email}.",instructions:"Click the link to sign in, or enter the code below:",too_many_attempts:"Too many attempts; try clicking the link in the email to sign in.",invalid_code:"Sorry, that code didn't match. Check the email and try again.",password_link_sent:"We've sent an email to {email} with instructions on how to set your password.",reactivate_link_sent:"We've sent you an email with instructions to reactivate your account",signed_in:"Signed in successfully",email_verified:"Email verified successfully",name:"Name",email:"Email",password:"Password",reactivate:"Reactivate account"},webhook:{integrations:"Integrations",webhooks:"Webhooks",webhook:"Webhook",api:"API",format:"Format",formats:{markdown:"Markdown (for Mattermost, Zapier and others)",microsoft:"Microsoft Teams",slack:"Slack",discord:"Discord"},subtitle:"Connect to Loomio to the rest of your tools with our integration API and webhooks",we_have_guides:'See our <a href="{url}" target="_blank">webhook setup guides</a> for help connecting your service.\n',add_webhook:"Add webhook",show_docs:"See API usage",edit_integration:"Edit integration",add_integration:"Add integration",success:"Integration added!",remove:"Remove integration",confirm_remove:"Are you sure you want to remove the integration: {name}?",removed:"Integration removed",url_label:"Webhook URL",url_placeholder:"https://hooks.example.com/...",name_label:"Name",name_placeholder:"Give this integration a name so you can identify it",event_kind_helptext:"Which events do you want the webhook to be notified of?",event_kinds:{new_discussion:"A thread is started",discussion_edited:"A thread is edited",poll_edited:"A poll is edited",new_comment:"A comment is made",poll_created:"A poll is started",stance_created:"A vote is cast",poll_closing_soon:"A poll is expiring soon",poll_expired:"A poll expires",poll_closed_by_user:"A poll is closed manually",poll_reopened:"A poll is re-opened for voting",outcome_created:"An outcome is shared"},permissions_explaination:"Select which actions can be performed by this integration",permissions:{show_discussion:"show discussion",create_discussion:"create discussion",create_poll:"create poll",show_poll:"show poll",read_memberships:"read memberships"},include_body_label:"Include message body with notification",include_subgroups_label:"Relay events from subgroups"},configure_sso:{redirecting:"Please wait, redirecting to sign-in provider",title:"Single sign-on",enabled:"Single sign-on is enabled",helptext:'Integrate with OneLogin, Auth0, Microsoft Active Directory, or any other SAML Provider. <a href="https://help.loomio.org/en/user_manual/groups/integrations#single-sign-on-saml" target="_blank">Learn more</a>.',warning_helptext:"Warning: You'll be required to authenticate with your provider after you click save.",idp_metadata_url:"IDP Metadata URL",idp_metadata_url_placeholder:"https://app.myprovider.com/saml/metadata/abc123",success:"Single sign-on successfully configured",destroyed:"Single sign-on removed",invalid_idp_metadata_url:"Invalid IDP metadata URL",sp_metadata_url:"SP Metadata URL"},browser_warning:{message:"IMPORTANT! You are using an outdated browser ({name} {version}) which is not supported by {site}.",link:"Please switch to another browser"},powered_by:{slogan:"Better decisions together",powered_by_loomio:"Powered by Loomio",privacy_policy:"Privacy policy",terms_of_service:"Terms of service",front_page:"Front page"},group_survey:{title:"Success! Just a few more details",subtitle:"Please help us get to know you better. We will not share any information provided in this form without your permission.",validation_error:"Please fill out all required fields.",success:"Thank you!",describe_other:"What category would you give your group?",categories:{party:"Political party",coop:"Cooperative",union:"Union",board:"Board or committee",nonprofit:"Nonprofit or NGO",professional:"Professional service company",community:"Community group",government:"Government/Local Government",other:"Other"},sizes:{ten:"< 10",twenty:"11 - 20",fifty:"21 - 50",two_hundred:"51 - 200",five_hundred:"201 - 500",two_thousand:"501 - 2000",else:"> 2000"},uses:{governance:"Governance for Board, Committee or Trust",collaboration:"Collaborative working group",engagement:"Stakeholder or member engagement",self_management:"Self-management (collaborative workplace)",remote:"Remote working",document:"Collaborative document development, e.g. a strategic plan",decision_making:"Decision-making processes (Advice, Consent)",funding:"Funding or Grant decisions",project:"Project team",forum:"Forum",other:"Other"},desired_features:{polls:"Running polls for my team to vote on",discussions:"Holding discussions online and getting input",archive:"Recording decisions we make or archiving information"},referrers:{google:"Google search",invitation:"Invited to a Loomio group",referral:"Referral",social:"Social media (Facebook, Twitter, LinkedIn)",capterra:"Capterra",other:"Other"},location:"Where is your group based?",purpose:"What is the purpose of your group?",category_question:"Select which category best describes your group",anything_else:"Is there anything else you'd like to tell us?",size_question:"How many people are in your group?",role:"What is your role in the group?",website:"Website URL",usage:"How do you plan to use Loomio? Choose the best fit",desired_feature:"What is the main thing you're looking to use Loomio for?",referrer:"How did you hear about Loomio?"}}}];e.exports=n.length<=1?n[0]:n},bb8c:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"emoji-picker"},[e._l(e.emojis,(function(t,o){return n("div",{key:o},[n("h5",{directives:[{name:"t",rawName:"v-t",value:"emoji_picker."+o,expression:"'emoji_picker.'+category"}]}),e.emojiSupported?n("div",{staticClass:"emoji-picker__emojis"},e._l(t,(function(t,o){return n("span",{key:o,attrs:{title:o},on:{click:function(n){return e.insert(o,t)}}},[e._v(e._s(t))])})),0):n("div",{staticClass:"emoji-picker__emojis"},e._l(t,(function(t,o){return n("img",{key:o,attrs:{alt:o,src:e.srcForEmoji(t)},on:{click:function(n){return e.insert(o,t)}}})})),0)])})),n("div",{staticClass:"d-flex justify-center pb-2"},[e.showMore?e._e():n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.show_more",expression:"'common.action.show_more'"}],attrs:{"x-small":""},on:{click:function(t){t.stopPropagation(),e.showMore=!0}}}),e.showMore?n("v-btn",{directives:[{name:"t",rawName:"v-t",value:"common.action.show_fewer",expression:"'common.action.show_fewer'"}],attrs:{"x-small":""},on:{click:function(t){t.stopPropagation(),e.showMore=!1}}}):e._e()],1)],2)},r=[],i=n("2593"),a=n.n(i),s=n("5300"),c={props:{insert:{type:Function,required:!0}},data:function(){return{search:"",emojiSupported:s["d"],showMore:!1}},methods:{srcForEmoji:s["f"]},computed:{emojis:function(){return this.showMore?s["e"]:a()(s["e"],["common","hands","expressions"])}}},l=c,u=(n("15d5"),n("2877")),d=n("6544"),p=n.n(d),m=n("8336"),f=Object(u["a"])(l,o,r,!1,null,null,null);t["a"]=f.exports;p()(f,{VBtn:m["a"]})},bc35:function(e,t,n){},be8c:function(e,t,n){"use strict";n("acd8")},bf43:function(e,t,n){"use strict";n("1a86")},c2b9:function(e,t,n){},c2d8:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poll-common-stance-choice mr-1 mb-1",class:"poll-common-stance-choice--"+e.pollType,attrs:{row:""}},[e.poll.datesAsOptions()?e._e():n("span",[e.poll.hasOptionIcons()?n("v-avatar",{attrs:{tile:"",size:e.size}},[n("img",{attrs:{src:"/img/"+e.optionImages[e.pollOption.name]+".svg",alt:e.optionName}})]):e._e(),e.poll.hasOptionIcons()?e._e():n("span",{staticClass:"body-2"},[n("v-icon",{staticClass:"mr-2",attrs:{small:"",color:e.pollOption.color}},[e._v("mdi-check")]),n("span",[e._v(e._s(e.optionName))])],1)],1),e.poll.datesAsOptions()?n("span",[n("v-chip",{attrs:{outlined:"",color:e.colorFor(e.stanceChoice.score)},on:{click:e.emitClick}},[n("poll-meeting-time",{attrs:{name:e.optionName}})],1)],1):e._e()])},r=[],i=n("6cfa"),a=n("7ae3"),s={props:{poll:{type:Object,required:!0},stanceChoice:Object,size:{type:Number,default:24}},data:function(){return{optionColors:Object(i["d"])(),optionImages:Object(i["e"])()}},computed:{color:function(){return this.pollOption.color},pollOption:function(){return this.stanceChoice.pollOption()},pollType:function(){return this.poll.pollType},optionName:function(){return this.poll.translateOptionName()?this.$t("poll_"+this.pollType+"_options."+this.stanceChoice.pollOption().name):this.stanceChoice.pollOption().name}},methods:{emitClick:function(){return this.$emit("click")},colorFor:function(e){switch(e){case 2:return a["a"].pollColors.proposal[0];case 1:return a["a"].pollColors.proposal[1];case 0:return a["a"].pollColors.proposal[2]}}}},c=s,l=n("2877"),u=n("6544"),d=n.n(u),p=n("f829"),m=n("8212"),f=n("cc20"),h=n("132d"),_=Object(l["a"])(c,o,r,!1,null,null,null);t["a"]=_.exports;d()(_,{PollMeetingTime:p["a"],VAvatar:m["a"],VChip:f["a"],VIcon:h["a"]})},c341:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"comment-form px-3"},[n("div",{staticClass:"thread-item__avatar mr-3"},[n("user-avatar",{attrs:{user:e.comment.author()||e.actor,size:e.comment.parentId?28:36}})],1),n("form",{staticClass:"thread-item__body comment-form__body",on:{submit:function(t){return t.preventDefault(),e.submit()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submit():null},"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.stopPropagation(),e.submit()):null}}},[n("submit-overlay",{attrs:{value:e.comment.processing}}),n("lmo-textarea",{attrs:{model:e.comment,field:"body",placeholder:e.placeholder,autofocus:e.autofocus,shouldReset:e.shouldReset},on:{"is-uploading":e.handleIsUploading},scopedSlots:e._u([{key:"actions",fn:function(){return[n("v-btn",{directives:[{name:"t",rawName:"v-t",value:e.comment.isNew()?"comment_form.post_comment":"common.action.save",expression:"comment.isNew() ? 'comment_form.post_comment' : 'common.action.save' "}],staticClass:"comment-form__submit-button",attrs:{disabled:!e.canSubmit,color:"primary",type:"submit"}})]},proxy:!0}])})],1)])},r=[],i=n("6062"),a=(n("cd6d"),n("65c3"),n("9953"),n("66ef")),s=n("31ed"),c={props:{comment:Object,autofocus:Boolean},data:function(){return{actor:i["a"].user(),canSubmit:!0,shouldReset:!1}},computed:{placeholder:function(){return this.comment.parentId?this.$t("comment_form.in_reply_to",{name:this.comment.parent().authorName()}):this.$t("comment_form.aria_label")}},methods:{handleIsUploading:function(e){return this.canSubmit=!e},submit:function(){var e=this;return this.comment.save().then((function(){var t;return e.$emit("comment-submitted"),e.shouldReset=!e.shouldReset,t=e.comment.isNew()?e.comment.isReply()?"comment_form.messages.replied":"comment_form.messages.created":"comment_form.messages.updated",a["a"].success(t,{name:e.comment.isReply()?e.comment.parent().authorName():void 0})})).catch(Object(s["a"])(this.comment))}}},l=c,u=(n("c612"),n("2877")),d=n("6544"),p=n.n(d),m=n("0d4b"),f=n("1b97"),h=n("c450"),_=n("8336"),v=n("a722"),b=Object(u["a"])(l,o,r,!1,null,null,null);t["a"]=b.exports;p()(b,{LmoTextarea:m["a"],SubmitOverlay:f["a"],UserAvatar:h["a"],VBtn:_["a"],VLayout:v["a"]})},c442:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lmo-markdown-wrapper"},[!e.hasTranslation&&e.isMd?n("div",{directives:[{name:"marked",rawName:"v-marked",value:e.cookedText,expression:"cookedText"}]}):e._e(),!e.hasTranslation&&e.isHtml?n("div",{domProps:{innerHTML:e._s(e.text)}}):e._e(),e.hasTranslation?n("translation",{attrs:{model:e.model,field:e.column}}):e._e()],1)},r=[],i=n("5300"),a={props:{model:{type:Object,required:!0},column:{type:String,required:!0}},computed:{isMd:function(){return"md"===this.format},isHtml:function(){return"html"===this.format},format:function(){return this.model[this.column+"Format"]},text:function(){return Object(i["c"])(this.model[this.column])},hasTranslation:function(){if(this.model.translation)return this.model.translation[this.column]},cookedText:function(){var e;return this.model.mentionedUsernames?(e=this.model[this.column],this.model.mentionedUsernames.forEach((function(t){return e=e.replace(RegExp("@".concat(t),"g"),"[@".concat(t,"](/u/").concat(t,")"))})),e):this.model[this.column]}}},s=a,c=(n("73ab"),n("2877")),l=n("6544"),u=n.n(l),d=n("93ba"),p=Object(c["a"])(s,o,r,!1,null,null,null);t["a"]=p.exports;u()(p,{Translation:d["a"]})},c450:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.componentType,{tag:"component",staticClass:"user-avatar",style:{width:e.width+"px",margin:"0"},attrs:{"aria-hidden":"true",to:!e.noLink&&e.urlFor(e.user)}},[n("v-avatar",{attrs:{title:e.user.name,size:e.width,color:"grey lighten-2"}},["gravatar"===e.user.avatarKind?n("v-gravatar",{attrs:{hash:e.user.emailHash,"gravatar-size":e.gravatarSize,alt:e.user.avatarInitials}}):"uploaded"===e.user.avatarKind?n("img",{attrs:{alt:e.user.avatarInitials,src:e.uploadedAvatarUrl}}):"initials"===e.user.avatarKind?n("span",{staticClass:"user-avatar--initials",style:{width:e.width+"px",height:e.width+"px"}},[e._v(e._s(e.user.avatarInitials))]):n("v-icon",[e._v("mdi-account")])],1)],1)},r=[],i=n("5a68"),a=n("e06a"),s=n.n(a),c=n("cd6d"),l={components:{"v-gravatar":s.a},props:{user:{type:Object,default:function(){return c["a"].users.build()}},coordinator:Boolean,size:{type:[String,Number],default:36},noLink:Boolean,colors:Object},computed:{width:function(){if(parseInt(this.size))return parseInt(this.size);switch(this.size){case"tiny":return 20;case"small":return 24;case"thirtysix":return 36;case"forty":return 40;case"medium":return 48;case"large":return 64;case"featured":return 200}},gravatarSize:function(){return Object(i["b"])()?2*this.width:this.width},uploadedAvatarUrl:function(){if("uploaded"===this.user.avatarKind)return"string"===typeof this.user.avatarUrl?this.user.avatarUrl:this.user.avatarUrl["large"]},componentType:function(){return this.noLink||!this.user.id?"div":"router-link"}}},u=l,d=(n("8c78"),n("2877")),p=n("6544"),m=n.n(p),f=n("8212"),h=n("132d"),_=Object(d["a"])(u,o,r,!1,null,null,null);t["a"]=_.exports;m()(_,{VAvatar:f["a"],VIcon:h["a"]})},c612:function(e,t,n){"use strict";n("fb21")},c963:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("ec69"),r=n.n(o),i=n("dd61"),a=n.n(i),s=function(e){return a()(r()(e),(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},ca5b:function(e,t,n){},cb44:function(e,t,n){"use strict";n("1405")},cb92:function(e,t,n){"use strict";n("8d27")},cc56:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v("")])},r=[],i=n("2877"),a={},s=Object(i["a"])(a,o,r,!1,null,null,null);t["a"]=s.exports},cd6d:function(e,t,n){"use strict";var o=n("2593"),r=n.n(o),i=n("4245"),a=n.n(i),s=n("d173"),c=n.n(s),l=n("c641"),u=n.n(l),d=n("ec69"),p=n.n(d),m=n("dd61"),f=n.n(m),h=n("bba4"),_=n.n(h),v=n("13ea"),b=n.n(v),g=n("efdf"),y=n.n(g);function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var w=function(){var e=function e(t){var n=t.name,o=t.recordStore,r=t.collections,i=t.query;k(this,e),this.name=n,this.recordStore=o,this.collectionNames=r,this.query=i,this.query(this.recordStore)};return e.prototype.collectionNames=[],e.prototype.name="unnamedView",e}.call(void 0),x=n("f98e");function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}var S=function(){function e(t){C(this,e),this.db=t,this.collectionNames=[],this.views={},this.remote=new x["a"],a()(this.remote,r()(this.defaultRemoteCallbacks(),["onPrepare","onSuccess","onUploadSuccess","onFailure","onCleanup"]))}return j(e,[{key:"fetch",value:function(e){return this.remote.fetch(e)}},{key:"addRecordsInterface",value:function(e){var t,n;return n=new e(this),n.setRemoteCallbacks(this.defaultRemoteCallbacks()),t=_()(n.model.plural),this[t]=n,n.onInterfaceAdded(),this.collectionNames.push(t)}},{key:"import",value:function(e){var t=this;if(!b()(e))return null!=e["parent_groups"]&&u()(e["parent_groups"],(function(e){return t.groups.importJSON(e),!0})),null!=e["parent_events"]&&u()(e["parent_events"],(function(e){return t.events.importJSON(e),!0})),u()(this.collectionNames,(function(n){var o,r;if(r=y()(n),o=_()(n),null!=e[r])return u()(e[r],(function(e){return t[o].importJSON(e),!0}))})),this.afterImport(e),u()(this.views,(function(n){return c()(n.collectionNames,f()(p()(e),_.a))&&n.query(t),!0})),e}},{key:"afterImport",value:function(e){}},{key:"setRemoteCallbacks",value:function(e){var t=this;return u()(this.collectionNames,(function(n){return t[_()(n)].setRemoteCallbacks(e)}))}},{key:"defaultRemoteCallbacks",value:function(){var e=this;return{onUploadSuccess:function(t){return e.import(t)},onSuccess:function(t){if(t.ok)return t.json().then((function(t){return e.import(t)}));throw t},onFailure:function(e){throw e}}}},{key:"view",value:function(e){var t=e.name,n=e.collections,o=e.query;return this.views[t]||(this.views[t]=new w({name:t,recordStore:this,collections:n,query:o})),this.views[t].query(this),this.views[t]}}]),e}(),I=n("7ae3"),P=n("5d2d"),T=n.n(P),A=function(e,t){return e==t?0:e<t?-1:1};T.a.Comparators.aeq=function(e,t){return 0===A(e,t)},T.a.Comparators.lt=function(e,t,n){var o=A(e,t);switch(o){case-1:return!0;case 0:return n;case 1:return!1}},T.a.Comparators.gt=function(e,t,n){var o=A(e,t);switch(o){case-1:return!1;case 0:return n;case 1:return!0}};var R=T.a,V=n("8a30"),$=n.n(V),N=n("b047"),E=n.n(N),M=n("6747"),D=n.n(M),L=n("e2a0"),F=n.n(L),q=n("501e"),U=n.n(q),B=n("6801"),z=n("2b0e");function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}var Y=function(){var e=function(){function e(t){G(this,e),this.baseConstructor(t)}return W(e,[{key:"addMissing",value:function(e){return this.missingIds.push(e),this.fetchMissing()}},{key:"nullModel",value:function(){return null}},{key:"baseConstructor",value:function(e){var t=this;return this.recordStore=e,this.collection=this.recordStore.db.addCollection(this.collectionName||this.model.plural,{indices:this.model.indices}),u()(this.model.uniqueIndices,(function(e){return t.collection.ensureUniqueIndex(e)})),this.remote=new x["a"](this.apiEndPoint||this.model.plural)}},{key:"onInterfaceAdded",value:function(){}},{key:"setRemoteCallbacks",value:function(e){return a()(this.remote,r()(e,["onPrepare","onSuccess","onUploadSuccess","onFailure","onCleanup"]))}},{key:"all",value:function(){return this.collection.data}},{key:"build",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=new this.model(this,t),z["a"].observable(e)}},{key:"create",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=this.build(t),this.collection.insert(e),e}},{key:"fetch",value:function(e){return this.remote.fetch(e)}},{key:"importJSON",value:function(e){return this.import(B["a"].parseJSON(e))}},{key:"import",value:function(e){var t;return null!=e.key&&(t=this.find(e.key)),null!=e.id&&null==t&&(t=this.find(e.id)),t?t.update(e):t=this.create(e),t}},{key:"findOrFetchById",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=this.find(e),t?(this.remote.fetchById(e,o),Promise.resolve(t)):this.remote.fetchById(e,o).then((function(){return n.find(e)}))}},{key:"find",value:function(e){var t;if(null!==e&&void 0!==e)return U()(e)?this.findById(e):F()(e)?this.findByKey(e):D()(e)?0===e.length?[]:F()(e[0])?this.findByKeys(e):U()(e[0])?this.findByIds(e):void 0:(t=this.collection.chain(),u()(p()(e),(function(n){return t.find(H({},"".concat(n),e[n])),!0})),t.data())}},{key:"findOrNull",value:function(e){var t;return t=this.find(e),D()(t)&&0===t.length?null:t}},{key:"findById",value:function(e){return this.collection.by("id",e)}},{key:"findByKey",value:function(e){return null!=this.collection.constraints.unique["key"]?this.collection.by("key",e):this.collection.findOne({key:e})}},{key:"findByIds",value:function(e){return this.collection.find({id:{$in:e}})}},{key:"findByKeys",value:function(e){return this.collection.find({key:{$in:e}})}}]),e}();return e.prototype.views=[],e.prototype.model="undefinedModel",e.prototype.missingIds=[],e.prototype.fetchMissing=E()((function(){var e;if(e=this.missingIds.join("x"),0!==e.length)return this.fetch({path:"",params:{xids:e}}),this.missingIds=[]}),500),e.prototype.apiEndPoint=null,e}.call(void 0),Q=n("c228"),Z=n.n(Q),J=n("dce5"),X=n.n(J),ee=n("93c6"),te=n.n(ee),ne=n("95ae"),oe=n.n(ne),re=n("9380"),ie=n.n(re),ae=n("bfc7"),se=n.n(ae),ce=n("cc73");function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pe(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),e}var me=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ue(this,e),this.inCollection=this.inCollection.bind(this),this.remove=this.remove.bind(this),this.destroy=this.destroy.bind(this),this.beforeDestroy=this.beforeDestroy.bind(this),this.beforeRemove=this.beforeRemove.bind(this),this.discard=this.discard.bind(this),this.undiscard=this.undiscard.bind(this),this.save=this.save.bind(this),this.afterSave=this.afterSave.bind(this),this.processing=!1,this._version=0,this.attributeNames=[],this.unmodified={},this.setErrors(),Object.defineProperty(this,"recordsInterface",{value:t,enumerable:!1}),Object.defineProperty(this,"recordStore",{value:t.recordStore,enumerable:!1}),Object.defineProperty(this,"remote",{value:t.remote,enumerable:!1}),null!=this.relationships&&this.buildRelationships(),this.update(this.defaultValues()),this.update(n),this.afterConstruction()}return pe(e,[{key:"bumpVersion",value:function(){return this._version=this._version+1}},{key:"afterConstruction",value:function(){}},{key:"defaultValues",value:function(){return{}}},{key:"clone",value:function(){var e,t=this;return e={},u()(this.attributeNames,(function(n){return D()(t[n])?e[n]=t[n].slice(0):e[n]=t[n],!0})),new this.constructor(this.recordsInterface,e)}},{key:"inCollection",value:function(){return this["$loki"]}},{key:"update",value:function(e){return this.baseUpdate(e)}},{key:"baseUpdate",value:function(e){var t=this;if(this.bumpVersion(),this.attributeNames=se()(this.attributeNames,p()(e)),u()(e,(function(e,n){return t.unmodified[n]=e,z["a"].set(t,n,e),!0})),this.inCollection())return this.recordsInterface.collection.update(this)}},{key:"attributeIsModified",value:function(e){var t,n;return n=this.unmodified[e],t=this[e],B["a"].isTimeAttribute(e)?!(n===t||Object(ce["a"])(n,t)):n!==t}},{key:"modifiedAttributes",value:function(){var e=this;return ie()(this.attributeNames,(function(t){return e.attributeIsModified(t)}))}},{key:"isModified",value:function(){return this.modifiedAttributes().length>0}},{key:"serialize",value:function(){return this.baseSerialize()}},{key:"baseSerialize",value:function(){var e,t,n,o=this;return n={},e={},t=y()(this.constructor.serializationRoot||this.constructor.singular),u()(this.constructor.serializableAttributes||this.attributeNames,(function(t){var n,r;return r=y()(t),n=_()(t),B["a"].isTimeAttribute(n)&&o[n]?e[r]=o[n].toISOString():e[r]=o[n],!0})),n[t]=e,n}},{key:"relationships",value:function(){}},{key:"buildRelationships",value:function(){return this.views={},this.relationships()}},{key:"hasMany",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=oe()(o,{from:e,with:this.constructor.singular+"Id",of:"id",find:{}}),this[e]=function(){var e;return e=Object.assign({},le({},"".concat(t.with),n[t.of]),t.find),o.orderBy?te()(n.recordStore[t.from].find(e),o.orderBy):n.recordStore[t.from].find(e)}}},{key:"belongsTo",value:function(e,t){var n,o,r=this;return o={from:e+"s",by:e+"Id"},n=X()(o,t),this[e]=function(){var e;return r[n.by]?((e=r.recordStore[n.from].find(r[n.by]))||(e=r.recordStore[n.from].create({id:r[n.by]}),r.recordStore[n.from].addMissing(r[n.by])),e):r.recordStore[n.from].nullModel()},this[e+"Is"]=function(e){return r.recordStore[n.from].find(r[n.by])===e}}},{key:"belongsToPolymorphic",value:function(e){var t,n,o=this;return n={Group:"groups",Discussion:"discussions",Poll:"polls",Outcome:"outcomes",Stance:"stances",Comment:"comments",CommentVote:"comments",Membership:"memberships",MembershipRequest:"membershipRequests"},t=e,this[e]=function(){var e,r,i;if(i=o[t+"Type"],r=o[t+"Id"],e=n[i],i)return o.recordStore[e].find(r)}}},{key:"translationOptions",value:function(){}},{key:"isA",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $()(t,this.constructor.singular)}},{key:"namedId",value:function(){return le({},"".concat(this.constructor.singular,"_id"),this.id)}},{key:"bestNamedId",value:function(){return this.namedId()}},{key:"isNew",value:function(){return null==this.id}},{key:"keyOrId",value:function(){return null!=this.key?this.key:this.id}},{key:"remove",value:function(){if(this.beforeRemove(),this.inCollection())return this.recordsInterface.collection.remove(this)}},{key:"destroy",value:function(){var e=this;return this.processing=!0,this.beforeDestroy(),this.remove(),this.remote.destroy(this.keyOrId()).finally((function(){return e.processing=!1}))}},{key:"beforeDestroy",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"discard",value:function(){var e=this;return this.processing=!0,this.remote.discard(this.keyOrId()).finally((function(){return e.processing=!1}))}},{key:"undiscard",value:function(){var e=this;return this.processing=!0,this.remote.undiscard(this.keyOrId()).finally((function(){return e.processing=!1}))}},{key:"save",value:function(){var e=this;return this.processing=!0,this.isNew()?this.remote.create(this.serialize()).then(this.afterSave).finally((function(){return e.processing=!1})):this.remote.update(this.keyOrId(),this.serialize()).then(this.afterSave).finally((function(){return e.processing=!1}))}},{key:"afterSave",value:function(e){if(this.processing=!1,e.errors)throw this.setErrors(e.errors),e;return this.unmodified=r()(this,this.attributeNames),e}},{key:"discardChanges",value:function(){var e=this;return this.attributeNames.forEach((function(t){return z["a"].set(e,t,e.unmodified[t])}))}},{key:"clearErrors",value:function(){return this.errors={}}},{key:"setErrors",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return z["a"].set(this,"errors",{}),u()(t,(function(t,n){return z["a"].set(e.errors,_()(n),t)}))}},{key:"isValid",value:function(){return this.errors.length>0}},{key:"edited",value:function(){return this.versionsCount>1}}]),e}();return e.singular="undefinedSingular",e.plural="undefinedPlural",e.uniqueIndices=["id"],e.indices=[],e.searchableFields=[],e.serializableAttributes=null,e.serializationRoot=null,e}.call(void 0);function fe(e){return fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function be(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),e}function ge(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}function ye(e,t){return ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ye(e,t)}function ke(e){var t=Ce();return function(){var n,o=Oe(e);if(t){var r=Oe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return we(this,n)}}function we(e,t){return!t||"object"!==fe(t)&&"function"!==typeof t?xe(e):t}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}var je,Se,Ie=function(){var e=function(e){ge(n,e);var t=ke(n);function n(){return _e(this,n),t.apply(this,arguments)}return be(n,[{key:"defaultValues",value:function(){return{recipients:[],invitedGroupIds:[]}}},{key:"serialize",value:function(){var e;return e={},he(e,"".concat(this.modelName(),"_id"),this.model.id),he(e,"announcement",{kind:this.kind,invited_group_ids:this.invitedGroupIds,recipients:{user_ids:Z()(f()(this.recipients,(function(e){if(U()(e.id))return e.id}))),emails:Z()(f()(this.recipients,(function(e){if(e.email&&!U()(e.email))return e.email})))}}),e}},{key:"modelName",value:function(){return this.model.constructor.singular}}]),n}(me);return e.singular="announcement",e.plural="announcements",e}.call(void 0);function Pe(e){return Pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ve(e,t,n){return t&&Re(e.prototype,t),n&&Re(e,n),e}function $e(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}function Ne(e,t){return Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ne(e,t)}function Ee(e){var t=Le();return function(){var n,o=Fe(e);if(t){var r=Fe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Me(this,n)}}function Me(e,t){return!t||"object"!==Pe(t)&&"function"!==typeof t?De(e):t}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}Se=function(e){return $()(["poll_edited","discussion_edited"],e.kind)?e.kind:"".concat(je(e).constructor.singular,"_announced")},je=function(e){return("function"===typeof e.isA?e.isA("event"):void 0)?e.model():e};var qe=function(){var e=function(e){$e(n,e);var t=Ee(n);function n(){return Ae(this,n),t.apply(this,arguments)}return Ve(n,[{key:"fetchHistoryFor",value:function(e){var t;return t=e.namedId(),this.remote.fetch({path:"history",params:t})}},{key:"search",value:function(e,t){var n;return n=a()({q:e},t.namedId()),this.remote.fetch({path:"search",params:n})}},{key:"buildFromModel",value:function(e){return this.build({kind:Se(e),model:je(e)})}},{key:"fetchAudience",value:function(e,t){var n;return this.remote.fetch({path:"audience",params:(n={},Te(n,"".concat(e.constructor.singular,"_id"),e.id),Te(n,"kind",t),n)})}}]),n}(Y);return e.prototype.model=Ie,e}.call(void 0),Ue=n("79e3"),Be=n.n(Ue),ze=n("e9a7"),He=n.n(ze),Ge=n("eed6"),Ke=n.n(Ge);function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qe(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),e}var Ze=new(function(){function e(){We(this,e)}return Qe(e,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.newDocumentIds=e.newDocumentIds||[],e.removedDocumentIds=e.removedDocumentIds||[],e.documents=function(){return e.recordStore.documents.find({modelId:e.id,modelType:He()(e.constructor.singular)})},e.newDocuments=function(){return e.recordStore.documents.find(e.newDocumentIds)},e.newAndPersistedDocuments=function(){return Ke()(ie()(se()(e.documents(),e.newDocuments()),(function(t){return!$()(e.removedDocumentIds,t.id)})))},e.hasDocuments=function(){return e.newAndPersistedDocuments().length>0},e.serialize=function(){var t,n;return t=this.baseSerialize(),n=e.constructor.serializationRoot||e.constructor.singular,t[n].document_ids=f()(e.newAndPersistedDocuments(),"id"),t},e.showDocumentTitle=t.showTitle,e.documentsApplied=!0}}]),e}());function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function et(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),e}var tt=new(function(){function e(){Je(this,e)}return et(e,[{key:"apply",value:function(e){return e.translate=function(t){return e.recordStore.translations.fetchTranslation(e,t).then((function(t){return e.translation=t.translations[0].fields}))},e.translation={}}}]),e}());function nt(e){return nt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function it(e,t,n){return t&&rt(e.prototype,t),n&&rt(e,n),e}function at(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}function st(e,t){return st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},st(e,t)}function ct(e){var t=dt();return function(){var n,o=pt(e);if(t){var r=pt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return lt(this,n)}}function lt(e,t){return!t||"object"!==nt(t)&&"function"!==typeof t?ut(e):t}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pt(e)}var mt=function(){var e=function(e){at(n,e);var t=ct(n);function n(){return ot(this,n),t.apply(this,arguments)}return it(n,[{key:"afterConstruction",value:function(){return Ze.apply(this),tt.apply(this)}},{key:"defaultValues",value:function(){return{usesMarkdown:!0,discussionId:null,files:[],imageFiles:[],attachments:[],linkPreviews:[],body:"",bodyFormat:"html",mentionedUsernames:[]}}},{key:"relationships",value:function(){return this.belongsTo("author",{from:"users"}),this.belongsTo("discussion"),this.belongsTo("parent",{from:"comments",by:"parentId"})}},{key:"createdEvent",value:function(){return this.recordStore.events.find({kind:"new_comment",eventableId:this.id})[0]}},{key:"reactions",value:function(){return this.recordStore.reactions.find({reactableId:this.id,reactableType:He()(this.constructor.singular)})}},{key:"group",value:function(){return this.discussion().group()}},{key:"memberIds",value:function(){return this.discussion().memberIds()}},{key:"isReply",value:function(){return null!=this.parentId}},{key:"hasDescription",value:function(){return!!this.body}},{key:"parent",value:function(){return this.recordStore.comments.find(this.parentId)}},{key:"reactors",value:function(){return this.recordStore.users.find(f()(this.reactions(),"userId"))}},{key:"authorName",value:function(){if(this.author())return this.author().nameWithTitle(this.discussion().group())}},{key:"authorUsername",value:function(){return this.author().username}},{key:"authorAvatar",value:function(){return this.author().avatarOrInitials()}},{key:"beforeDestroy",value:function(){return Be()(this.recordStore.events.find({kind:"new_comment",eventableId:this.id}),"remove")}}]),n}(me);return e.singular="comment",e.plural="comments",e.indices=["discussionId","authorId"],e}.call(void 0);function ft(e){return ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vt(e,t,n){return t&&_t(e.prototype,t),n&&_t(e,n),e}function bt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}function gt(e,t){return gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gt(e,t)}function yt(e){var t=xt();return function(){var n,o=Ct(e);if(t){var r=Ct(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return kt(this,n)}}function kt(e,t){return!t||"object"!==ft(t)&&"function"!==typeof t?wt(e):t}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}var Ot=function(){var e=function(e){bt(n,e);var t=yt(n);function n(){return ht(this,n),t.apply(this,arguments)}return vt(n,[{key:"like",value:function(e,t,n){return this.remote.postMember(t.id,"like")}},{key:"unlike",value:function(e,t,n){return this.remote.postMember(t.id,"unlike")}}]),n}(Y);return e.prototype.model=mt,e}.call(void 0),jt=n("0f32"),St=n.n(jt),It=n("c707"),Pt=n.n(It),Tt=n("4416"),At=n.n(Tt),Rt=n("a59b"),Vt=n.n(Rt),$t=n("3092"),Nt=n.n($t),Et=n("63ea"),Mt=n.n(Et),Dt=n("6062"),Lt=n("94d4"),Ft=n("1212");function qt(e){return qt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function zt(e,t,n){return t&&Bt(e.prototype,t),n&&Bt(e,n),e}function Ht(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}function Gt(e,t){return Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gt(e,t)}function Kt(e){var t=Qt();return function(){var n,o=Zt(e);if(t){var r=Zt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==qt(t)&&"function"!==typeof t?Yt(e):t}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Zt(e){return Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zt(e)}var Jt=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},Xt=function(){var e=function(e){Ht(n,e);var t=Kt(n);function n(){var e;return Ut(this,n),e=t.apply(this,arguments),e.privateDefaultValue=e.privateDefaultValue.bind(Yt(e)),e.saveVolume=e.saveVolume.bind(Yt(e)),e.move=e.move.bind(Yt(e)),e.savePin=e.savePin.bind(Yt(e)),e.close=e.close.bind(Yt(e)),e.reopen=e.reopen.bind(Yt(e)),e.fork=e.fork.bind(Yt(e)),e.moveComments=e.moveComments.bind(Yt(e)),e}return zt(n,[{key:"afterConstruction",value:function(){return this.isNew()&&(this.private=this.privateDefaultValue()),Ze.apply(this,{showTitle:!0}),tt.apply(this)}},{key:"defaultValues",value:function(){return{id:null,key:null,private:!0,usesMarkdown:!0,lastItemAt:null,title:"",description:"",descriptionFormat:"html",forkedEventIds:[],ranges:[],readRanges:[],newestFirst:!1,files:[],imageFiles:[],attachments:[],linkPreviews:[],tagIds:[],recipientMessage:null,recipientAudience:null,recipientUserIds:[],recipientEmails:[],groupId:null,usersNotifiedCount:null}}},{key:"audienceValues",value:function(){return{name:this.group().name}}},{key:"privateDefaultValue",value:function(){return Jt(this,n),"public_only"!==this.group().discussionPrivacyOptions}},{key:"relationships",value:function(){return this.hasMany("polls",{sortBy:"createdAt",sortDesc:!0,find:{discardedAt:null}}),this.belongsTo("group"),this.belongsTo("author",{from:"users"}),this.hasMany("discussionReaders")}},{key:"discussion",value:function(){return this}},{key:"tags",value:function(){return this.recordStore.tags.collection.chain().find({id:{$in:this.tagIds}}).simplesort("priority").data()}},{key:"members",value:function(){return this.recordStore.users.find(this.group().memberIds().concat(map(this.discussionReaders(),"userId")))}},{key:"membersInclude",value:function(e){return this.inviterId&&!this.revokedAt&&Dt["a"].user()===e||this.group().membersInclude(e)}},{key:"adminsInclude",value:function(e){return this.author()===e||this.inviterId&&this.admin&&!this.revokedAt&&Dt["a"].user()===e||this.group().adminsInclude(e)}},{key:"bestNamedId",value:function(){return(this.id&&this||this.groupId&&this.group()||{namedId:function(){}}).namedId()}},{key:"createdEvent",value:function(){var e;if(e=this.recordStore.events.find({kind:"new_discussion",eventableId:this.id}),!b()(e))return e[0]}},{key:"forkedEvent",value:function(){var e;if(e=this.recordStore.events.find({kind:"discussion_forked",eventableId:this.id}),!b()(e))return e[0]}},{key:"reactions",value:function(){return this.recordStore.reactions.find({reactableId:this.id,reactableType:"Discussion"})}},{key:"translationOptions",value:function(){return{title:this.title,groupName:this.groupName()}}},{key:"authorName",value:function(){return this.author().nameWithTitle(this.group())}},{key:"groupName",value:function(){return(this.group()||{}).name}},{key:"activePolls",value:function(){return ie()(this.polls(),(function(e){return e.isActive()}))}},{key:"hasActivePoll",value:function(){return Nt()(this.activePolls())}},{key:"hasDecision",value:function(){return this.hasActivePoll()}},{key:"closedPolls",value:function(){return ie()(this.polls(),(function(e){return!e.isActive()}))}},{key:"activePoll",value:function(){return Vt()(this.activePolls())}},{key:"isUnread",value:function(){return!this.isDismissed()&&null!=this.discussionReaderId&&(null==this.lastReadAt||this.unreadItemsCount()>0)}},{key:"isDismissed",value:function(){return null!=this.discussionReaderId&&null!=this.dismissedAt&&(Object(ce["a"])(this.dismissedAt,this.lastActivityAt)||Object(Ft["a"])(this.dismissedAt,this.lastActivityAt))}},{key:"hasUnreadActivity",value:function(){return this.isUnread()&&this.unreadItemsCount()>0}},{key:"hasDescription",value:function(){return!!this.description}},{key:"membership",value:function(){return this.recordStore.memberships.find({userId:I["a"].currentUserId,groupId:this.groupId})[0]}},{key:"volume",value:function(){return this.discussionReaderVolume}},{key:"saveVolume",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Jt(this,n),this.processing=!0,o?this.membership().saveVolume(e).finally((function(){return t.processing=!1})):(null!=e&&(this.discussionReaderVolume=e),this.remote.patchMember(this.keyOrId(),"set_volume",{volume:this.discussionReaderVolume}).finally((function(){return t.processing=!1})))}},{key:"isMuted",value:function(){return"mute"===this.volume()}},{key:"markAsSeen",value:function(){if(this.discussionReaderId&&!this.lastReadAt)return this.remote.patchMember(this.keyOrId(),"mark_as_seen"),this.update({lastReadAt:new Date})}},{key:"markAsRead",value:function(e){if(this.discussionReaderId&&!this.hasRead(e))return this.readRanges.push([e,e]),this.readRanges=Lt["a"].reduce(this.readRanges),this.updateReadRanges()}},{key:"update",value:function(e){return D()(this.readRanges)&&D()(e.readRanges)&&!Mt()(e.readRanges,this.readRanges)&&(e.readRanges=Lt["a"].reduce(this.readRanges.concat(e.readRanges))),this.baseUpdate(e),this.readRanges=Lt["a"].intersectRanges(this.readRanges,this.ranges)}},{key:"hasRead",value:function(e){return Lt["a"].includesValue(this.readRanges,e)}},{key:"unreadItemsCount",value:function(){return this.itemsCount-this.readItemsCount()}},{key:"readItemsCount",value:function(){return Lt["a"].length(this.readRanges)}},{key:"firstSequenceId",value:function(){return(Vt()(this.ranges)||[])[0]}},{key:"lastSequenceId",value:function(){return(At()(this.ranges)||[])[1]}},{key:"lastReadSequenceId",value:function(){return(At()(this.readRanges)||[])[1]}},{key:"firstUnreadSequenceId",value:function(){return(this.unreadRanges()[0]||[])[0]}},{key:"readSequenceIds",value:function(){return Lt["a"].rangesToArray(this.readRanges)}},{key:"unreadRanges",value:function(){return Lt["a"].subtractRanges(this.ranges,this.readRanges)}},{key:"unreadSequenceIds",value:function(){return Lt["a"].rangesToArray(this.unreadRanges())}},{key:"dismiss",value:function(){var e=this;return this.update({dismissedAt:new Date}),this.processing=!0,this.remote.patchMember(this.keyOrId(),"dismiss").finally((function(){return e.processing=!1}))}},{key:"recall",value:function(){var e=this;return this.update({dismissedAt:null}),this.processing=!0,this.remote.patchMember(this.keyOrId(),"recall").finally((function(){return e.processing=!1}))}},{key:"move",value:function(){var e=this;return Jt(this,n),this.processing=!0,this.remote.patchMember(this.keyOrId(),"move",{group_id:this.groupId}).finally((function(){return e.processing=!1}))}},{key:"savePin",value:function(){var e=this;return Jt(this,n),this.processing=!0,this.remote.patchMember(this.keyOrId(),"pin").finally((function(){return e.processing=!1}))}},{key:"close",value:function(){var e=this;return Jt(this,n),this.processing=!0,this.remote.patchMember(this.keyOrId(),"close").finally((function(){return e.processing=!1}))}},{key:"reopen",value:function(){var e=this;return Jt(this,n),this.processing=!0,this.remote.patchMember(this.keyOrId(),"reopen").finally((function(){return e.processing=!1}))}},{key:"fork",value:function(){var e=this;return Jt(this,n),this.processing=!0,this.remote.post("fork",this.serialize()).finally((function(){return e.processing=!1}))}},{key:"moveComments",value:function(){var e=this;return Jt(this,n),this.processing=!0,this.remote.patchMember(this.keyOrId(),"move_comments",{forked_event_ids:this.forkedEventIds}).finally((function(){return e.processing=!1}))}},{key:"fetchUsersNotifiedCount",value:function(){var e=this;return this.recordStore.fetch({path:"announcements/users_notified_count",params:{discussion_id:this.id}}).then((function(t){return e.usersNotifiedCount=t.count}))}},{key:"forkedEvents",value:function(){return Pt()(this.recordStore.events.find(this.forkedEventIds),"sequenceId")}},{key:"forkTarget",value:function(){if(Nt()(this.forkedEvents()))return this.forkedEvents()[0].model()}}]),n}(me);return e.singular="discussion",e.plural="discussions",e.uniqueIndices=["id","key"],e.indices=["groupId","authorId"],e.prototype.updateReadRanges=St()((function(){return this.remote.patchMember(this.keyOrId(),"mark_as_read",{ranges:Lt["a"].serialize(this.readRanges)})}),2e3),e}.call(void 0),en=n("65c3"),tn=n("f4a7");function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function rn(e,t,n){return t&&on(e.prototype,t),n&&on(e,n),e}var an=function(){var e=function(){function e(){var t,n=this;nn(this,e),t={parentId:null,name:tn["a"].t("discussion.invite_only"),description:"",descriptionFormat:"html",groupPrivacy:"closed",handle:null,discussionPrivacyOptions:"public_or_private",membershipGrantedUpon:"approval",membersCanAnnounce:!0,membersCanAddMembers:!0,membersCanEditDiscussions:!0,membersCanEditComments:!0,membersCanDeleteComments:!0,membersCanRaiseMotions:!0,membersCanStartDiscussions:!0,membersCanCreateSubgroups:!1,motionsCanBeEdited:!1,files:[],imageFiles:[],attachments:[],linkPreviews:[],subscription:{active:!0},specifiedVotersOnly:!1},u()(t,(function(e,t){return z["a"].set(n,t,e),!0}))}return rn(e,[{key:"poll",value:function(){return[]}},{key:"discussions",value:function(){return[]}},{key:"memberships",value:function(){return[]}},{key:"membershipRequests",value:function(){return[]}},{key:"subgroups",value:function(){return[]}},{key:"parent",value:function(){return null}},{key:"parentOrSelf",value:function(){return this}},{key:"parentsAndSelf",value:function(){return[this]}},{key:"selfAndSubgroups",value:function(){return[this]}},{key:"group",value:function(){return this}},{key:"hasSubgroups",value:function(){return!1}},{key:"organisationIds",value:function(){return[]}},{key:"membershipFor",value:function(){return null}},{key:"members",value:function(){return[]}},{key:"membersInclude",value:function(){return!1}},{key:"adminsInclude",value:function(){return!1}},{key:"adminMemberships",value:function(){return[]}},{key:"admins",value:function(){return[]}},{key:"memberIds",value:function(){return[]}},{key:"adminIds",value:function(){return[]}},{key:"parentName",value:function(){return null}},{key:"privacyIsOpen",value:function(){return!1}},{key:"privacyIsClosed",value:function(){return!1}},{key:"privacyIsSecret",value:function(){return!0}},{key:"isArchived",value:function(){return!1}},{key:"isParent",value:function(){return!0}},{key:"hasSubscription",value:function(){return!1}},{key:"isSubgroupOfSecretParent",value:function(){return!1}},{key:"hasPendingMembershipRequestFrom",value:function(){return!1}},{key:"logoUrl",value:function(){return""}}]),e}();return e.singular="group",e.plural="groups",e.prototype.subscription={},e}.call(void 0);function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ln(e,t,n){return t&&cn(e.prototype,t),n&&cn(e,n),e}var un=function(){var e=function(){function e(){var t,n=this;sn(this,e),t={id:null,title:"No thread",description:"",descriptionFormat:"html",key:null,private:!0,usesMarkdown:!0,lastItemAt:null,forkedEventIds:[],ranges:[],readRanges:[],isForking:!1,newestFirst:!1,files:[],imageFiles:[],attachments:[],linkPreviews:[],recipientMessage:null,recipientAudience:null,recipientUserIds:[],recipientEmails:[],groupId:null},u()(t,(function(e,t){return z["a"].set(n,t,e),!0}))}return ln(e,[{key:"polls",value:function(){return[]}},{key:"discussion",value:function(){return this}},{key:"group",value:function(){return new an}},{key:"markAsRead",value:function(){return!1}}]),e}();return e.singular="discussion",e.plural="discussions",e}.call(void 0);function dn(e){return dn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(e)}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fn(e,t,n){return t&&mn(e.prototype,t),n&&mn(e,n),e}function hn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}function _n(e,t){return _n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_n(e,t)}function vn(e){var t=yn();return function(){var n,o=kn(e);if(t){var r=kn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return bn(this,n)}}function bn(e,t){return!t||"object"!==dn(t)&&"function"!==typeof t?gn(e):t}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function kn(e){return kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kn(e)}var wn=function(){var e=function(e){hn(n,e);var t=vn(n);function n(){return pn(this,n),t.apply(this,arguments)}return fn(n,[{key:"nullModel",value:function(){return new un}},{key:"search",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.group_id=e,n.q=t,this.fetch({path:"search",params:n})}},{key:"fetchByGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["group_id"]=e,this.fetch({params:t})}},{key:"fetchInbox",value:function(){return this.fetch({path:"dashboard",params:{exclude_types:"group",per:50}})}}]),n}(Y);return e.prototype.model=Xt,e}.call(void 0);function xn(e){return xn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jn(e,t,n){return t&&On(e.prototype,t),n&&On(e,n),e}function Sn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}function In(e,t){return In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},In(e,t)}function Pn(e){var t=Rn();return function(){var n,o=Vn(e);if(t){var r=Vn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Tn(this,n)}}function Tn(e,t){return!t||"object"!==xn(t)&&"function"!==typeof t?An(e):t}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Vn(e){return Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vn(e)}var $n=function(){var e=function(e){Sn(n,e);var t=Pn(n);function n(){return Cn(this,n),t.apply(this,arguments)}return jn(n,[{key:"defaultValues",value:function(){return{discussionId:null,userId:null}}},{key:"relationships",value:function(){return this.belongsTo("user",{from:"users"}),this.belongsTo("discussion")}}]),n}(me);return e.singular="discussionReader",e.plural="discussionReaders",e.indices=["discussionId","userId"],e}.call(void 0);function Nn(e){return Nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}function Dn(e,t){return Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dn(e,t)}function Ln(e){var t=Un();return function(){var n,o=Bn(e);if(t){var r=Bn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Fn(this,n)}}function Fn(e,t){return!t||"object"!==Nn(t)&&"function"!==typeof t?qn(e):t}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Bn(e){return Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bn(e)}var zn=function(){var e=function(e){Mn(n,e);var t=Ln(n);function n(){return En(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=$n,e}.call(void 0),Hn=n("5add"),Gn=n.n(Hn);function Kn(e){return Kn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(e)}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qn(e,t,n){return t&&Yn(e.prototype,t),n&&Yn(e,n),e}function Zn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}function Jn(e,t){return Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jn(e,t)}function Xn(e){var t=no();return function(){var n,o=oo(e);if(t){var r=oo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return eo(this,n)}}function eo(e,t){return!t||"object"!==Kn(t)&&"function"!==typeof t?to(e):t}function to(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function no(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oo(e)}var ro=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},io=function(){var e=function(e){Zn(n,e);var t=Xn(n);function n(){var e;return Wn(this,n),e=t.apply(this,arguments),e.removeFromThread=e.removeFromThread.bind(to(e)),e}return Qn(n,[{key:"relationships",value:function(){return this.belongsTo("parent",{from:"events"}),this.belongsTo("actor",{from:"users"}),this.belongsTo("discussion"),this.hasMany("notifications")}},{key:"defaultValues",value:function(){return{pinned:!1}}},{key:"parentOrSelf",value:function(){return this.parentId?this.parent():this}},{key:"isNested",value:function(){return this.depth>1}},{key:"isSurface",value:function(){return 1===this.depth}},{key:"surfaceOrSelf",value:function(){return this.isNested()?this.parent():this}},{key:"children",value:function(){return this.recordStore.events.find({parentId:this.id})}},{key:"delete",value:function(){return this.deleted=!0}},{key:"actorName",value:function(){return this.actor()?this.actor().nameWithTitle(this.discussion().group()):tn["a"].t("common.anonymous")}},{key:"actorUsername",value:function(){if(this.actor())return this.actor().username}},{key:"model",value:function(){return this.recordStore[this.constructor.eventTypeMap[this.eventableType]].find(this.eventableId)}},{key:"isUnread",value:function(){return!this.discussion().hasRead(this.sequenceId)}},{key:"markAsRead",value:function(){return this.discussion().markAsRead(this.sequenceId)}},{key:"beforeRemove",value:function(){return Be()(this.notifications(),"remove")}},{key:"removeFromThread",value:function(){var e=this;return ro(this,n),this.remote.patchMember(this.id,"remove_from_thread").then((function(){return e.remove()}))}},{key:"pin",value:function(e){return this.remote.patchMember(this.id,"pin",{pinned_title:e})}},{key:"suggestedTitle",value:function(){var e,t,n,o;return n=this.model(),n?n.title?n.title.replace(/<[^>]*>?/gm,""):(o=new DOMParser,e=o.parseFromString(n.statement||n.body,"text/html"),(t=e.querySelector("h1,h2,h3"))?t.textContent:this.actor().name):""}},{key:"unpin",value:function(){return this.remote.patchMember(this.id,"unpin")}},{key:"isForking",value:function(){return this.discussion()&&(this.discussion().forkedEventIds.includes(this.id)||this.parentIsForking())}},{key:"parentIsForking",value:function(){return this.parent()&&this.parent().isForking()}},{key:"forkingDisabled",value:function(){return this.parentIsForking()||this.parent()&&"poll_created"===this.parent().kind}},{key:"toggleForking",value:function(){return this.isForking()?this.discussion().update({forkedEventIds:Gn()(this.discussion().forkedEventIds,this.id)}):this.discussion().forkedEventIds.push(this.id)}},{key:"next",value:function(){return this.recordStore.events.find({parentId:this.parentId,position:this.position+1})[0]}},{key:"previous",value:function(){return this.recordStore.events.find({parentId:this.parentId,position:this.position-1})[0]}}]),n}(me);return e.singular="event",e.plural="events",e.indices=["discussionId","sequenceId","position","depth","parentId","positionKey"],e.eventTypeMap={Group:"groups",Discussion:"discussions",Poll:"polls",Outcome:"outcomes",Stance:"stances",Comment:"comments",CommentVote:"comments",Membership:"memberships",MembershipRequest:"membershipRequests"},e}.call(void 0);function ao(e){return ao="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(e)}function so(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function co(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function lo(e,t,n){return t&&co(e.prototype,t),n&&co(e,n),e}function uo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}function po(e,t){return po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},po(e,t)}function mo(e){var t=_o();return function(){var n,o=vo(e);if(t){var r=vo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return fo(this,n)}}function fo(e,t){return!t||"object"!==ao(t)&&"function"!==typeof t?ho(e):t}function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vo(e)}var bo=function(){var e=function(e){uo(n,e);var t=mo(n);function n(){return so(this,n),t.apply(this,arguments)}return lo(n,[{key:"fetchByDiscussion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["discussion_key"]=e,this.fetch({params:t})}},{key:"findByDiscussionAndSequenceId",value:function(e,t){return this.collection.chain().find({discussionId:e.id}).find({sequenceId:t}).data()[0]}}]),n}(Y);return e.prototype.model=io,e}.call(void 0);function go(e){return go="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ko(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function wo(e,t,n){return t&&ko(e.prototype,t),n&&ko(e,n),e}function xo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}function Co(e,t){return Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Co(e,t)}function Oo(e){var t=Io();return function(){var n,o=Po(e);if(t){var r=Po(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return jo(this,n)}}function jo(e,t){return!t||"object"!==go(t)&&"function"!==typeof t?So(e):t}function So(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Io(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Po(e)}var To=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},Ao=function(){var e=function(e){xo(n,e);var t=Oo(n);function n(){var e;return yo(this,n),e=t.apply(this,arguments),e.archive=e.archive.bind(So(e)),e.export=e.export.bind(So(e)),e.uploadLogo=e.uploadLogo.bind(So(e)),e.uploadCover=e.uploadCover.bind(So(e)),e}return wo(n,[{key:"defaultValues",value:function(){return{parentId:null,name:"",description:"",descriptionFormat:"html",groupPrivacy:"secret",handle:null,discussionPrivacyOptions:"private_only",membershipGrantedUpon:"approval",membersCanAnnounce:!0,membersCanAddMembers:!0,membersCanEditDiscussions:!0,membersCanEditComments:!0,membersCanDeleteComments:!0,membersCanRaiseMotions:!0,membersCanStartDiscussions:!0,membersCanCreateSubgroups:!1,motionsCanBeEdited:!1,parentMembersCanSeeDiscussions:!1,files:[],imageFiles:[],attachments:[],linkPreviews:[],subscription:{},specifiedVotersOnly:!1,recipientMessage:null,recipientAudience:null,recipientUserIds:[],recipientEmails:[]}}},{key:"afterConstruction",value:function(){return this.privacyIsClosed()&&(this.allowPublicThreads="public_or_private"===this.discussionPrivacyOptions),Ze.apply(this,{showTitle:!0}),tt.apply(this)}},{key:"relationships",value:function(){return this.hasMany("discussions",{find:{discardedAt:null}}),this.hasMany("polls",{find:{discardedAt:null}}),this.hasMany("membershipRequests"),this.hasMany("memberships"),this.hasMany("allDocuments",{from:"documents",with:"groupId",of:"id"}),this.hasMany("subgroups",{from:"groups",with:"parentId",of:"id",orderBy:"name"}),this.belongsTo("parent",{from:"groups"})}},{key:"tags",value:function(){return this.recordStore.tags.collection.chain().find({id:{$in:this.tagIds}}).simplesort("priority").data()}},{key:"parentOrSelf",value:function(){return this.parentId?this.parent():this}},{key:"group",value:function(){return this}},{key:"fetchToken",value:function(){var e=this;return this.remote.getMember(this.id,"token").then((function(){return e.token}))}},{key:"resetToken",value:function(){var e=this;return this.remote.postMember(this.id,"reset_token").then((function(){return e.token}))}},{key:"pendingMembershipRequests",value:function(){return ie()(this.membershipRequests(),(function(e){return e.isPending()}))}},{key:"hasPendingMembershipRequests",value:function(){return Nt()(this.pendingMembershipRequests())}},{key:"hasPendingMembershipRequestFrom",value:function(e){return Nt()(this.pendingMembershipRequests(),(function(t){return t.requestorId===e.id}))}},{key:"previousMembershipRequests",value:function(){return ie()(this.membershipRequests(),(function(e){return!e.isPending()}))}},{key:"hasPreviousMembershipRequests",value:function(){return Nt()(this.previousMembershipRequests())}},{key:"pendingInvitations",value:function(){return ie()(this.invitations(),(function(e){return e.isPending()&&e.singleUse}))}},{key:"hasPendingInvitations",value:function(){return Nt()(this.pendingInvitations())}},{key:"hasSubgroups",value:function(){return this.isParent()&&this.subgroups().length}},{key:"publicOrganisationIds",value:function(){return f()(ie()(this.subgroups().concat(this),(function(e){return"open"===e.groupPrivacy})),"id")}},{key:"organisationIds",value:function(){return f()(this.subgroups(),"id").concat(this.id)}},{key:"selfAndSubgroups",value:function(){return this.recordStore.groups.find(this.selfAndSubgroupIds())}},{key:"selfAndSubgroupIds",value:function(){return[this.id].concat(this.recordStore.groups.find({parentId:this.id}).map((function(e){return e.id})))}},{key:"membershipFor",value:function(e){return this.recordStore.memberships.find({groupId:this.id,userId:e.id})[0]}},{key:"members",value:function(){return this.recordStore.users.collection.find({id:{$in:this.memberIds()}})}},{key:"parentsAndSelf",value:function(){return this.selfAndParents().reverse()}},{key:"selfAndParents",value:function(){return Z()([this].concat(this.parentId&&this.parent().parentsAndSelf()))}},{key:"parentAndSelfMemberships",value:function(){return this.recordStore.memberships.collection.find({groupId:{$in:this.parentOrSelf().selfAndSubgroupIds()}})}},{key:"parentAndSelfMembershipIds",value:function(){return this.parentAndSelfMemberships().map((function(e){return e.id}))}},{key:"parentAndSelfMembers",value:function(){return this.recordStore.users.collection.find({id:{$in:this.parentAndSelfMemberships().map((function(e){return e.userId}))}})}},{key:"parentAndSelfMemberIds",value:function(){return this.parentAndSelfMembers().map((function(e){return e.id}))}},{key:"membersInclude",value:function(e){return this.membershipFor(e)||!1}},{key:"adminsInclude",value:function(e){return this.recordStore.memberships.find({groupId:this.id,userId:e.id,admin:!0})[0]||!1}},{key:"adminMemberships",value:function(){return this.recordStore.memberships.find({groupId:this.id,admin:!0})}},{key:"admins",value:function(){return this.recordStore.users.find({id:{$in:this.adminIds()}})}},{key:"memberIds",value:function(){return f()(this.memberships(),"userId")}},{key:"adminIds",value:function(){return f()(this.adminMemberships(),"userId")}},{key:"parentName",value:function(){if(null!=this.parent())return this.parent().name}},{key:"privacyIsOpen",value:function(){return"open"===this.groupPrivacy}},{key:"privacyIsClosed",value:function(){return"closed"===this.groupPrivacy}},{key:"privacyIsSecret",value:function(){return"secret"===this.groupPrivacy}},{key:"isArchived",value:function(){return null!=this.archivedAt}},{key:"isParent",value:function(){return null==this.parentId}},{key:"logoUrl",value:function(){return this.logoUrlMedium?this.logoUrlMedium:this.parent()?this.parent().logoUrl():I["a"].theme.icon_src}},{key:"coverUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"large";return this.parentId&&!this.hasCustomCover?this.parent().coverUrl(e):this.coverUrls[e]}},{key:"archive",value:function(){var e=this;return To(this,n),this.remote.patchMember(this.key,"archive").then((function(){return e.remove(),u()(e.memberships(),(function(e){return e.remove()}))}))}},{key:"export",value:function(){return To(this,n),this.remote.postMember(this.id,"export")}},{key:"uploadLogo",value:function(e){return To(this,n),this.remote.upload("".concat(this.key,"/upload_photo/logo"),e,{},(function(){}))}},{key:"uploadCover",value:function(e){return To(this,n),this.remote.upload("".concat(this.key,"/upload_photo/cover_photo"),e,{},(function(){}))}},{key:"hasSubscription",value:function(){return null!=this.subscriptionKind}},{key:"isSubgroupOfSecretParent",value:function(){return this.parent()&&this.parent().privacyIsSecret()}}]),n}(me);return e.singular="group",e.plural="groups",e.uniqueIndices=["id","key"],e.indices=["parentId"],e}.call(void 0);function Ro(e){return Ro="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function No(e,t,n){return t&&$o(e.prototype,t),n&&$o(e,n),e}function Eo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}function Mo(e,t){return Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mo(e,t)}function Do(e){var t=qo();return function(){var n,o=Uo(e);if(t){var r=Uo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Lo(this,n)}}function Lo(e,t){return!t||"object"!==Ro(t)&&"function"!==typeof t?Fo(e):t}function Fo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Uo(e){return Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uo(e)}var Bo=function(){var e=function(e){Eo(n,e);var t=Do(n);function n(){return Vo(this,n),t.apply(this,arguments)}return No(n,[{key:"nullModel",value:function(){return new an}},{key:"fuzzyFind",value:function(e){return this.find(e)||Vt()(this.find({handle:"".concat(e).toLowerCase()}))}},{key:"findOrFetch",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=this.fuzzyFind(e),t?(this.remote.fetchById(e,o),Promise.resolve(t)):this.remote.fetchById(e,o).then((function(){return n.fuzzyFind(e)}))}},{key:"fetchByParent",value:function(e){return this.fetch({path:"".concat(e.id,"/subgroups")})}},{key:"fetchExploreGroups",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["q"]=e,this.fetch({params:t})}},{key:"getExploreResultsCount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["q"]=e,this.fetch({path:"count_explore_results",params:t})}},{key:"getHandle",value:function(e){var t=e.name,n=e.parentHandle;return this.fetch({path:"suggest_handle",params:{name:t,parent_handle:n}})}}]),n}(Y);return e.prototype.model=Ao,e}.call(void 0);function zo(e){return zo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(e)}function Ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Go(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ko(e,t,n){return t&&Go(e.prototype,t),n&&Go(e,n),e}function Wo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}function Yo(e,t){return Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yo(e,t)}function Qo(e){var t=Xo();return function(){var n,o=er(e);if(t){var r=er(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Zo(this,n)}}function Zo(e,t){return!t||"object"!==zo(t)&&"function"!==typeof t?Jo(e):t}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},er(e)}var tr=function(){var e=function(e){Wo(n,e);var t=Qo(n);function n(){return Ho(this,n),t.apply(this,arguments)}return Ko(n,[{key:"defaultValues",value:function(){return{userId:null,groupId:null,archivedAt:null,inviterId:null,volume:null}}},{key:"relationships",value:function(){return this.belongsTo("group"),this.belongsTo("user"),this.belongsTo("inviter",{from:"users"})}},{key:"userName",value:function(){return this.user().nameWithTitle(this.group())}},{key:"userUsername",value:function(){return this.user().username}},{key:"userEmail",value:function(){return this.user().email}},{key:"groupName",value:function(){return this.group().name}},{key:"saveVolume",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.processing=!0,this.remote.patchMember(this.keyOrId(),"set_volume",{volume:e,apply_to_all:n,unsubscribe_token:this.user().unsubscribeToken}).then((function(){return n?(t.recordStore.discussions.collection.find({groupId:{$in:t.group().organisationIds()}}).forEach((function(e){return e.update({discussionReaderVolume:null})})),u()(t.user().memberships(),(function(t){return t.update({volume:e})}))):u()(t.group().discussions(),(function(e){return e.update({discussionReaderVolume:null})}))})).finally((function(){return t.processing=!1}))}},{key:"resend",value:function(){var e=this;return this.remote.postMember(this.keyOrId(),"resend").then((function(){return e.resent=!0}))}},{key:"isMuted",value:function(){return"mute"===this.volume}},{key:"beforeRemove",value:function(){return Be()(this.recordStore.events.find({eventableType:"membership",eventableId:this.id}),"remove")}}]),n}(me);return e.singular="membership",e.plural="memberships",e.indices=["userId","groupId"],e.searchableFields=["userName","userUsername"],e}.call(void 0);function nr(e){return nr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ir(e,t,n){return t&&rr(e.prototype,t),n&&rr(e,n),e}function ar(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}function sr(e,t){return sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sr(e,t)}function cr(e){var t=dr();return function(){var n,o=pr(e);if(t){var r=pr(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return lr(this,n)}}function lr(e,t){return!t||"object"!==nr(t)&&"function"!==typeof t?ur(e):t}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}var mr=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},fr=function(){var e=function(e){ar(n,e);var t=cr(n);function n(){var e;return or(this,n),e=t.apply(this,arguments),e.saveExperience=e.saveExperience.bind(ur(e)),e}return ir(n,[{key:"forUser",value:function(e){return this.collection.find({userId:e.id})}},{key:"forModel",value:function(e){return this.collection.find({groupId:{$in:e.groupIds()}})}},{key:"forGroup",value:function(e){return this.collection.find({groupId:e.id})}},{key:"joinGroup",value:function(e){return this.remote.post("join_group",{group_id:e.id})}},{key:"fetchMyMemberships",value:function(){return this.fetch({path:"my_memberships"})}},{key:"fetchByNameFragment",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return this.fetch({path:"autocomplete",params:{q:e,group_key:t,per:n}})}},{key:"fetchByGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch({params:{group_key:e,per:t["per"]||30}})}},{key:"fetchByUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch({path:"for_user",params:{user_id:e.id,per:t["per"]||30}})}},{key:"makeAdmin",value:function(e){return this.remote.postMember(e.id,"make_admin")}},{key:"removeAdmin",value:function(e){return this.remote.postMember(e.id,"remove_admin")}},{key:"saveExperience",value:function(e,t){return mr(this,n),this.remote.postMember(t.id,"save_experience",{experience:e})}}]),n}(Y);return e.prototype.model=tr,e}.call(void 0);function hr(e){return hr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(e)}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function br(e,t,n){return t&&vr(e.prototype,t),n&&vr(e,n),e}function gr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}function yr(e,t){return yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yr(e,t)}function kr(e){var t=Cr();return function(){var n,o=Or(e);if(t){var r=Or(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return wr(this,n)}}function wr(e,t){return!t||"object"!==hr(t)&&"function"!==typeof t?xr(e):t}function xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Or(e){return Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(e)}var jr=function(){var e=function(e){gr(n,e);var t=kr(n);function n(){return _r(this,n),t.apply(this,arguments)}return br(n,[{key:"defaultValues",value:function(){return{introduction:null,groupId:null}}},{key:"relationships",value:function(){return this.belongsTo("group"),this.belongsTo("requestor",{from:"users"}),this.belongsTo("responder",{from:"users"})}},{key:"afterConstruction",value:function(){var e;return e=this.name||this.email||"",this.fakeUser={name:e,email:this.email,avatarKind:"initials",constructor:{singular:"user"},avatarInitials:e.split(" ").map((function(e){return e[0]})).join("")}}},{key:"actor",value:function(){return this.byExistingUser()?this.requestor():this.fakeUser}},{key:"byExistingUser",value:function(){return null!=this.requestorId}},{key:"isPending",value:function(){return null==this.respondedAt}},{key:"formattedResponse",value:function(){return He()(this.response)}}]),n}(me);return e.singular="membershipRequest",e.plural="membershipRequests",e.indices=["id","groupId"],e}.call(void 0);function Sr(e){return Sr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Tr(e,t,n){return t&&Pr(e.prototype,t),n&&Pr(e,n),e}function Ar(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}function Rr(e,t){return Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rr(e,t)}function Vr(e){var t=Er();return function(){var n,o=Mr(e);if(t){var r=Mr(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $r(this,n)}}function $r(e,t){return!t||"object"!==Sr(t)&&"function"!==typeof t?Nr(e):t}function Nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Er(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mr(e)}var Dr=function(){var e=function(e){Ar(n,e);var t=Vr(n);function n(){return Ir(this,n),t.apply(this,arguments)}return Tr(n,[{key:"fetchMyPendingByGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["group_key"]=e,this.remote.get("my_pending",t)}},{key:"fetchPendingByGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["group_key"]=e,this.remote.get("pending",t)}},{key:"fetchPreviousByGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["group_key"]=e,this.remote.get("previous",t)}},{key:"approve",value:function(e){return this.remote.postMember(e.id,"approve",{group_key:e.group().key})}},{key:"ignore",value:function(e){return this.remote.postMember(e.id,"ignore",{group_key:e.group().key})}}]),n}(Y);return e.prototype.model=jr,e}.call(void 0),Lr=n("5300");function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ur(e,t,n){return t&&qr(e.prototype,t),n&&qr(e,n),e}var Br=function(){var e=function(){function e(){Fr(this,e)}return Ur(e,[{key:"nameWithTitle",value:function(){return this.name}}]),e}();return e.singular="group",e.plural="groups",e.prototype.name=tn["a"].t("common.anonymous"),e.prototype.username=null,e}.call(void 0);function zr(e){return zr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(e)}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Kr(e,t,n){return t&&Gr(e.prototype,t),n&&Gr(e,n),e}function Wr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}function Yr(e,t){return Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yr(e,t)}function Qr(e){var t=Xr();return function(){var n,o=ei(e);if(t){var r=ei(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Zr(this,n)}}function Zr(e,t){return!t||"object"!==zr(t)&&"function"!==typeof t?Jr(e):t}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ei(e)}var ti=function(){var e=function(e){Wr(n,e);var t=Qr(n);function n(){return Hr(this,n),t.apply(this,arguments)}return Kr(n,[{key:"relationships",value:function(){return this.belongsTo("event"),this.belongsTo("user"),this.belongsTo("actor",{from:"users"})}},{key:"actionPath",value:function(){switch(this.kind()){case"invitation_accepted":return this.actor().username}}},{key:"href",value:function(){return this.url?"membership_requested"===this.kind?"/"+this.url.split("/")[1]+"/members/requests":this.url.startsWith(I["a"].baseUrl)?"/"+this.url.replace(I["a"].baseUrl,""):"/"+this.url:"/"}},{key:"path",value:function(){return"reaction_created"===this.kind?"notifications.reaction_created_vue":"notifications.".concat(this.kind)}},{key:"args",value:function(){return{name:this.translationValues.name,reaction:"reaction_created"===this.kind?Object(Lr["a"])(this.translationValues.reaction):void 0,title:this.translationValues.title,poll_type:this.translationValues.poll_type,model:this.translationValues.model}}},{key:"actor",value:function(){return this.actor()||this.membershipRequestActor()}},{key:"membershipRequestActor",value:function(){var e;return e=(this.translationValues.name||this.translationValues.email||"").toString(),Records.users.build({name:e,avatarInitials:e.split(" ").map((function(e){return e[0]})).join(""),avatarKind:"initials"})}},{key:"isRouterLink",value:function(){return!this.url.includes("/invitations/")}}]),n}(me);return e.singular="notification",e.plural="notifications",e}.call(void 0);function ni(e){return ni="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ni(e)}function oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ri(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ii(e,t,n){return t&&ri(e.prototype,t),n&&ri(e,n),e}function ai(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}function si(e,t){return si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},si(e,t)}function ci(e){var t=di();return function(){var n,o=pi(e);if(t){var r=pi(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return li(this,n)}}function li(e,t){return!t||"object"!==ni(t)&&"function"!==typeof t?ui(e):t}function ui(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pi(e){return pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pi(e)}var mi=function(){var e=function(e){ai(n,e);var t=ci(n);function n(){return oi(this,n),t.apply(this,arguments)}return ii(n,[{key:"fetchNotifications",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch({params:t})}},{key:"viewed",value:function(){var e;if(e=!1,this.collection.find({viewed:{$ne:!0}}).forEach((function(t){return e=!0,t.update({viewed:!0})})),e)return this.remote.post("viewed")}}]),n}(Y);return e.prototype.model=ti,e}.call(void 0),fi=n("cd9d"),hi=n.n(fi),_i=n("77c1"),vi=n.n(_i),bi=n("78b0"),gi=n.n(bi),yi=n("4d8c"),ki=n.n(yi),wi=n("2769"),xi=n.n(wi);function Ci(e){return Ci="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function Oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ji(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Si(e,t,n){return t&&ji(e.prototype,t),n&&ji(e,n),e}function Ii(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pi(e,t)}function Pi(e,t){return Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pi(e,t)}function Ti(e){var t=Vi();return function(){var n,o=$i(e);if(t){var r=$i(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ai(this,n)}}function Ai(e,t){return!t||"object"!==Ci(t)&&"function"!==typeof t?Ri(e):t}function Ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function $i(e){return $i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$i(e)}var Ni=function(){var e=function(e){Ii(n,e);var t=Ti(n);function n(){return Oi(this,n),t.apply(this,arguments)}return Si(n,[{key:"relationships",value:function(){return this.hasMany("memberships")}},{key:"defaultValues",value:function(){return{shortBio:"",shortBioFormat:"html",files:[],imageFiles:[],attachments:[],linkPreviews:[],locale:I["a"].defaultLocale,experiences:[]}}},{key:"nameOrEmail",value:function(){return this.name||this.email||this.placeholderName}},{key:"simpleBio",value:function(){return gi()((this.shortBio||"").replace(/<\/?[^>]+(>|$)/g,""),{length:70})}},{key:"localeName",value:function(){var e=this;return(xi()(I["a"].locales,(function(t){return t.key===e.locale}))||{}).name}},{key:"adminMemberships",value:function(){return this.recordStore.memberships.find({userId:this.id,admin:!0})}},{key:"groupIds",value:function(){return f()(this.memberships(),"groupId")}},{key:"groups",value:function(){return this.recordStore.groups.collection.chain().find({id:{$in:this.groupIds()}}).simplesort("fullName").data()}},{key:"parentGroups",value:function(){return ie()(this.groups(),(function(e){return!e.parentId}))}},{key:"inboxGroups",value:function(){return ki()([this.parentGroups(),this.orphanSubgroups()])}},{key:"allThreads",value:function(){return ki()(this.groups().map((function(e){return e.discussions()})))}},{key:"orphanSubgroups",value:function(){var e=this;return ie()(this.groups(),(function(t){return t.parentId&&!t.parent().membersInclude(e)}))}},{key:"orphanParents",value:function(){return Ke()(Z()(this.orphanSubgroups().map((function(e){return e.parentId&&e.parent()}))))}},{key:"membershipFor",value:function(e){if(e)return this.recordStore.memberships.find({groupId:e.id,userId:this.id})[0]}},{key:"firstName",value:function(){if(this.name)return Vt()(this.name.split(" "))}},{key:"saveVolume",value:function(e,t){var n=this;return this.processing=!0,this.remote.post("set_volume",{volume:e,apply_to_all:t,unsubscribe_token:this.unsubscribeToken}).then((function(){if(t)return n.allThreads().forEach((function(e){return e.update({discussionReaderVolume:null})})),n.memberships().forEach((function(t){return t.update({volume:e})}))})).finally((function(){return n.processing=!1}))}},{key:"hasExperienced",value:function(e,t){return t&&this.isMemberOf(t)?this.membershipFor(t).experiences[e]:this.experiences[e]}},{key:"hasProfilePhoto",value:function(){return"initials"!==this.avatarKind}},{key:"uploadedAvatarUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return"string"===typeof this.avatarUrl?this.avatarUrl:this.avatarUrl[e]}},{key:"title",value:function(e){return this.titles[e.id]||this.titles[e.parentId]}},{key:"nameWithTitle",value:function(e){var t,n;return t=this.nameOrEmail(),e?(n=this.titles||{},Z()([t,n[e.id]||n[e.parentId]]).join("  ")):t}}]),n}(me);return e.singular="user",e.plural="users",e}.call(void 0);function Ei(e){return Ei="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei(e)}function Mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Li(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fi(e,t,n){return t&&Li(e.prototype,t),n&&Li(e,n),e}function qi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}function Ui(e,t){return Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ui(e,t)}function Bi(e){var t=Gi();return function(){var n,o=Ki(e);if(t){var r=Ki(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return zi(this,n)}}function zi(e,t){return!t||"object"!==Ei(t)&&"function"!==typeof t?Hi(e):t}function Hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ki(e){return Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ki(e)}var Wi=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},Yi=function(){var e=function(e){qi(n,e);var t=Bi(n);function n(){var e;return Di(this,n),e=t.apply(this,arguments),e.fetchMentionable=e.fetchMentionable.bind(Hi(e)),e.updateProfile=e.updateProfile.bind(Hi(e)),e.uploadAvatar=e.uploadAvatar.bind(Hi(e)),e.changePassword=e.changePassword.bind(Hi(e)),e.destroy=e.destroy.bind(Hi(e)),e.saveExperience=e.saveExperience.bind(Hi(e)),e.removeExperience=e.removeExperience.bind(Hi(e)),e}return Fi(n,[{key:"nullModel",value:function(){return new Br}},{key:"fetchTimeZones",value:function(){return this.remote.fetch({path:"time_zones"})}},{key:"fetchGroups",value:function(){return this.remote.fetch({path:"groups",params:{exclude_types:"user"}})}},{key:"fetchMentionable",value:function(e,t){return Wi(this,n),null==t.id&&t.discussionId&&(t=t.discussion()),null!=t.id||t.discussionId||(t=t.group()),this.fetch({path:"mentionable_users",params:Mi({q:e},"".concat(t.constructor.singular,"_id"),t.id)})}},{key:"updateProfile",value:function(e){return Wi(this,n),e.processing=!0,this.remote.post("update_profile",a()(e.serialize(),{unsubscribe_token:e.unsubscribeToken})).finally((function(){return e.processing=!1}))}},{key:"uploadAvatar",value:function(e){return Wi(this,n),this.remote.upload("upload_avatar",e)}},{key:"changePassword",value:function(e){return Wi(this,n),e.processing=!0,this.remote.post("change_password",e.serialize()).finally((function(){return e.processing=!1}))}},{key:"destroy",value:function(){return Wi(this,n),this.remote.delete("/")}},{key:"saveExperience",value:function(e){return Wi(this,n),this.remote.post("save_experience",{experience:e})}},{key:"removeExperience",value:function(e){return Wi(this,n),this.remote.post("save_experience",{experience:e,remove_experience:1})}},{key:"emailStatus",value:function(e,t){return this.fetch({path:"email_status",params:vi()({email:e,token:t},hi.a)})}},{key:"checkEmailExistence",value:function(e){return this.fetch({path:"email_exists",params:{email:e}})}},{key:"sendMergeVerificationEmail",value:function(e){return this.fetch({path:"send_merge_verification_email",params:{target_email:e}})}}]),n}(Y);return e.prototype.model=Ni,e.prototype.apiEndPoint="profile",e}.call(void 0);function Qi(e){return Qi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(e)}function Zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xi(e,t)}function Xi(e,t){return Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xi(e,t)}function ea(e){var t=oa();return function(){var n,o=ra(e);if(t){var r=ra(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ta(this,n)}}function ta(e,t){return!t||"object"!==Qi(t)&&"function"!==typeof t?na(e):t}function na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ra(e){return ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ra(e)}var ia=function(){var e=function(e){Ji(n,e);var t=ea(n);function n(){return Zi(this,n),t.apply(this,arguments)}return n}(me);return e.singular="searchResult",e.plural="searchResults",e.indicies=["groupId"],e}.call(void 0);function aa(e){return aa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(e)}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ca(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}function la(e,t){return la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},la(e,t)}function ua(e){var t=ma();return function(){var n,o=fa(e);if(t){var r=fa(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return da(this,n)}}function da(e,t){return!t||"object"!==aa(t)&&"function"!==typeof t?pa(e):t}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ma(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fa(e){return fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fa(e)}var ha=function(){var e=function(e){ca(n,e);var t=ua(n);function n(){return sa(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=ia,e.prototype.apiEndPoint="search",e}.call(void 0);function _a(e){return _a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(e)}function va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ba(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ga(e,t,n){return t&&ba(e.prototype,t),n&&ba(e,n),e}function ya(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}function ka(e,t){return ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ka(e,t)}function wa(e){var t=Oa();return function(){var n,o=ja(e);if(t){var r=ja(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return xa(this,n)}}function xa(e,t){return!t||"object"!==_a(t)&&"function"!==typeof t?Ca(e):t}function Ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ja(e)}var Sa=function(){var e=function(e){ya(n,e);var t=wa(n);function n(){return va(this,n),t.apply(this,arguments)}return ga(n,[{key:"relationships",value:function(){return this.belongsTo("discussion"),this.belongsTo("comment"),this.belongsTo("poll"),this.belongsTo("author",{from:"users",by:"whodunnit"})}},{key:"editedAttributeNames",value:function(){return ie()(p()(this.changes).sort(),(function(e){return $()(["title","name","description","closing_at","private","document_ids"],e)}))}},{key:"attributeEdited",value:function(e){return $()(p()(this.changes),e)}},{key:"authorName",value:function(){if(this.author())return this.author().nameWithTitle(this.model().group())}},{key:"model",value:function(){return this.recordStore["".concat(this.itemType.toLowerCase(),"s")].find(this.itemId)}},{key:"isCurrent",value:function(){return this.index===this.model().versionsCount-1}},{key:"isOriginal",value:function(){return 0===this.index}},{key:"authorOrEditorName",value:function(){return this.isOriginal()?this.model().authorName():this.authorName()}}]),n}(me);return e.singular="version",e.plural="versions",e.indices=["discussionId"],e}.call(void 0);function Ia(e){return Ia="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function Pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aa(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ra(e,t,n){return t&&Aa(e.prototype,t),n&&Aa(e,n),e}function Va(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$a(e,t)}function $a(e,t){return $a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$a(e,t)}function Na(e){var t=Da();return function(){var n,o=La(e);if(t){var r=La(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ea(this,n)}}function Ea(e,t){return!t||"object"!==Ia(t)&&"function"!==typeof t?Ma(e):t}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Da(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function La(e){return La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},La(e)}var Fa=function(){var e=function(e){Va(n,e);var t=Na(n);function n(){return Ta(this,n),t.apply(this,arguments)}return Ra(n,[{key:"fetchByDiscussion",value:function(e){return this.fetch({params:{model:"discussion",discussion_id:e}})}},{key:"fetchByComment",value:function(e){return this.fetch({params:{model:"comment",comment_id:e}})}},{key:"fetchVersion",value:function(e,t){var n,o;return o=e.constructor.singular,this.fetch({params:(n={},Pa(n,"".concat(o,"_id"),e.id),Pa(n,"index",t),n)})}}]),n}(Y);return e.prototype.model=Sa,e}.call(void 0);function qa(e){return qa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(e)}function Ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}function za(e,t){return za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},za(e,t)}function Ha(e){var t=Wa();return function(){var n,o=Ya(e);if(t){var r=Ya(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ga(this,n)}}function Ga(e,t){return!t||"object"!==qa(t)&&"function"!==typeof t?Ka(e):t}function Ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ya(e){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ya(e)}var Qa=function(){var e=function(e){Ba(n,e);var t=Ha(n);function n(){return Ua(this,n),t.apply(this,arguments)}return n}(me);return e.singular="translation",e.plural="translations",e.indices=["id"],e}.call(void 0);function Za(e){return Za="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function es(e,t,n){return t&&Xa(e.prototype,t),n&&Xa(e,n),e}function ts(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ns(e,t)}function ns(e,t){return ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ns(e,t)}function os(e){var t=as();return function(){var n,o=ss(e);if(t){var r=ss(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return rs(this,n)}}function rs(e,t){return!t||"object"!==Za(t)&&"function"!==typeof t?is(e):t}function is(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function as(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ss(e)}var cs=function(){var e=function(e){ts(n,e);var t=os(n);function n(){return Ja(this,n),t.apply(this,arguments)}return es(n,[{key:"fetchTranslation",value:function(e,t){return this.fetch({path:"inline",params:{model:e.constructor.singular,id:e.id,to:t}})}}]),n}(Y);return e.prototype.model=Qa,e}.call(void 0);function ls(e){return ls="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(e)}function us(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ps(e,t)}function ps(e,t){return ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ps(e,t)}function ms(e){var t=_s();return function(){var n,o=vs(e);if(t){var r=vs(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return fs(this,n)}}function fs(e,t){return!t||"object"!==ls(t)&&"function"!==typeof t?hs(e):t}function hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vs(e)}var bs=function(){var e=function(e){ds(n,e);var t=ms(n);function n(){return us(this,n),t.apply(this,arguments)}return n}(me);return e.singular="session",e.plural="sessions",e.serializableAttributes=["type","code","email","password","rememberMe"],e.serializationRoot="user",e}.call(void 0);function gs(e){return gs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(e)}function ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ks(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ws(e,t)}function ws(e,t){return ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ws(e,t)}function xs(e){var t=js();return function(){var n,o=Ss(e);if(t){var r=Ss(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Cs(this,n)}}function Cs(e,t){return!t||"object"!==gs(t)&&"function"!==typeof t?Os(e):t}function Os(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function js(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ss(e)}var Is=function(){var e=function(e){ks(n,e);var t=xs(n);function n(){return ys(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=bs,e}.call(void 0);function Ps(e){return Ps="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}function Ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function As(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}function Rs(e,t){return Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rs(e,t)}function Vs(e){var t=Es();return function(){var n,o=Ms(e);if(t){var r=Ms(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $s(this,n)}}function $s(e,t){return!t||"object"!==Ps(t)&&"function"!==typeof t?Ns(e):t}function Ns(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Es(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ms(e){return Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ms(e)}var Ds=function(){var e=function(e){As(n,e);var t=Vs(n);function n(){return Ts(this,n),t.apply(this,arguments)}return n}(me);return e.singular="registration",e.plural="registrations",e.serializableAttributes=["name","email","password","passwordConfirmation","recaptcha","legalAccepted","emailNewsletter"],e.serializationRoot="user",e}.call(void 0);function Ls(e){return Ls="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}function Fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qs(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Us(e,t)}function Us(e,t){return Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Us(e,t)}function Bs(e){var t=Gs();return function(){var n,o=Ks(e);if(t){var r=Ks(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return zs(this,n)}}function zs(e,t){return!t||"object"!==Ls(t)&&"function"!==typeof t?Hs(e):t}function Hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gs(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ks(e){return Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ks(e)}var Ws=function(){var e=function(e){qs(n,e);var t=Bs(n);function n(){return Fs(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=Ds,e}.call(void 0),Ys=n("2acb"),Qs=n.n(Ys),Zs=n("abdd"),Js=n.n(Zs),Xs=n("0b1b"),ec=n("f7f1");function tc(e){return tc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(e)}function nc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function rc(e,t,n){return t&&oc(e.prototype,t),n&&oc(e,n),e}function ic(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ac(e,t)}function ac(e,t){return ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ac(e,t)}function sc(e){var t=uc();return function(){var n,o=dc(e);if(t){var r=dc(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return cc(this,n)}}function cc(e,t){return!t||"object"!==tc(t)&&"function"!==typeof t?lc(e):t}function lc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function dc(e){return dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dc(e)}var pc=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},mc=function(){var e=function(e){ic(n,e);var t=sc(n);function n(){var e;return nc(this,n),e=t.apply(this,arguments),e.close=e.close.bind(lc(e)),e.reopen=e.reopen.bind(lc(e)),e.addOptions=e.addOptions.bind(lc(e)),e.addToThread=e.addToThread.bind(lc(e)),e.addOption=e.addOption.bind(lc(e)),e.setMinimumStanceChoices=e.setMinimumStanceChoices.bind(lc(e)),e.hasRequiredField=e.hasRequiredField.bind(lc(e)),e.hasPollSetting=e.hasPollSetting.bind(lc(e)),e}return rc(n,[{key:"afterConstruction",value:function(){return Ze.apply(this,{showTitle:!0}),tt.apply(this)}},{key:"pollTypeKey",value:function(){return"poll_types.".concat(this.pollType)}},{key:"poll",value:function(){return this}},{key:"defaultValues",value:function(){return{discussionId:null,title:"",details:"",detailsFormat:"html",closingAt:Object(Xs["a"])(Object(ec["a"])(new Date,3)),specifiedVotersOnly:!1,pollOptionNames:[],pollOptionIds:[],customFields:{minimum_stance_choices:null,max_score:null,min_score:null},files:[],imageFiles:[],attachments:[],linkPreviews:[],notifyOnClosingSoon:"undecided_voters",pleaseShowResults:!1,recipientMessage:null,recipientAudience:null,recipientUserIds:[],recipientEmails:[],tagIds:[]}}},{key:"audienceValues",value:function(){return{name:this.group().name}}},{key:"relationships",value:function(){return this.belongsTo("author",{from:"users"}),this.belongsTo("discussion"),this.belongsTo("group"),this.hasMany("pollOptions",{orderBy:"priority"}),this.hasMany("stances"),this.hasMany("versions")}},{key:"bestNamedId",value:function(){return(this.id&&this||this.discusionId&&this.discussion()||this.groupId&&this.group()||{namedId:function(){}}).namedId()}},{key:"tags",value:function(){return this.recordStore.tags.collection.chain().find({id:{$in:this.tagIds}}).simplesort("priority").data()}},{key:"voters",value:function(){return this.latestStances().map((function(e){return e.participant()}))}},{key:"members",value:function(){return(this.group()&&this.group().members()||[]).concat(this.voters())}},{key:"adminsInclude",value:function(e){var t;return t=this.stanceFor(e),t&&t.admin||this.discussionId&&this.discussion().adminsInclude(e)||this.group().adminsInclude(e)}},{key:"membersInclude",value:function(e){return this.stanceFor(e)||this.discussionId&&this.discussion().membersInclude(e)||this.group().membersInclude(e)}},{key:"stanceFor",value:function(e){return Vt()(te()(this.recordStore.stances.find({pollId:this.id,participantId:e.id,latest:!0,revokedAt:null}),"createdAt","desc"))}},{key:"myStance",value:function(){return Vt()(te()(this.recordStore.stances.find({pollId:this.id,myStance:!0,latest:!0,revokedAt:null}),"createdAt","desc"))}},{key:"iHaveVoted",value:function(){return this.myStance()&&this.myStance().castAt}},{key:"authorName",value:function(){return this.author().nameWithTitle(this.group())}},{key:"reactions",value:function(){return this.recordStore.reactions.find({reactableId:this.id,reactableType:"Poll"})}},{key:"decidedVoterIds",value:function(){return f()(this.latestCastStances(),"participantId")}},{key:"decidedVoters",value:function(){return this.recordStore.users.find(this.decidedVoterIds())}},{key:"outcome",value:function(){return this.recordStore.outcomes.find({pollId:this.id,latest:!0})[0]}},{key:"createdEvent",value:function(){return this.recordStore.events.find({eventableId:this.id,kind:"poll_created"})[0]}},{key:"clearStaleStances",value:function(){var e;return e=[],u()(this.latestStances(),(function(t){return $()(e,t.participantId)?t.latest=!1:e.push(t.participantId)}))}},{key:"latestStances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-createdAt",t=arguments.length>1?arguments[1]:void 0;return Qs()(Pt()(this.recordStore.stances.find({pollId:this.id,latest:!0,revokedAt:null}),e),0,t)}},{key:"latestCastStances",value:function(){return this.recordStore.stances.collection.chain().find({pollId:this.id,latest:!0,revokedAt:null,castAt:{$ne:null}}).data()}},{key:"hasDescription",value:function(){return!!this.details}},{key:"isActive",value:function(){return!this.discardedAt&&null==this.closedAt}},{key:"isClosed",value:function(){return null!=this.closedAt}},{key:"showResults",value:function(){return!!this.closingAt&&(!(this.hideResultsUntilClosed&&!this.closedAt)&&(this.closedAt||(this.myStance()||{}).castAt||this.pleaseShowResults))}},{key:"close",value:function(){var e=this;return pc(this,n),this.processing=!0,this.remote.postMember(this.key,"close").finally((function(){return e.processing=!1}))}},{key:"reopen",value:function(){var e=this;return pc(this,n),this.processing=!0,this.remote.postMember(this.key,"reopen",{poll:{closing_at:this.closingAt}}).finally((function(){return e.processing=!1}))}},{key:"addOptions",value:function(){var e=this;return pc(this,n),this.processing=!0,this.remote.postMember(this.key,"add_options",{poll_option_names:this.pollOptionNames}).finally((function(){return e.processing=!1}))}},{key:"addToThread",value:function(e){var t=this;return pc(this,n),this.processing=!0,this.remote.patchMember(this.keyOrId(),"add_to_thread",{discussion_id:e}).finally((function(){return t.processing=!1}))}},{key:"notifyAction",value:function(){return this.isNew()?"publish":"edit"}},{key:"translatedPollType",value:function(){return tn["a"].t("poll_types.".concat(this.pollType))}},{key:"addOption",value:function(e){return pc(this,n),!(this.pollOptionNames.includes(e)||!e)&&(this.pollOptionNames.push(e),"meeting"===this.pollType&&this.pollOptionNames.sort(),e)}},{key:"setMinimumStanceChoices",value:function(){if(pc(this,n),this.isNew()&&this.hasRequiredField("minimum_stance_choices"))return this.customFields.minimum_stance_choices=Js()([this.pollOptionNames.length,1])}},{key:"hasRequiredField",value:function(e){return pc(this,n),$()(I["a"].pollTemplates[this.pollType].required_custom_fields,e)}},{key:"hasPollSetting",value:function(e){return pc(this,n),null!=I["a"].pollTemplates[this.pollType][e]}},{key:"hasVariableScore",value:function(){return I["a"].pollTemplates[this.pollType]["has_variable_score"]}},{key:"hasOptionIcons",value:function(){return I["a"].pollTemplates[this.pollType]["has_option_icons"]}},{key:"singleChoice",value:function(){return"poll"===this.pollType?!this.multipleChoice:I["a"].pollTemplates[this.pollType]["single_choice"]}},{key:"translateOptionName",value:function(){return I["a"].pollTemplates[this.pollType]["translate_option_name"]}},{key:"datesAsOptions",value:function(){return I["a"].pollTemplates[this.pollType]["dates_as_options"]}},{key:"removeOrphanOptions",value:function(){var e=this;return this.pollOptions().forEach((function(t){if(!e.pollOptionNames.includes(t.name))return t.remove()}))}}]),n}(me);return e.singular="poll",e.plural="polls",e.indices=["discussionId","authorId","groupId"],e}.call(void 0);function fc(e){return fc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(e)}function hc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vc(e,t,n){return t&&_c(e.prototype,t),n&&_c(e,n),e}function bc(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gc(e,t)}function gc(e,t){return gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gc(e,t)}function yc(e){var t=xc();return function(){var n,o=Cc(e);if(t){var r=Cc(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return kc(this,n)}}function kc(e,t){return!t||"object"!==fc(t)&&"function"!==typeof t?wc(e):t}function wc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Cc(e){return Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cc(e)}var Oc=function(){var e=function(e){bc(n,e);var t=yc(n);function n(){return hc(this,n),t.apply(this,arguments)}return vc(n,[{key:"fetchFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["".concat(e.constructor.singular,"_key")]=e.key,this.search(t)}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({path:"search",params:e})}},{key:"searchResultsCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({path:"search_results_count",params:e})}},{key:"fetchByGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.search(a()(t,{group_key:e}))}}]),n}(Y);return e.prototype.model=mc,e}.call(void 0);function jc(e){return jc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(e)}function Sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ic(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Pc(e,t,n){return t&&Ic(e.prototype,t),n&&Ic(e,n),e}function Tc(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ac(e,t)}function Ac(e,t){return Ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ac(e,t)}function Rc(e){var t=Nc();return function(){var n,o=Ec(e);if(t){var r=Ec(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Vc(this,n)}}function Vc(e,t){return!t||"object"!==jc(t)&&"function"!==typeof t?$c(e):t}function $c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ec(e){return Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ec(e)}var Mc=function(){var e=function(e){Tc(n,e);var t=Rc(n);function n(){return Sc(this,n),t.apply(this,arguments)}return Pc(n,[{key:"relationships",value:function(){return this.belongsTo("poll"),this.hasMany("stanceChoices")}},{key:"stances",value:function(){var e;return e=f()(this.stanceChoices(),"stanceId"),Of.stances.find({id:{$in:e},latest:!0,revokedAt:null})}},{key:"beforeRemove",value:function(){return this.stances().each((function(e){return e.remove()}))}},{key:"optionName",value:function(){return this.poll().translateOptionName()?this.$t("poll_"+this.poll.pollType+"_options."+this.name):this.name}}]),n}(me);return e.singular="pollOption",e.plural="pollOptions",e.indices=["pollId"],e}.call(void 0);function Dc(e){return Dc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(e)}function Lc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qc(e,t)}function qc(e,t){return qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qc(e,t)}function Uc(e){var t=Hc();return function(){var n,o=Gc(e);if(t){var r=Gc(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Bc(this,n)}}function Bc(e,t){return!t||"object"!==Dc(t)&&"function"!==typeof t?zc(e):t}function zc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gc(e)}var Kc,Wc=function(){var e=function(e){Fc(n,e);var t=Uc(n);function n(){return Lc(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=Mc,e}.call(void 0),Yc=n("6bd8"),Qc=n.n(Yc);function Zc(e){return Zc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(e)}function Jc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function el(e,t,n){return t&&Xc(e.prototype,t),n&&Xc(e,n),e}function tl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nl(e,t)}function nl(e,t){return nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nl(e,t)}function ol(e){var t=al();return function(){var n,o=sl(e);if(t){var r=sl(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return rl(this,n)}}function rl(e,t){return!t||"object"!==Zc(t)&&"function"!==typeof t?il(e):t}function il(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function al(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sl(e)}Kc=new Date("2020-08-11");var cl=function(){var e=function(e){tl(n,e);var t=ol(n);function n(){return Jc(this,n),t.apply(this,arguments)}return el(n,[{key:"afterConstruction",value:function(){return tt.apply(this)}},{key:"defaultValues",value:function(){return{reason:"",reasonFormat:"html",files:[],imageFiles:[],attachments:[],linkPreviews:[],revokedAt:null,participantId:null,pollId:null}}},{key:"relationships",value:function(){return this.belongsTo("poll"),this.hasMany("stanceChoices"),this.belongsTo("participant",{from:"users"})}},{key:"edited",value:function(){return this.createdAt>Kc?this.versionsCount>2:this.versionsCount>1}},{key:"participantName",value:function(){return this.participant()?this.participant().nameWithTitle(this.poll().group()):tn["a"].t("common.anonymous")}},{key:"reactions",value:function(){return this.recordStore.reactions.find({reactableId:this.id,reactableType:"Stance"})}},{key:"singleChoice",value:function(){return this.poll().singleChoice()}},{key:"memberIds",value:function(){return this.poll().memberIds()}},{key:"group",value:function(){return this.poll().group()}},{key:"author",value:function(){return this.participant()}},{key:"stanceChoice",value:function(){return Vt()(this.stanceChoices())}},{key:"pollOption",value:function(){if(this.stanceChoice())return this.stanceChoice().pollOption()}},{key:"pollOptionId",value:function(){return(this.pollOption()||{}).id}},{key:"pollOptions",value:function(){return this.recordStore.pollOptions.find(this.pollOptionIds())}},{key:"orderedStanceChoices",value:function(){var e,t;return t="",e="",Z()(function(){switch(this.poll().pollType){case"ranked_choice":return t="rankOrScore",e="asc";case"meeting":return t=function(e){return e.pollOption().name},e="asc";default:return t="rankOrScore",e="desc"}}.call(this)),te()(this.stanceChoices(),t,e)}},{key:"stanceChoiceNames",value:function(){return f()(this.pollOptions(),"name")}},{key:"pollOptionIds",value:function(){return f()(this.stanceChoices(),"pollOptionId")}},{key:"choose",value:function(e){var t=this;return u()(this.recordStore.stanceChoices.find({stanceId:this.id}),(function(e){return e.remove()})),u()(Z()(ki()([e])),(function(e){return t.recordStore.stanceChoices.create({pollOptionId:parseInt(e),stanceId:t.id})})),this}},{key:"votedFor",value:function(e){return $()(f()(this.pollOptions(),"id"),e.id)}},{key:"scoreFor",value:function(e){var t;return t=xi()(this.stanceChoices(),(function(t){return t.pollOptionId===e.id})),t?t.score:0}},{key:"totalScore",value:function(){return Qc()(this.stanceChoices(),"score")}}]),n}(me);return e.singular="stance",e.plural="stances",e.indices=["pollId","latest"],e}.call(void 0);function ll(e){return ll="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(e)}function ul(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dl(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pl(e,t,n){return t&&dl(e.prototype,t),n&&dl(e,n),e}function ml(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fl(e,t)}function fl(e,t){return fl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fl(e,t)}function hl(e){var t=bl();return function(){var n,o=gl(e);if(t){var r=gl(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _l(this,n)}}function _l(e,t){return!t||"object"!==ll(t)&&"function"!==typeof t?vl(e):t}function vl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gl(e){return gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gl(e)}var yl=function(){var e=function(e){ml(n,e);var t=hl(n);function n(){return ul(this,n),t.apply(this,arguments)}return pl(n,[{key:"fetchMyStances",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["group_id"]=e,this.fetch({path:"my_stances",params:t})}},{key:"fetchMyStancesByDiscussion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["discussion_id"]=e,this.fetch({path:"my_stances",params:t})}}]),n}(Y);return e.prototype.model=cl,e}.call(void 0);function kl(e){return kl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(e)}function wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xl(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Cl(e,t,n){return t&&xl(e.prototype,t),n&&xl(e,n),e}function Ol(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jl(e,t)}function jl(e,t){return jl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jl(e,t)}function Sl(e){var t=Tl();return function(){var n,o=Al(e);if(t){var r=Al(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Il(this,n)}}function Il(e,t){return!t||"object"!==kl(t)&&"function"!==typeof t?Pl(e):t}function Pl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Al(e){return Al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Al(e)}var Rl=function(){var e=function(e){Ol(n,e);var t=Sl(n);function n(){return wl(this,n),t.apply(this,arguments)}return Cl(n,[{key:"defaultValues",value:function(){return{score:1}}},{key:"relationships",value:function(){return this.belongsTo("pollOption"),this.belongsTo("stance")}},{key:"poll",value:function(){return this.stance().poll()}},{key:"show",value:function(){return this.score>0||"score"===this.poll().pollType}}]),n}(me);return e.singular="stanceChoice",e.plural="stanceChoices",e.indices=["pollOptionId","stanceId"],e}.call(void 0);function Vl(e){return Vl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(e)}function $l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&El(e,t)}function El(e,t){return El=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},El(e,t)}function Ml(e){var t=Fl();return function(){var n,o=ql(e);if(t){var r=ql(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Dl(this,n)}}function Dl(e,t){return!t||"object"!==Vl(t)&&"function"!==typeof t?Ll(e):t}function Ll(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ql(e){return ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ql(e)}var Ul=function(){var e=function(e){Nl(n,e);var t=Ml(n);function n(){return $l(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=Rl,e}.call(void 0);function Bl(e){return Bl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(e)}function zl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hl(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Gl(e,t,n){return t&&Hl(e.prototype,t),n&&Hl(e,n),e}function Kl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wl(e,t)}function Wl(e,t){return Wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wl(e,t)}function Yl(e){var t=Jl();return function(){var n,o=Xl(e);if(t){var r=Xl(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ql(this,n)}}function Ql(e,t){return!t||"object"!==Bl(t)&&"function"!==typeof t?Zl(e):t}function Zl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Xl(e){return Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xl(e)}var eu=function(){var e=function(e){Kl(n,e);var t=Yl(n);function n(){return zl(this,n),t.apply(this,arguments)}return Gl(n,[{key:"defaultValues",value:function(){return{statement:"",statementFormat:"html",customFields:{},calendarInvite:!1,includeActor:!1,files:[],imageFiles:[],attachments:[],linkPreviews:[],recipientUserIds:[],recipientEmails:[],recipientAudience:null,groupId:null,reviewOn:null}}},{key:"afterConstruction",value:function(){return Ze.apply(this),tt.apply(this)}},{key:"relationships",value:function(){return this.belongsTo("author",{from:"users"}),this.belongsTo("poll"),this.belongsTo("group"),this.belongsTo("pollOption")}},{key:"reactions",value:function(){return this.recordStore.reactions.find({reactableId:this.id,reactableType:He()(this.constructor.singular)})}},{key:"authorName",value:function(){return this.author().nameWithTitle(this.poll().group())}},{key:"members",value:function(){return this.poll().members()}},{key:"membersInclude",value:function(e){return this.poll().membersInclude(e)}},{key:"adminsInclude",value:function(e){return this.poll().adminsInclude(e)}},{key:"memberIds",value:function(){return this.poll().memberIds()}},{key:"announcementSize",value:function(){return this.poll().announcementSize(this.notifyAction())}},{key:"discussion",value:function(){return this.poll().discussion()}},{key:"notifyAction",value:function(){return"publish"}},{key:"bestNamedId",value:function(){return(this.id&&this||this.pollId&&this.poll()||this.groupId&&this.group()||{namedId:function(){}}).namedId()}}]),n}(me);return e.singular="outcome",e.plural="outcomes",e.indices=["pollId","authorId"],e}.call(void 0);function tu(e){return tu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(e)}function nu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ou(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ru(e,t)}function ru(e,t){return ru=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ru(e,t)}function iu(e){var t=cu();return function(){var n,o=lu(e);if(t){var r=lu(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return au(this,n)}}function au(e,t){return!t||"object"!==tu(t)&&"function"!==typeof t?su(e):t}function su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function lu(e){return lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lu(e)}var uu=function(){var e=function(e){ou(n,e);var t=iu(n);function n(){return nu(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=eu,e}.call(void 0);function du(e){return du="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(e)}function pu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mu(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fu(e,t)}function fu(e,t){return fu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fu(e,t)}function hu(e){var t=bu();return function(){var n,o=gu(e);if(t){var r=gu(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _u(this,n)}}function _u(e,t){return!t||"object"!==du(t)&&"function"!==typeof t?vu(e):t}function vu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gu(e){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gu(e)}var yu=function(){var e=function(e){mu(n,e);var t=hu(n);function n(){return pu(this,n),t.apply(this,arguments)}return n}(me);return e.singular="contactMessage",e.plural="contactMessages",e.serializableAttributes=["email","subject","user_id","message","name"],e}.call(void 0);function ku(e){return ku="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(e)}function wu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xu(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cu(e,t)}function Cu(e,t){return Cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cu(e,t)}function Ou(e){var t=Iu();return function(){var n,o=Pu(e);if(t){var r=Pu(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ju(this,n)}}function ju(e,t){return!t||"object"!==ku(t)&&"function"!==typeof t?Su(e):t}function Su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pu(e)}var Tu=function(){var e=function(e){xu(n,e);var t=Ou(n);function n(){return wu(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=yu,e}.call(void 0);function Au(e){return Au="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(e)}function Ru(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vu(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $u(e,t,n){return t&&Vu(e.prototype,t),n&&Vu(e,n),e}function Nu(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}function Eu(e,t){return Eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Eu(e,t)}function Mu(e){var t=Fu();return function(){var n,o=qu(e);if(t){var r=qu(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Du(this,n)}}function Du(e,t){return!t||"object"!==Au(t)&&"function"!==typeof t?Lu(e):t}function Lu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qu(e)}var Uu=function(){var e=function(e){Nu(n,e);var t=Mu(n);function n(){return Ru(this,n),t.apply(this,arguments)}return $u(n,[{key:"relationships",value:function(){return this.belongsTo("user")}},{key:"model",value:function(){return this.recordStore["".concat(this.reactableType.toLowerCase(),"s")].find(this.reactableId)}}]),n}(me);return e.singular="reaction",e.plural="reactions",e.indices=["userId","reactableId"],e}.call(void 0);function Bu(e){return Bu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(e)}function zu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hu(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gu(e,t)}function Gu(e,t){return Gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gu(e,t)}function Ku(e){var t=Qu();return function(){var n,o=Zu(e);if(t){var r=Zu(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Wu(this,n)}}function Wu(e,t){return!t||"object"!==Bu(t)&&"function"!==typeof t?Yu(e):t}function Yu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zu(e)}var Ju=function(){var e=function(e){Hu(n,e);var t=Ku(n);function n(){return zu(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=Uu,e}.call(void 0);function Xu(e){return Xu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(e)}function ed(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function td(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nd(e,t,n){return t&&td(e.prototype,t),n&&td(e,n),e}function od(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rd(e,t)}function rd(e,t){return rd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rd(e,t)}function id(e){var t=cd();return function(){var n,o=ld(e);if(t){var r=ld(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ad(this,n)}}function ad(e,t){return!t||"object"!==Xu(t)&&"function"!==typeof t?sd(e):t}function sd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cd(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ld(e){return ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ld(e)}var ud=function(){var e=function(e){od(n,e);var t=id(n);function n(){return ed(this,n),t.apply(this,arguments)}return nd(n,[{key:"defaultValues",value:function(){return{message:""}}}]),n}(me);return e.singular="contactRequest",e.plural="contactRequests",e}.call(void 0);function dd(e){return dd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(e)}function pd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function md(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fd(e,t)}function fd(e,t){return fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fd(e,t)}function hd(e){var t=bd();return function(){var n,o=gd(e);if(t){var r=gd(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _d(this,n)}}function _d(e,t){return!t||"object"!==dd(t)&&"function"!==typeof t?vd(e):t}function vd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bd(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gd(e)}var yd=function(){var e=function(e){md(n,e);var t=hd(n);function n(){return pd(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=ud,e}.call(void 0);function kd(e){return kd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(e)}function wd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xd(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Cd(e,t,n){return t&&xd(e.prototype,t),n&&xd(e,n),e}function Od(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jd(e,t)}function jd(e,t){return jd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jd(e,t)}function Sd(e){var t=Td();return function(){var n,o=Ad(e);if(t){var r=Ad(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Id(this,n)}}function Id(e,t){return!t||"object"!==kd(t)&&"function"!==typeof t?Pd(e):t}function Pd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Td(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ad(e)}var Rd=function(){var e=function(e){Od(n,e);var t=Sd(n);function n(){return wd(this,n),t.apply(this,arguments)}return Cd(n,[{key:"relationships",value:function(){return this.belongsTo("author",{from:"users",by:"authorId"}),this.belongsTo("group")}},{key:"model",value:function(){return this.recordStore["".concat(this.modelType.toLowerCase(),"s")].find(this.modelId)}},{key:"modelTitle",value:function(){switch(this.modelType){case"Group":return this.model().name;case"Discussion":return this.model().title;case"Outcome":return this.model().poll().title;case"Comment":return this.model().discussion().title;case"Poll":return this.model().title}}},{key:"authorName",value:function(){if(this.author())return this.author().nameWithTitle(this.model().group())}},{key:"isAnImage",value:function(){return"image"===this.icon}}]),n}(me);return e.singular="document",e.plural="documents",e.indices=["modelId","authorId"],e}.call(void 0);function Vd(e){return Vd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(e)}function $d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ed(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Md(e,t,n){return t&&Ed(e.prototype,t),n&&Ed(e,n),e}function Dd(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ld(e,t)}function Ld(e,t){return Ld=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ld(e,t)}function Fd(e){var t=Bd();return function(){var n,o=zd(e);if(t){var r=zd(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return qd(this,n)}}function qd(e,t){return!t||"object"!==Vd(t)&&"function"!==typeof t?Ud(e):t}function Ud(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bd(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zd(e)}var Hd=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},Gd=function(){var e=function(e){Dd(n,e);var t=Fd(n);function n(){var e;return Nd(this,n),e=t.apply(this,arguments),e.upload=e.upload.bind(Ud(e)),e}return Md(n,[{key:"fetchByModel",value:function(e){return this.fetch({params:$d({},"".concat(e.constructor.singular,"_id"),e.id)})}},{key:"fetchByGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null!=t&&(n.q=t),n.group_key=e.key,this.fetch({path:"for_group",params:n})}},{key:"fetchByDiscussion",value:function(e){return this.fetch({path:"for_discussion",params:{discussion_key:e.key}})}},{key:"buildFromModel",value:function(e){return this.build({modelId:e.id,modelType:He()(e.constructor.singular)})}},{key:"upload",value:function(e,t){return Hd(this,n),this.remote.upload("",e,{fileField:"document[file]",filenameField:"document[title]"},t)}},{key:"abort",value:function(){return this.remote.abort()}}]),n}(Y);return e.prototype.model=Rd,e}.call(void 0);function Kd(e){return Kd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(e)}function Wd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yd(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qd(e,t,n){return t&&Yd(e.prototype,t),n&&Yd(e,n),e}function Zd(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jd(e,t)}function Jd(e,t){return Jd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jd(e,t)}function Xd(e){var t=np();return function(){var n,o=op(e);if(t){var r=op(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ep(this,n)}}function ep(e,t){return!t||"object"!==Kd(t)&&"function"!==typeof t?tp(e):t}function tp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function np(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},op(e)}var rp=function(){var e=function(e){Zd(n,e);var t=Xd(n);function n(){return Wd(this,n),t.apply(this,arguments)}return Qd(n,[{key:"model",value:function(){return this.recordStore[this.constructor.eventTypeMap[this.recordType]].find(this.recordId)}},{key:"group",value:function(){return this.model().group()}},{key:"relationships",value:function(){return this.belongsTo("author",{from:"users"})}},{key:"isAnImage",value:function(){return"image"===this.icon}}]),n}(me);return e.singular="attachment",e.plural="attachments",e.indices=["recordType","recordId"],e.eventTypeMap={Group:"groups",Discussion:"discussions",Poll:"polls",Outcome:"outcomes",Stance:"stances",Comment:"comments",CommentVote:"comments",Membership:"memberships",MembershipRequest:"membershipRequests"},e}.call(void 0);function ip(e){return ip="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(e)}function ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sp(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cp(e,t)}function cp(e,t){return cp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cp(e,t)}function lp(e){var t=pp();return function(){var n,o=mp(e);if(t){var r=mp(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return up(this,n)}}function up(e,t){return!t||"object"!==ip(t)&&"function"!==typeof t?dp(e):t}function dp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pp(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mp(e)}var fp=function(){var e=function(e){sp(n,e);var t=lp(n);function n(){return ap(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=rp,e}.call(void 0);function hp(e){return hp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(e)}function _p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function bp(e,t,n){return t&&vp(e.prototype,t),n&&vp(e,n),e}function gp(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yp(e,t)}function yp(e,t){return yp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yp(e,t)}function kp(e){var t=Cp();return function(){var n,o=Op(e);if(t){var r=Op(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return wp(this,n)}}function wp(e,t){return!t||"object"!==hp(t)&&"function"!==typeof t?xp(e):t}function xp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cp(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Op(e)}var jp=function(){var e=function(e){gp(n,e);var t=kp(n);function n(){return _p(this,n),t.apply(this,arguments)}return bp(n,[{key:"fetchToken",value:function(e){return this.remote.post("",{email:e})}}]),n}(Y);return e.prototype.model={singular:"login_token",plural:"login_tokens"},e}.call(void 0);function Sp(e){return Sp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(e)}function Ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pp(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tp(e,t)}function Tp(e,t){return Tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tp(e,t)}function Ap(e){var t=$p();return function(){var n,o=Np(e);if(t){var r=Np(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Rp(this,n)}}function Rp(e,t){return!t||"object"!==Sp(t)&&"function"!==typeof t?Vp(e):t}function Vp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Np(e){return Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Np(e)}var Ep,Mp=function(){var e=function(e){Pp(n,e);var t=Ap(n);function n(){return Ip(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.apiEndpoint="message_channel",e.prototype.model={singular:"message_channel",plural:"message_channel"},e}.call(void 0),Dp=n("fcf4");function Lp(e){return Lp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(e)}function Fp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qp(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Up(e,t,n){return t&&qp(e.prototype,t),n&&qp(e,n),e}function Bp(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zp(e,t)}function zp(e,t){return zp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zp(e,t)}function Hp(e){var t=Wp();return function(){var n,o=Yp(e);if(t){var r=Yp(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Gp(this,n)}}function Gp(e,t){return!t||"object"!==Lp(t)&&"function"!==typeof t?Kp(e):t}function Kp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wp(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yp(e)}Ep=Object.keys(Dp["a"]).filter((function(e){return"shades"!==e})).map((function(e){return Dp["a"][e]["base"]}));var Qp=function(){var e=function(e){Bp(n,e);var t=Hp(n);function n(){return Fp(this,n),t.apply(this,arguments)}return Up(n,[{key:"defaultValues",value:function(){return{color:Ep[Math.floor(Math.random()*Ep.length)]}}},{key:"relationships",value:function(){return this.belongsTo("group")}}]),n}(me);return e.singular="tag",e.plural="tags",e.uniqueIndices=["id"],e.indices=["groupId"],e.serializableAttributes=["groupId","color","name"],e.colors=Ep,e}.call(void 0);function Zp(e){return Zp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(e)}function Jp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xp(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&em(e,t)}function em(e,t){return em=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},em(e,t)}function tm(e){var t=rm();return function(){var n,o=im(e);if(t){var r=im(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return nm(this,n)}}function nm(e,t){return!t||"object"!==Zp(t)&&"function"!==typeof t?om(e):t}function om(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function im(e){return im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},im(e)}var am=function(){var e=function(e){Xp(n,e);var t=tm(n);function n(){return Jp(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=Qp,e}.call(void 0);function sm(e){return sm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(e)}function cm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lm(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function um(e,t,n){return t&&lm(e.prototype,t),n&&lm(e,n),e}function dm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pm(e,t)}function pm(e,t){return pm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pm(e,t)}function mm(e){var t=_m();return function(){var n,o=vm(e);if(t){var r=vm(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return fm(this,n)}}function fm(e,t){return!t||"object"!==sm(t)&&"function"!==typeof t?hm(e):t}function hm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function vm(e){return vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vm(e)}var bm=function(){var e=function(e){dm(n,e);var t=mm(n);function n(){return cm(this,n),t.apply(this,arguments)}return um(n,[{key:"relationships",value:function(){return this.belongsToPolymorphic("record")}},{key:"toggleDone",value:function(){return this.done?this.remote.postMember(this.id,"mark_as_not_done"):this.remote.postMember(this.id,"mark_as_done")}}]),n}(me);return e.singular="task",e.plural="tasks",e.uniqueIndices=["id"],e.indices=["authorId"],e}.call(void 0);function gm(e){return gm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(e)}function ym(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function km(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wm(e,t)}function wm(e,t){return wm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wm(e,t)}function xm(e){var t=jm();return function(){var n,o=Sm(e);if(t){var r=Sm(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Cm(this,n)}}function Cm(e,t){return!t||"object"!==gm(t)&&"function"!==typeof t?Om(e):t}function Om(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sm(e)}var Im=function(){var e=function(e){km(n,e);var t=xm(n);function n(){return ym(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=bm,e}.call(void 0);function Pm(e){return Pm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(e)}function Tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Am(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Rm(e,t,n){return t&&Am(e.prototype,t),n&&Am(e,n),e}function Vm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$m(e,t)}function $m(e,t){return $m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$m(e,t)}function Nm(e){var t=Dm();return function(){var n,o=Lm(e);if(t){var r=Lm(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Em(this,n)}}function Em(e,t){return!t||"object"!==Pm(t)&&"function"!==typeof t?Mm(e):t}function Mm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Lm(e){return Lm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lm(e)}var Fm=function(){var e=function(e){Vm(n,e);var t=Nm(n);function n(){return Tm(this,n),t.apply(this,arguments)}return Rm(n,[{key:"relationships",value:function(){return this.belongsTo("group")}}]),n}(me);return e.singular="samlProvider",e.plural="samlProviders",e.uniqueIndices=["id"],e.indices=["groupId"],e.serializableAttributes=["groupId","idpMetadataUrl"],e}.call(void 0),qm=n("66ef");function Um(e){return Um="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(e)}function Bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zm(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Hm(e,t,n){return t&&zm(e.prototype,t),n&&zm(e,n),e}function Gm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Km(e,t)}function Km(e,t){return Km=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Km(e,t)}function Wm(e){var t=Zm();return function(){var n,o=Jm(e);if(t){var r=Jm(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ym(this,n)}}function Ym(e,t){return!t||"object"!==Um(t)&&"function"!==typeof t?Qm(e):t}function Qm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Jm(e){return Jm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jm(e)}var Xm=function(){var e=function(e){Gm(n,e);var t=Wm(n);function n(){return Bm(this,n),t.apply(this,arguments)}return Hm(n,[{key:"authenticateForGroup",value:function(e){if(I["a"].features.app.group_sso)return fetch("/saml_providers/should_auth?group_id=".concat(e)).then((function(t){return t.json().then((function(t){if(t)return en["a"].$emit("closeModal"),qm["a"].success("configure_sso.redirecting"),window.location="/saml_providers/auth?group_id=".concat(e)}))}))}},{key:"authenticateForDiscussion",value:function(e){if(I["a"].features.app.group_sso)return fetch("/saml_providers/should_auth?discussion_id=".concat(e)).then((function(t){return t.json().then((function(t){if(t&&(en["a"].$emit("closeModal"),qm["a"].success("configure_sso.redirecting"),t))return window.location="/saml_providers/auth?discussion_id=".concat(e)}))}))}}]),n}(Y);return e.prototype.model=Fm,e}.call(void 0);function ef(e){return ef="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(e)}function tf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nf(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function of(e,t,n){return t&&nf(e.prototype,t),n&&nf(e,n),e}function rf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&af(e,t)}function af(e,t){return af=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},af(e,t)}function sf(e){var t=uf();return function(){var n,o=df(e);if(t){var r=df(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return cf(this,n)}}function cf(e,t){return!t||"object"!==ef(t)&&"function"!==typeof t?lf(e):t}function lf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uf(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},df(e)}var pf=function(){var e=function(e){rf(n,e);var t=sf(n);function n(){return tf(this,n),t.apply(this,arguments)}return of(n,[{key:"defaultValues",value:function(){return{name:null,url:null,format:"markdown",eventKinds:[],permissions:[],includeBody:!1,errors:{}}}},{key:"relationships",value:function(){return this.belongsTo("group")}}]),n}(me);return e.singular="webhook",e.plural="webhooks",e}.call(void 0);function mf(e){return mf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(e)}function ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_f(e,t)}function _f(e,t){return _f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_f(e,t)}function vf(e){var t=yf();return function(){var n,o=kf(e);if(t){var r=kf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return bf(this,n)}}function bf(e,t){return!t||"object"!==mf(t)&&"function"!==typeof t?gf(e):t}function gf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yf(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kf(e)}var wf,xf,Cf=function(){var e=function(e){hf(n,e);var t=vf(n);function n(){return ff(this,n),t.apply(this,arguments)}return n}(Y);return e.prototype.model=pf,e}.call(void 0);wf=new R("default.db"),xf=new S(wf),xf.addRecordsInterface(qe),xf.addRecordsInterface(Ot),xf.addRecordsInterface(wn),xf.addRecordsInterface(zn),xf.addRecordsInterface(bo),xf.addRecordsInterface(Bo),xf.addRecordsInterface(fr),xf.addRecordsInterface(Dr),xf.addRecordsInterface(mi),xf.addRecordsInterface(Yi),xf.addRecordsInterface(ha),xf.addRecordsInterface(Fa),xf.addRecordsInterface(cs),xf.addRecordsInterface(Is),xf.addRecordsInterface(Ws),xf.addRecordsInterface(Oc),xf.addRecordsInterface(Wc),xf.addRecordsInterface(yl),xf.addRecordsInterface(Ul),xf.addRecordsInterface(uu),xf.addRecordsInterface(Tu),xf.addRecordsInterface(Ju),xf.addRecordsInterface(yd),xf.addRecordsInterface(Gd),xf.addRecordsInterface(fp),xf.addRecordsInterface(jp),xf.addRecordsInterface(Mp),xf.addRecordsInterface(am),xf.addRecordsInterface(Im),xf.addRecordsInterface(Xm),xf.addRecordsInterface(Cf),I["a"].records=xf;var Of=t["a"]=xf},cfc9:function(e,t,n){"use strict";n("dcd3")},d019:function(e,t,n){"use strict";n("850e")},d0d1:function(e,t,n){"use strict";n("4458")},d180d:function(e,t,n){},d26c:function(e,t,n){"use strict";n("d180d")},d381:function(e,t,n){},d6b2:function(e,t,n){},d9ac:function(e,t,n){"use strict";n("39f6")},daaf:function(e,t,n){"use strict";n("5c9b")},dad2:function(e,t,n){"use strict";n("065c")},dcd3:function(e,t,n){},de89:function(e,t,n){"use strict";n("3ae9")},e00b:function(e,t,n){},e36f:function(e,t,n){},e40c:function(e,t,n){},e751:function(e,t,n){},e89d:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canPerformAny?n("div",{staticClass:"action-menu lmo-no-print"},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"action-menu--btn",attrs:{"aria-label":e.$t("action_dock.more_actions"),icon:"",small:""},on:{click:function(e){e.preventDefault()}}},"v-btn",r,!1),o),[n("v-icon",[e._v("mdi-dots-horizontal")])],1)]}}],null,!1,3554790566)},[n("v-list",e._l(e.actions,(function(t,o){return t.canPerform()?n("v-list-item",{key:o,class:"action-dock__button--"+o,on:{click:function(e){return t.perform()}}},[n("v-list-item-title",{directives:[{name:"t",rawName:"v-t",value:{path:t.name||"action_dock."+o,args:t.nameArgs&&t.nameArgs()},expression:"{path: (action.name || 'action_dock.'+name), args: (action.nameArgs && action.nameArgs()) }"}]})],1):e._e()})),1)],1)],1):e._e()},r=[],i=n("3092"),a=n.n(i),s={props:{actions:Object},computed:{canPerformAny:function(){return a()(this.actions,(function(e){return e.canPerform()}))}}},c=s,l=n("2877"),u=n("6544"),d=n.n(u),p=n("8336"),m=n("132d"),f=n("8860"),h=n("da13"),_=n("5d23"),v=n("e449"),b=Object(l["a"])(c,o,r,!1,null,null,null);t["a"]=b.exports;d()(b,{VBtn:p["a"],VIcon:m["a"],VList:f["a"],VListItem:h["a"],VListItemTitle:_["c"],VMenu:v["a"]})},e9c9:function(e,t,n){"use strict";n("4c74")},ed37:function(e,t,n){"use strict";n("05a5")},ef8e:function(e,t,n){},f275:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lmo-validation-error"},[e.subject.errors[e.field]?n("div",{staticClass:"lmo-validation-error__message error--text caption",attrs:{for:"field + '-error'"}},[n("span",{attrs:{role:"status","aria-live":"polite"}},[e._v(e._s(e.subject.errors[e.field].join(", ")))])]):e._e()])},r=[],i={props:{subject:Object,field:String}},a=i,s=(n("9c9b"),n("2877")),c=Object(s["a"])(a,o,r,!1,null,null,null);t["a"]=c.exports},f2e1:function(e,t,n){"use strict";var o=n("6062"),r=n("cd6d"),i=(n("66ef"),n("65c3"),n("9953")),a=n("44e4"),s=n("17b9"),c=n("f4a7"),l=n("5a68");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}t["a"]=new(function(){function e(){u(this,e)}return p(e,[{key:"actions",value:function(e,t){return{show_results:{name:"poll_common_card.show_results",canPerform:function(){return!e.discardedAt&&e.closingAt&&!e.hideResultsUntilClosed&&!e.showResults()},perform:function(){return e.pleaseShowResults=!0}},hide_results:{name:"poll_common_card.hide_results",canPerform:function(){return!e.discardedAt&&e.showResults()&&!e.closedAt&&!e.iHaveVoted()},perform:function(){return e.pleaseShowResults=!1}},edit_stance:{name:"poll_common.change_vote",icon:"mdi-pencil",canPerform:function(){return e.isActive()&&o["a"].user()&&e.iHaveVoted()},perform:function(){return Object(s["a"])({component:"PollCommonEditVoteModal",maxWidth:720,props:{stance:e.myStance().clone()}})}},notification_history:{name:"action_dock.show_notifications",icon:"mdi-alarm-check",perform:function(){return Object(s["a"])({component:"AnnouncementHistory",props:{model:e}})},canPerform:function(){return!e.discardedAt}},announce_poll:{icon:"mdi-send",name:"common.action.invite",canPerform:function(){return!e.discardedAt&&!e.closedAt&&(e.adminsInclude(o["a"].user())||!e.specifiedVotersOnly&&(e.group().membersCanAddGuests||e.group().membersCanAnnounce)&&e.membersInclude(o["a"].user()))},perform:function(){return Object(s["a"])({component:"PollMembers",props:{poll:e}})}},remind_poll:{icon:"mdi-send",name:"common.action.remind",canPerform:function(){return!(e.discardedAt||e.closedAt||e.votersCount<2)&&(e.adminsInclude(o["a"].user())||!e.specifiedVotersOnly&&(e.group().membersCanAddGuests||e.group().membersCanAnnounce)&&e.membersInclude(o["a"].user()))},perform:function(){return Object(s["a"])({component:"PollReminderForm",props:{poll:e.clone()}})}},edit_poll:{name:"action_dock.edit_poll_type",nameArgs:function(){return{pollType:e.translatedPollType()}},icon:"mdi-pencil",canPerform:function(){return i["a"].canEditPoll(e)},to:function(){return"/p/".concat(e.key,"/edit")},perform:function(){return Object(s["a"])({component:"PollCommonModal",props:{poll:e.clone()}})}},edit_tags:{icon:"mdi-tag-outline",name:"loomio_tags.card_title",canPerform:function(){return i["a"].canEditPoll(e)},perform:function(){return Object(s["a"])({component:"TagsSelect",props:{model:e.clone()}})}},move_poll:{name:"common.action.move",icon:"mdi-folder-swap-outline",canPerform:function(){return i["a"].canMovePoll(e)},perform:function(){return Object(s["a"])({component:"PollCommonMoveForm",props:{poll:e.clone()}})}},show_history:{icon:"mdi-history",name:"action_dock.show_edits",canPerform:function(){return!e.discardedAt&&e.edited()},perform:function(){return Object(s["a"])({component:"RevisionHistoryModal",props:{model:e}})}},translate_poll:{icon:"mdi-translate",name:"common.action.translate",menu:!0,canPerform:function(){return i["a"].canTranslate(e)},perform:function(){return o["a"].user()&&e.translate(o["a"].user().locale)}},close_poll:{icon:"mdi-close-circle-outline",name:"poll_common.close_poll_type",nameArgs:function(){return{pollType:e.translatedPollType()}},canPerform:function(){return i["a"].canClosePoll(e)},perform:function(){return Object(s["a"])({component:"ConfirmModal",props:{confirm:{submit:function(){return e.close()},successCallback:function(){return Object(s["a"])({component:"PollCommonOutcomeModal",props:{outcome:r["a"].outcomes.build({groupId:e.groupId,pollId:e.id,statementFormat:o["a"].defaultFormat()})}})},text:{title:"poll_common_close_form.title",raw_helptext:c["a"].t("poll_common_close_form.helptext",{poll_type:c["a"].t(e.pollTypeKey())}),confirm:"poll_common_close_form.close_poll",flash:"poll_common_close_form.poll_closed"}}}})}},reopen_poll:{icon:"mdi-refresh",name:"common.action.reopen",canPerform:function(){return i["a"].canReopenPoll(e)},perform:function(){return Object(s["a"])({component:"PollCommonReopenModal",props:{poll:e}})}},export_poll:{name:"common.action.export",canPerform:function(){return i["a"].canExportPoll(e)},perform:function(){return Object(l["a"])(a["a"].poll(e,{export:1},{action:"export",ext:"csv",absolute:!0}))}},print_poll:{name:"common.action.print",canPerform:function(){return i["a"].canExportPoll(e)},perform:function(){return Object(l["a"])(a["a"].poll(e,{export:1},{action:"export",ext:"html",absolute:!0}))}},delete_poll:{name:"common.action.delete",canPerform:function(){return i["a"].canDeletePoll(e)},perform:function(){return Object(s["a"])({component:"ConfirmModal",props:{confirm:{submit:function(){return e.destroy()},text:{title:"poll_common_delete_modal.title",confirm:"poll_common_delete_modal.question",flash:"poll_common_delete_modal.success"}}}})}},discard_poll:{name:"common.action.delete",canPerform:function(){return i["a"].canDeletePoll(e)},perform:function(){return Object(s["a"])({component:"ConfirmModal",props:{confirm:{submit:function(){return e.discard()},text:{raw_title:c["a"].t("poll_common_delete_modal.title",{pollType:c["a"].t(e.pollTypeKey())}),helptext:"poll_common_delete_modal.question",flash:"poll_common_delete_modal.success"}}}})}},add_poll_to_thread:{name:"action_dock.add_poll_to_thread",canPerform:function(){return i["a"].canAddPollToThread(e)},perform:function(){return Object(s["a"])({component:"AddPollToThreadModal",props:{poll:e}})}}}}}]),e}())},f3d4:function(e,t,n){},f4048:function(e,t){},f4a7:function(e,t,n){"use strict";var o,r=n("2b0e"),i=n("a925"),a=n("b909");r["a"].use(i["a"]),o=new i["a"]({locale:"en",fallbackLocale:"en",messages:{en:a["en"]},silentTranslationWarn:!0}),r["a"].prototype.$lt=function(e){var t,n;return"string"===typeof e?this.$t(e):(n=e.path,e.locale,t=e.args,e.choice,this.$t(n,t))},t["a"]=o},f55c:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("abbr",{staticClass:"time-ago text--secondary",attrs:{"aria-label":e.$t(e.approximateDate(e.parsedDate)),title:e.exactDate(e.parsedDate)}},[e._v(e._s(e.approximateDate(e.parsedDate)))])},r=[],i=n("e2a0"),a=n.n(i),s=(n("4116"),n("e3ee")),c={props:{date:[Date,String]},data:function(){return{parsedDate:null}},created:function(){return a()(this.date)?this.parsedDate=Object(s["a"])(this.date):this.parsedDate=this.date}},l=c,u=(n("2240"),n("2877")),d=Object(u["a"])(l,o,r,!1,null,null,null);t["a"]=d.exports},f677:function(e,t,n){"use strict";n("ef8e")},f679:function(e,t,n){},f6e3:function(e,t,n){},f829:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"poll-meeting-time"},[e._v(e._s(e.time))])},r=[],i=n("4116"),a=n("e3ee"),s={props:{name:String,zone:String},computed:{time:function(){return Object(i["b"])(Object(a["a"])(this.name),this.zone)}}},c=s,l=(n("d26c"),n("2877")),u=Object(l["a"])(c,o,r,!1,null,null,null);t["a"]=u.exports},f98e:function(e,t,n){"use strict";var o=n("cd9d"),r=n.n(o),i=n("2768"),a=n.n(i),s=n("77c1"),c=n.n(s),l=n("95ae"),u=n.n(l),d=n("e2a0"),p=n.n(d),m=n("c228"),f=n.n(m),h=n("efdf"),_=n.n(h),v=n("dd65"),b=n.n(v),g=n("c963");function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}t["a"]=function(){var e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;y(this,e),this.defaultParams.unsubscribe_token=new URLSearchParams(location.search).get("unsubscribe_token"),this.defaultParams.membership_token=new URLSearchParams(location.search).get("membership_token"),this.defaultParams.stance_token=new URLSearchParams(location.search).get("stance_token"),this.defaultParams.discussion_reader_token=new URLSearchParams(location.search).get("discussion_reader_token"),this.defaultParams=b()(this.defaultParams,a.a),this.processing=[],t&&(this.resourcePlural=_()(t))}return w(e,[{key:"onPrepare",value:function(e){return e}},{key:"onCleanup",value:function(e){return e}},{key:"onSuccess",value:function(e){return e}},{key:"onFailure",value:function(e){throw e}},{key:"onUploadSuccess",value:function(e){return e}},{key:"buildUrl",value:function(e,t){return e=f()([this.apiPrefix,this.resourcePlural,e]).join("/"),null==t?e:e+"?"+Object(g["a"])(t)}},{key:"memberPath",value:function(e,t){return f()([e,t]).join("/")}},{key:"fetchById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getMember(e,"",t)}},{key:"fetch",value:function(e){var t=e.params,n=e.path;return this.get(n||"",t)}},{key:"post",value:function(e,t){return this.request(this.buildUrl(e),"POST",this.paramsFor(t))}},{key:"patch",value:function(e,t){return this.request(this.buildUrl(e),"PATCH",this.paramsFor(t))}},{key:"delete",value:function(e,t){return this.request(this.buildUrl(e),"DELETE",this.paramsFor(t))}},{key:"get",value:function(e,t){return this.request(this.buildUrl(e,this.paramsFor(t)),"GET")}},{key:"request",value:function(e,t){var n,o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n={method:t,credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},"GET"===t&&delete n.body,this.onPrepare(),fetch(e,n).then((function(e){return e.ok?o.onSuccess(e):o.onFailure(e)}),(function(e){return o.onFailure(e)})).finally(this.onCleanup)}},{key:"postMember",value:function(e,t,n){return this.post(this.memberPath(e,t),n)}},{key:"patchMember",value:function(e,t,n){return this.patch(this.memberPath(e,t),n)}},{key:"getMember",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return this.get(this.memberPath(e,t),n)}},{key:"create",value:function(e){return this.post("",e)}},{key:"update",value:function(e,t){return this.patch(e,t)}},{key:"destroy",value:function(e,t){return this.delete(e,t)}},{key:"discard",value:function(e,t){return this.delete(e+"/discard",t)}},{key:"undiscard",value:function(e,t){return this.post(e+"/undiscard",t)}},{key:"upload",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(t)return new Promise((function(i,a){var s;return s=new FormData,s.append(o.fileField||"file",t),s.append(o.filenameField||"filename",t.name.replace(/[^a-z0-9_\-\.]/gi,"_")),n.currentUpload=new XMLHttpRequest,n.currentUpload.open("POST",n.buildUrl(e),!0),n.currentUpload.responseType="json",n.currentUpload.addEventListener("load",(function(){if(n.currentUpload.status>=200&&n.currentUpload.status<300)return p()(n.currentUpload.response)&&(n.currentUpload.response=JSON.parse(n.currentUpload.response)),n.onUploadSuccess(n.currentUpload.response),i(n.currentUpload.response),n.currentUpload=null})),r&&n.currentUpload.upload.addEventListener("progress",r),n.currentUpload.addEventListener("error",a),n.currentUpload.addEventListener("abort",a),n.currentUpload.send(s)}))}},{key:"abort",value:function(){if(this.currentUpload)return this.currentUpload.abort()}},{key:"paramsFor",value:function(e){return u()({},this.defaultParams,c()(e,r.a))}}]),e}();return e.prototype.defaultParams={},e.prototype.currentUpload=null,e.prototype.apiPrefix="/api/v1",e}.call(void 0)},fa1f:function(e,t,n){},fa83:function(e,t,n){"use strict";n("978a")},fb21:function(e,t,n){},fbb1:function(e,t,n){"use strict";n("f3d4")},fe39:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("span",{attrs:{"aria-hidden":"true"}},[e._v("")]),e._t("default")],2)},r=[],i=n("2877"),a={},s=Object(i["a"])(a,o,r,!1,null,null,null);t["a"]=s.exports},fe92:function(e,t,n){"use strict";n("034b")}});
//# sourceMappingURL=app.39928040.js.map